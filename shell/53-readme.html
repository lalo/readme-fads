<div class="announce instapaper_body markdown" data-path="README.markdown" id="readme"><article class="markdown-body entry-content" itemprop="mainContentOfPage"><h1>
<a name="user-content-scm-breeze-" class="anchor" href="#scm-breeze-" aria-hidden="true"><span class="octicon octicon-link"></span></a>SCM Breeze <a href="http://travis-ci.org/ndbroadbent/scm_breeze"><img src="https://camo.githubusercontent.com/275d012fc276a8a51a697ba7dea85502092bcfc0/68747470733a2f2f7365637572652e7472617669732d63692e6f72672f6e6462726f616462656e742f73636d5f627265657a652e706e673f6272616e63683d6d6173746572" alt="TravisCI" data-canonical-src="https://secure.travis-ci.org/ndbroadbent/scm_breeze.png?branch=master" style="max-width:100%;"></a>
</h1>

<h3>
<a name="user-content-streamline-your-scm-workflow" class="anchor" href="#streamline-your-scm-workflow" aria-hidden="true"><span class="octicon octicon-link"></span></a>Streamline your SCM workflow.</h3>

<p><strong>SCM Breeze</strong> is a set of shell scripts (for <code>bash</code> and <code>zsh</code>) that enhance your interaction with git. It integrates with your shell to give you numbered file shortcuts,
a repository index with tab completion, and many other useful features.</p>

<hr><h2>
<a name="user-content-demo-video" class="anchor" href="#demo-video" aria-hidden="true"><span class="octicon octicon-link"></span></a>Demo video</h2>

<p></p><a href="http://www.youtube.com/watch?v=iKdp6uBfrvc" target="_blank"><img src="https://camo.githubusercontent.com/6604cbaf55f54dfb60a42dae563612ab91c0e1d8/687474703a2f2f692e696d6775722e636f6d2f6c376147472e706e67" data-canonical-src="http://i.imgur.com/l7aGG.png" style="max-width:100%;"></a>

<hr><h2>
<a name="user-content-file-shortcuts" class="anchor" href="#file-shortcuts" aria-hidden="true"><span class="octicon octicon-link"></span></a>File Shortcuts</h2>

<p>SCM Breeze makes it really easy to work with changed files, and groups of changed files.
Whenever you view your SCM status, each modified path is stored in a numbered environment variable.
You can configure the variable prefix, which is 'e' by default.</p>

<h3>
<a name="user-content-git-status-shortcuts" class="anchor" href="#git-status-shortcuts" aria-hidden="true"><span class="octicon octicon-link"></span></a>Git Status Shortcuts:</h3>

<div>
<a href="https://camo.githubusercontent.com/8406e0f027d5631b71704d106352a545cee0ed23/687474703a2f2f6d61646562796e617468616e2e636f6d2f696d616765732f706f7374732f323031312f31302f7374617475735f776974685f73686f7274637574732d726573697a65642d706f73742e706e67" target="_blank"><img src="https://camo.githubusercontent.com/8406e0f027d5631b71704d106352a545cee0ed23/687474703a2f2f6d61646562796e617468616e2e636f6d2f696d616765732f706f7374732f323031312f31302f7374617475735f776974685f73686f7274637574732d726573697a65642d706f73742e706e67" width="590" alt="Git Status With Shortcuts" data-canonical-src="http://madebynathan.com/images/posts/2011/10/status_with_shortcuts-resized-post.png" style="max-width:100%;"></a>
</div>

<p><br></p>

<h3>
<a name="user-content-ls-shortcuts" class="anchor" href="#ls-shortcuts" aria-hidden="true"><span class="octicon octicon-link"></span></a>'ls' shortcuts:</h3>

<div>
<a href="https://camo.githubusercontent.com/97bb1f191d1c6aa5548043fdb5df8a5d52f995f5/687474703a2f2f692e696d6775722e636f6d2f37324745312e706e67" target="_blank"><img src="https://camo.githubusercontent.com/97bb1f191d1c6aa5548043fdb5df8a5d52f995f5/687474703a2f2f692e696d6775722e636f6d2f37324745312e706e67" alt="Ls With Shortcuts" data-canonical-src="http://i.imgur.com/72GE1.png" style="max-width:100%;"></a>
</div>

<p><br></p>

<p>These numbers (or ranges of numbers) can be used with any SCM or system command.</p>

<p>For example, if <code>ga</code> was your alias for <code>git add</code>, instead of typing something like:</p>

<div class="highlight highlight-bash"><pre><span class="nv">$ </span>ga assets/git_breeze/config* assets/git_breeze/install.sh
</pre></div>

<p>You can type this instead:</p>

<div class="highlight highlight-bash"><pre><span class="nv">$ </span>ga <span class="nv">$e2</span> <span class="nv">$e3</span> <span class="nv">$e11</span>
</pre></div>

<p>But SCM Breeze aliases <code>ga</code> to the <code>git_add_shortcuts</code> function,
which is smart enough to expand integers and ranges, so all you need to type is:</p>

<div class="highlight highlight-bash"><pre><span class="nv">$ </span>ga <span class="m">2</span> <span class="m">3</span> 11
</pre></div>

<p>And if you want to add all unstaged changes (files 1 to 10):</p>

<div class="highlight highlight-bash"><pre><span class="nv">$ </span>ga 1-10
</pre></div>

<p>(Note that <code>ga</code> will also remove deleted files, unlike the standard <code>git add</code> command.
This behaviour can be turned off if you don't like it.)</p>

<p>You can also diff, reset or checkout a file by typing:</p>

<div class="highlight highlight-bash"><pre><span class="nv">$ </span>gd 3
<span class="nv">$ </span>grs 4
<span class="nv">$ </span>gco 5
</pre></div>

<p>You can use these shortcuts with system commands by passing your command through <code>exec_scmb_expand_args</code>
(default alias is 'ge'):</p>

<div class="highlight highlight-bash"><pre><span class="nv">$ </span><span class="nb">echo</span> <span class="nv">$e4</span>
<span class="c"># =&gt; assets/git_breeze/git_breeze.sh</span>
<span class="nv">$ </span>ge <span class="nb">echo </span>4
<span class="c"># =&gt; assets/git_breeze/git_breeze.sh</span>
<span class="nv">$ </span>ge <span class="nb">echo </span>1-3
<span class="c"># expands to echo $e1 $e2 $e3</span>
<span class="c"># =&gt; _shared.sh assets/git_breeze/config.example.sh assets/git_breeze/config.sh</span>
</pre></div>

<h3>
<a name="user-content-other-shortcuts" class="anchor" href="#other-shortcuts" aria-hidden="true"><span class="octicon octicon-link"></span></a>Other shortcuts</h3>

<p>SCM Breeze adds a number of aliases to your shell. Use <code>list_aliases</code> to view all the aliases and their corresponding commands.
You can filter aliases by adding a search string: <code>list_aliases git log</code></p>

<p>There's also a <code>git_aliases</code> command, which just shows aliases for <code>git</code> commands. You can also pass in additional filters, e.g. <code>git_aliases log</code>.</p>

<h2>
<a name="user-content-keyboard-bindings" class="anchor" href="#keyboard-bindings" aria-hidden="true"><span class="octicon octicon-link"></span></a>Keyboard bindings</h2>

<p>Some of my most common git commands are <code>git add</code> and <code>git commit</code>, so I wanted these
to be as streamlined as possible. One way of speeding up commonly used commands is by binding them to
keyboard shortcuts.</p>

<p>Here are the default key bindings:</p>

<ul class="task-list">
<li>
<code>CTRL</code>+<code>x</code> <code>c</code> =&gt; <code>git_add_and_commit</code> - add given files (if any), then commit staged changes</li>
<li>
<code>CTRL</code>+<code>x</code> <code>SPACE</code> =&gt; <code>git_commit_all</code> - commit everything</li>
</ul><p>The commit shortcuts use the <code>git_commit_prompt</code> function, which gives a simple prompt like this:</p>

<div>
<a href="https://camo.githubusercontent.com/2c6d69a3769a1087fc5a0f5ebe5c1863c7a2f8b7/687474703a2f2f6d61646562796e617468616e2e636f6d2f696d616765732f706f7374732f323031312f31302f6769745f636f6d6d69745f616c6c2d726573697a65642d706f73742e706e67" target="_blank"><img src="https://camo.githubusercontent.com/2c6d69a3769a1087fc5a0f5ebe5c1863c7a2f8b7/687474703a2f2f6d61646562796e617468616e2e636f6d2f696d616765732f706f7374732f323031312f31302f6769745f636f6d6d69745f616c6c2d726573697a65642d706f73742e706e67" alt="Git Commit All" data-canonical-src="http://madebynathan.com/images/posts/2011/10/git_commit_all-resized-post.png" style="max-width:100%;"></a>
</div>

<p><br>
(When using bash, this commit prompt gives you access to your bash history via the arrow keys.)
<br></p>

<p>And if you really want to speed up your workflow, you can type this:</p>

<div class="highlight highlight-bash"><pre><span class="nv">$ </span><span class="m">2</span> <span class="m">3</span> &lt;CTRL+x c&gt;
</pre></div>

<p>This sends the <code>HOME</code> key, followed by <code>git_add_and_commit</code>:</p>

<div>
<a href="https://camo.githubusercontent.com/4bc2da1cbf6e7aa0265d938fc2039fdf8cb83f03/687474703a2f2f6d61646562796e617468616e2e636f6d2f696d616765732f706f7374732f323031312f31302f6769745f6164645f616e645f636f6d6d69745f706172616d732d726573697a65642d706f73742e706e67" target="_blank"><img src="https://camo.githubusercontent.com/4bc2da1cbf6e7aa0265d938fc2039fdf8cb83f03/687474703a2f2f6d61646562796e617468616e2e636f6d2f696d616765732f706f7374732f323031312f31302f6769745f6164645f616e645f636f6d6d69745f706172616d732d726573697a65642d706f73742e706e67" alt="Git Add And Commit" data-canonical-src="http://madebynathan.com/images/posts/2011/10/git_add_and_commit_params-resized-post.png" style="max-width:100%;"></a>
</div>

<p><br></p>

<h2>
<a name="user-content-repository-index" class="anchor" href="#repository-index" aria-hidden="true"><span class="octicon octicon-link"></span></a>Repository Index</h2>

<p>The second feature is a repository index for all of your projects and submodules.
This gives you super-fast switching between your project directories, with tab completion,
and it can even tab-complete down to project subdirectories.
This means that you can keep your projects organized in subfolders,
but switch between them as easily as if they were all in one folder.</p>

<p>It's similar to <a href="https://github.com/joelthelion/autojump">autojump</a>, but it doesn't need to 'learn' anything,
and it can do SCM-specific stuff like:</p>

<ul class="task-list">
<li>Running a command for all of your repos (useful if you ever need to update a lot of remote URLs)</li>
<li>Update all of your repositories via a cron task</li>
</ul><p>The default alias for <code>git_index</code> is 'c', which might stand for 'code'</p>

<p>You will first need to configure your repository directory, and then build the index:</p>

<div class="highlight highlight-bash"><pre><span class="nv">$ </span>c --rebuild
<span class="c"># =&gt; == Scanning /home/ndbroadbent/code for git repos &amp; submodules...</span>
<span class="c"># =&gt; ===== Indexed 64 repos in /home/ndbroadbent/code/.git_index</span>
</pre></div>

<p>Then you'll be able to switch between your projects, or show the list of indexed repos.</p>

<p>To switch to a project directory, you don't need to type the full project name. For example,
to switch to the <code>capistrano</code> project, you could type any of the following:</p>

<div class="highlight highlight-bash"><pre><span class="nv">$ </span>c capistrano
<span class="nv">$ </span>c cap
<span class="nv">$ </span>c istra
</pre></div>

<p>Or if you wanted to go straight to a subdirectory within <code>capistrano</code>:</p>

<div class="highlight highlight-bash"><pre><span class="nv">$ </span>c cap&lt;TAB&gt;
<span class="nv">$ </span>c capistrano/&lt;TAB&gt;
<span class="c"># =&gt; bin/   lib/   test/</span>
<span class="nv">$ </span>c capistrano/l&lt;TAB&gt;
<span class="nv">$ </span>c capistrano/lib/
<span class="c"># =&gt; cd ~/code/gems/capistrano/lib</span>
</pre></div>

<p>Or if you want to go to a subdirectory within the <code>~/code</code> directory, prefix the first argument with a <code>/</code>:</p>

<div class="highlight highlight-bash"><pre>~ <span class="nv">$ </span>c /gems
~/code/gems <span class="err">$</span>
</pre></div>

<h2>
<a name="user-content-linking-external-project-design-directories" class="anchor" href="#linking-external-project-design-directories" aria-hidden="true"><span class="octicon octicon-link"></span></a>Linking External Project Design Directories</h2>

<p>When you're creating logos or icons for a project that uses <code>git</code>,
have you ever wondered where you should store those <code>.psd</code> or <code>.xcf</code> files?
Do you commit all of your raw design files, or does it put you off that any changes to those files
will bloat your repository?</p>

<p>Here were my goals when I set out to find a solution:</p>

<ul class="task-list">
<li>I wanted a design directory for each of my projects</li>
<li>I didn't want the design directory to be checked in to the git repository</li>
<li>The design directory needed to be synchronized across all of my machines</li>
</ul><p>The simplest way for me to synchronize files was via my Dropbox account.
However, if you work with a larger team, you could set up a shared design directory on one
of your servers and synchronize it with <code>rsync</code>.</p>

<h3>
<a name="user-content-1-create-and-configure-a-root-design-directory" class="anchor" href="#1-create-and-configure-a-root-design-directory" aria-hidden="true"><span class="octicon octicon-link"></span></a>1) Create and configure a root design directory</h3>

<p>I created my root design directory at <code>~/Dropbox/Design</code>.</p>

<p>After you've created your root design directory, edit <code>~/.scmbrc</code> and set <code>root_design_dir</code>
to the directory you just created.
You can also configure the design directory that's created in each of your projects
(default: <code>design_assets</code>), as well as the subdirectories you would like to use.
The default base subdirectories are: Images, Backgrounds, Logos, Icons, Mockups, and Screenshots.</p>

<p>After you have changed these settings, remember to run <code>source ~/.bashrc</code> or <code>source ~/.zshrc</code>.</p>

<h3>
<a name="user-content-2-initialize-design-directories-for-your-projects" class="anchor" href="#2-initialize-design-directories-for-your-projects" aria-hidden="true"><span class="octicon octicon-link"></span></a>2) Initialize design directories for your projects</h3>

<p>To set up the design directories and symlinks, go to a project's directory and run:</p>

<div class="highlight highlight-bash"><pre>design init
</pre></div>

<p>If your root directory is <code>~/Dropbox/Design</code>, directories will be created at
<code>~/Dropbox/Design/projects/my_project/Backgrounds</code>, <code>~/Dropbox/Design/projects/my_project/Icons</code>, etc.</p>

<p>It will then symlink the project from your root design directory into your project's design directory,
so you end up with:</p>

<ul class="task-list">
<li>
<code>my_project/design_assets</code> -&gt; <code>~/Dropbox/Design/projects/my_project</code>
</li>
</ul><p>It also adds this directory to <code>.git/info/exclude</code> so that git ignores it.</p>

<p>If you use the git repository index,
you can run the following batch command to set up these directories for all of your git repos at once:</p>

<div class="highlight highlight-bash"><pre>git_index --batch-cmd design init
</pre></div>

<p>If you want to remove any empty design directories, run:</p>

<div class="highlight highlight-bash"><pre>design trim
</pre></div>

<p>And if you want to remove all of a project's design directories, even if they contain files:</p>

<div class="highlight highlight-bash"><pre>design rm
</pre></div>

<h3>
<a name="user-content-3-link-existing-design-directories-into-your-projects" class="anchor" href="#3-link-existing-design-directories-into-your-projects" aria-hidden="true"><span class="octicon octicon-link"></span></a>3) Link existing design directories into your projects</h3>

<p>If you've set up your design directories on one machine, you'll want them
to be synchronized across all of your other development machines.</p>

<p>Just run the following command on your other machines after you've configured the root design directory:</p>

<div class="highlight highlight-bash"><pre>design link
</pre></div>

<p>This uses your git index to figure out where to create the symlinks.
If you don't use the git index, the same outcome could be achieved by running 'design init'
for each of the projects.</p>

<h2>
<a name="user-content-contributing-tools--scripts" class="anchor" href="#contributing-tools--scripts" aria-hidden="true"><span class="octicon octicon-link"></span></a>Contributing tools / scripts</h2>

<p>If you have any awesome SCM scripts lurking in your <code>.bashrc</code> or <code>.zshrc</code>,
please feel free to send me a pull request.
It would be cool to make this project into an <a href="https://github.com/robbyrussell/oh-my-zsh">oh-my-zsh</a> for SCMs.</p>

<h1>
<a name="user-content-installation" class="anchor" href="#installation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installation</h1>

<div class="highlight highlight-bash"><pre>git clone git://github.com/ndbroadbent/scm_breeze.git ~/.scm_breeze
~/.scm_breeze/install.sh
<span class="nb">source</span> ~/.bashrc   <span class="c"># or source ~/.zshrc</span>
</pre></div>

<p>The install script creates required default configs and adds the following line to your <code>.bashrc</code> or <code>.zshrc</code>:</p>

<p><code>[ -s "$HOME/.scm_breeze/scm_breeze.sh" ] &amp;&amp; source "$HOME/.scm_breeze/scm_breeze.sh"</code></p>

<h1>
<a name="user-content-updating" class="anchor" href="#updating" aria-hidden="true"><span class="octicon octicon-link"></span></a>Updating</h1>

<p>Please run <code>update_scm_breeze</code> to fetch the latest code. This will update SCM Breeze from Github,
and will create or patch your <code>~/.*.scmbrc</code> config files if any new settings are added.</p>

<h1>
<a name="user-content-uninstall" class="anchor" href="#uninstall" aria-hidden="true"><span class="octicon octicon-link"></span></a>Uninstall</h1>

<div class="highlight highlight-bash"><pre>~/.scm_breeze/uninstall.sh
</pre></div>

<p>The uninstall script removes the following line from your <code>.bashrc</code> or <code>.zshrc</code>:</p>

<p><code>[ -s "$HOME/.scm_breeze/scm_breeze.sh" ] &amp;&amp; source "$HOME/.scm_breeze/scm_breeze.sh"</code></p>

<h1>
<a name="user-content-configuration" class="anchor" href="#configuration" aria-hidden="true"><span class="octicon octicon-link"></span></a>Configuration</h1>

<p>SCM Breeze is configured via automatically installed <code>~/.*.scmbrc</code> files.
To change git configuration, edit <code>~/.git.scmbrc</code>.</p>

<p>Each feature is modular, so you are free to ignore the parts you don't want to use.
Just comment out the relevant line in <code>~/.scm_breeze/scm_breeze.sh</code>.</p>

<p><strong>Note:</strong> After changing any settings, you will need to run <code>source ~/.bashrc</code> (or <code>source ~/.zshrc</code>)</p>

<p>I know we grow attached to the aliases we use every day, so I've made the alias system completely customizable.
You have two options when it comes to aliases:</p>

<h3>
<a name="user-content-1-configure-and-use-the-provided-scm-breeze-aliases" class="anchor" href="#1-configure-and-use-the-provided-scm-breeze-aliases" aria-hidden="true"><span class="octicon octicon-link"></span></a>1) Configure and use the provided SCM Breeze aliases</h3>

<p>Just tweak the aliases in <code>~/.git.scmbrc</code>. You can also change or remove any keyboard shortcuts.
These aliases also come with tab completion. For example, you can type <code>gco &lt;tab&gt;</code> to tab complete your list of branches.</p>

<h3>
<a name="user-content-2-use-your-own-aliases" class="anchor" href="#2-use-your-own-aliases" aria-hidden="true"><span class="octicon octicon-link"></span></a>2) Use your own aliases</h3>

<p>In your <code>git.scmbrc</code> config file, just set the <code>git_setup_aliases</code> option to <code>no</code>.
Your existing git aliases will then be used, and you will still be able to use the numeric shortcuts feature.
SCM Breeze creates a function to wrap the 'git' command, which expands numeric arguments, and uses <code>hub</code> if available.</p>

<p>A few aliases will still be defined for the central SCM Breeze features, such as <code>gs</code> for the extended <code>git status</code>,
and <code>ga</code> for the <code>git add</code> function.</p>

<p>If you already have an alias like <code>alias gco="git checkout"</code>,
you can now type <code>gco 1</code> to checkout the first file in the output of SCM Breeze's <code>git status</code>.</p>

<h1>
<a name="user-content-notes-about-tab-completion-for-aliases" class="anchor" href="#notes-about-tab-completion-for-aliases" aria-hidden="true"><span class="octicon octicon-link"></span></a>Notes about Tab Completion for Aliases</h1>

<h3>
<a name="user-content-bash" class="anchor" href="#bash" aria-hidden="true"><span class="octicon octicon-link"></span></a>Bash</h3>

<p>If you use your own aliases, SCM Breeze will <strong>not</strong> set up bash tab completion for your aliases.
You will need to set that up yourself.</p>

<h3>
<a name="user-content-zsh" class="anchor" href="#zsh" aria-hidden="true"><span class="octicon octicon-link"></span></a>Zsh</h3>

<p>You just need to set the option: <code>setopt no_complete_aliases</code> (oh-my-zsh sets this by default).
Zsh will then expand aliases like <code>gb</code> to <code>git branch</code>, and use the completion for that.</p>

<h1>
<a name="user-content-contributing" class="anchor" href="#contributing" aria-hidden="true"><span class="octicon octicon-link"></span></a>Contributing</h1>

<p>SCM Breeze lives on Github at <a href="https://github.com/ndbroadbent/scm_breeze">https://github.com/ndbroadbent/scm_breeze</a></p>

<p>Please feel free to fork and send pull requests, especially if you would like to build these features
for Mercurial, SVN, etc.</p>

<h2>
<a name="user-content-enjoy" class="anchor" href="#enjoy" aria-hidden="true"><span class="octicon octicon-link"></span></a>Enjoy!</h2></article></div>