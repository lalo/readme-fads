<div class="announce instapaper_body rst" data-path="README.rst" id="readme"><article class="markdown-body entry-content" itemprop="mainContentOfPage"><h1>
<a name="user-content-informative-git-prompt-for-zsh" class="anchor" href="#informative-git-prompt-for-zsh" aria-hidden="true"><span class="octicon octicon-link"></span></a>Informative git prompt for zsh</h1>
<p>A <tt>zsh</tt> prompt that displays information about the current git repository.
In particular the branch name, difference with remote branch, number of files staged, changed, etc.</p>
<p>(an original idea from this <a href="http://sebastiancelis.com/2009/nov/16/zsh-prompt-git-users/">blog post</a>).</p>
<h2>
<a name="user-content-examples" class="anchor" href="#examples" aria-hidden="true"><span class="octicon octicon-link"></span></a>Examples</h2>
<p>The prompt may look like the following:</p>
<ul>
<li>
<tt>(master↑3|✚1)</tt>: on branch <tt>master</tt>, ahead of remote by 3 commits, 1 file changed but not staged</li>
<li>
<tt>(status|●2)</tt>: on branch <tt>status</tt>, 2 files staged</li>
<li>
<tt>(master|✚7…)</tt>: on branch <tt>master</tt>, 7 files changed, some files untracked</li>
<li>
<tt>(master|✖2✚3)</tt>: on branch <tt>master</tt>, 2 conflicts, 3 files changed</li>
<li>
<tt>(experimental↓2↑3|✔)</tt>: on branch <tt>experimental</tt>; your branch has diverged by 3 commits, remote by 2 commits; the repository is otherwise clean</li>
<li>
<tt>(:70c2952|✔)</tt>: not on any branch; parent commit has hash <tt>70c2952</tt>; the repository is otherwise clean</li>
</ul><p>Here is how it could look like when you are ahead by 4 commits, behind by 5 commits, and have 1 staged files, 1 changed but unstaged file, and some untracked files, on branch <tt>dev</tt>:</p>
<a href="https://github.com/olivierverdier/zsh-git-prompt/raw/master/screenshot.png" target="_blank"><img alt="Example" src="https://github.com/olivierverdier/zsh-git-prompt/raw/master/screenshot.png" style="max-width:100%;"></a><h2>
<a name="user-content-prompt-structure" class="anchor" href="#prompt-structure" aria-hidden="true"><span class="octicon octicon-link"></span></a>Prompt Structure</h2>
<p>By default, the general appearance of the prompt is:</p>
<pre>
(&lt;branch&gt;&lt;branch tracking&gt;|&lt;local status&gt;)
</pre>
<p>The symbols are as follows:</p>
<ul>
<li><dl>
<dt>Local Status Symbols</dt>
<dd><table frame="void" rules="none"><tbody valign="top">
<tr>
<th>✔:</th>
<td>repository clean</td>
</tr>
<tr>
<th>●n:</th>
<td>there are <tt>n</tt> staged files</td>
</tr>
<tr>
<th>✖n:</th>
<td>there are <tt>n</tt> unmerged files</td>
</tr>
<tr>
<th>✚n:</th>
<td>there are <tt>n</tt> changed but <em>unstaged</em> files</td>
</tr>
<tr>
<th>…:</th>
<td>there are some untracked files</td>
</tr>
</tbody></table></dd>
</dl></li>
<li><dl>
<dt>Branch Tracking Symbols</dt>
<dd><table frame="void" rules="none"><tbody valign="top">
<tr>
<th>↑n:</th>
<td>ahead of remote by <tt>n</tt> commits</td>
</tr>
<tr>
<th>↓n:</th>
<td>behind remote by <tt>n</tt> commits</td>
</tr>
<tr>
<th>↓m↑n:</th>
<td>branches diverged, other by <tt>m</tt> commits, yours by <tt>n</tt> commits</td>
</tr>
</tbody></table></dd>
</dl></li>
<li><dl>
<dt>Branch Symbol</dt>
<dd>
<p>When the branch name starts with a colon <tt>:</tt>, it means it's actually a hash, not a branch (although it should be pretty clear, unless you name your branches like hashes :-)</p>
</dd>
</dl></li>
</ul><h2>
<a name="user-content-install" class="anchor" href="#install" aria-hidden="true"><span class="octicon octicon-link"></span></a>Install</h2>
<ol>
<li>
<p>Create the directory <tt>~/.zsh/git-prompt</tt> if it does not exist (this location is customizable).</p>
</li>
<li>
<p>Move the file <tt>gitstatus.py</tt> into <tt>~/.zsh/git-prompt/</tt>.</p>
</li>
<li>
<p>Source the file <tt>zshrc.sh</tt> from your <tt>~/.zshrc</tt> config file, and, configure your prompt. So, somewhere in <tt>~/.zshrc</tt>, you should have:</p>
<pre>
source path/to/zshrc.sh
# an example prompt
PROMPT='%B%m%~%b$(git_super_status) %# '
</pre>
</li>
<li>
<p>You may also redefine the function <tt>git_super_status</tt> (after the <tt>source</tt> statement) to adapt it to your needs (to change the order in which the information is displayed).  Define the variable <tt>ZSH_THEME_GIT_PROMPT_NOCACHE</tt> in order to disable caching.  You may also change a number of variables (which name start with <tt>ZSH_THEME_GIT_PROMPT_</tt>) to change the appearance of the prompt.  Take a look in the file <tt>zshrc.sh</tt> to see how the function <tt>git_super_status</tt> is defined, and what variables are available.</p>
</li>
<li>
<p>Go in a git repository and test it!</p>
</li>
</ol><p><strong>Enjoy!</strong></p></article></div>