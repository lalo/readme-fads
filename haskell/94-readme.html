<div class="announce instapaper_body md" data-path="README.md" id="readme"><article class="markdown-body entry-content" itemprop="mainContentOfPage"><h1>
<a name="user-content-ajhc---arafura-jhc" class="anchor" href="#ajhc---arafura-jhc" aria-hidden="true"><span class="octicon octicon-link"></span></a>
<a href="http://ajhc.metasepi.org/">Ajhc</a> - arafura-jhc</h1>

<h2>
<a name="user-content--we-are-closing-ajhc-project-" class="anchor" href="#-we-are-closing-ajhc-project-" aria-hidden="true"><span class="octicon octicon-link"></span></a>*** We are closing Ajhc project. ***</h2>

<p><a href="http://metasepi.org/en/posts/2013-01-09-design_arafura.html">Metasepi Arafura</a> iteration is closed.
We decided to use <a href="http://www.ats-lang.org/">ATS Programming Language</a> for our next iteration.
After merging Ajhc's <a href="http://metasepi.org/doc/metasepi-icfp2014.pdf">Context Local Heap</a> into jhc,
this project will be shutdown.</p>

<p>Please use <a href="http://repetae.net/computer/jhc/">jhc</a> instead of Ajhc.</p>

<p>A fork of <a href="http://repetae.net/computer/jhc/">jhc</a>.
And also a Haskell compiler. 
This project is founded by <a href="http://metasepi.org/">Metasepi Project</a>.</p>

<h2>
<a name="user-content-build-status" class="anchor" href="#build-status" aria-hidden="true"><span class="octicon octicon-link"></span></a>Build Status</h2>

<ul class="task-list">
<li>
<a href="https://travis-ci.org/ajhc/ajhc"><img src="https://camo.githubusercontent.com/d8df2b6a0530aaa2302416d02b1f31079ec76c58/68747470733a2f2f7472617669732d63692e6f72672f616a68632f616a68632e706e673f6272616e63683d61726166757261" alt="Build Status" data-canonical-src="https://travis-ci.org/ajhc/ajhc.png?branch=arafura" style="max-width:100%;"></a> Ubuntu</li>
<li>
<a href="https://travis-ci.org/ajhc/ajhc"><img src="https://camo.githubusercontent.com/f307b411cb194de95fcaaf1c7132fc2347b5ca98/68747470733a2f2f7472617669732d63692e6f72672f616a68632f616a68632e706e673f6272616e63683d617261667572612d6369346f7378" alt="Build Status" data-canonical-src="https://travis-ci.org/ajhc/ajhc.png?branch=arafura-ci4osx" style="max-width:100%;"></a> Mac OS X</li>
</ul><h2>
<a name="user-content-how-to-install" class="anchor" href="#how-to-install" aria-hidden="true"><span class="octicon octicon-link"></span></a>How to install</h2>

<pre><code>$ sudo apt-get install haskell-platform gcc m4 patch libncurses5-dev
$ cabal install drift
$ export PATH=$PATH:$HOME/.cabal/bin
$ cabal install ajhc
</code></pre>

<h2>
<a name="user-content-how-to-build-latest-version" class="anchor" href="#how-to-build-latest-version" aria-hidden="true"><span class="octicon octicon-link"></span></a>How to build latest version</h2>

<pre><code>$ sudo apt-get install make locales autoconf drift \
  libconfig-yaml-perl graphviz haskell-platform cpphs pandoc hscolour po4a \
  libghc-temporary-dev libghc-haskeline-dev libghc-utf8-string-dev libghc-hssyck-dev \
  libghc-test-framework-th-dev libghc-test-framework-hunit-dev \
  libghc-test-framework-quickcheck2-dev libghc-uniplate-dev libgc-dev gcc valgrind
$ git clone git://github.com/ajhc/ajhc.git
$ cd ajhc
$ git checkout arafura
$ autoreconf -i
$ ./configure
$ make
$ make install
</code></pre>

<h2>
<a name="user-content-for-developing" class="anchor" href="#for-developing" aria-hidden="true"><span class="octicon octicon-link"></span></a>For developing</h2>

<p>First, you should use the arafura branch, rather than master branch.</p>

<ul class="task-list">
<li>
<a href="https://github.com/ajhc/ajhc/tree/master">master branch</a>: Do not touch me, mirror of <a href="http://repetae.net/dw/darcsweb.cgi?r=jhc">jhc's darcs repository</a>.</li>
<li>
<a href="https://github.com/ajhc/ajhc/tree/arafura">arafura branch</a>: For developing Ajhc.</li>
</ul><p>You should send patch to jhc, if testing on Ajhc is good.</p>

<pre><code>$ darcs get http://repetae.net/repos/jhc
$ cd jhc/
$ patch -p1 &lt; ~/yourfile.patch
$ darcs record -a
$ darcs send
</code></pre>

<p>The command <a href="http://darcs.net/Using/Send">darcs send</a> sends email the patch to
jhc author (= <a href="http://repetae.net/">John Meacham</a>).</p>

<p>Perhaps you can get internal overview with following compile flow image:</p>

<p><a href="https://camo.githubusercontent.com/8df9422325a5745e74b1d7525352bb8672d91d4c/68747470733a2f2f7261772e6769746875622e636f6d2f616a68632f616a68632f617261667572612f646f63732f6a68635f636f6d70696c655f666c6f772e706e67" target="_blank"><img src="https://camo.githubusercontent.com/8df9422325a5745e74b1d7525352bb8672d91d4c/68747470733a2f2f7261772e6769746875622e636f6d2f616a68632f616a68632f617261667572612f646f63732f6a68635f636f6d70696c655f666c6f772e706e67" alt="" data-canonical-src="https://raw.github.com/ajhc/ajhc/arafura/docs/jhc_compile_flow.png" style="max-width:100%;"></a></p>

<h2>
<a name="user-content-future-plan" class="anchor" href="#future-plan" aria-hidden="true"><span class="octicon octicon-link"></span></a>Future plan</h2>

<ul class="task-list">
<li>Benchmark (speed, memory size, compare with eLua/mruby/.NET Micro Framework)</li>
<li>No more depend on Perl (LWP and YAML).</li>
<li>Port Haskell libraries on haskell-platform to Ajhc.</li>
<li>Understand jhc's region inference.</li>
<li>Play with Google Native Client. <a href="https://developers.google.com/native-client/">https://developers.google.com/native-client/</a>
</li>
<li>Write Linux kernel driver with Haskell.</li>
<li>Get smaller RTS. Benchmark the RTS for running on custom FPGA CPU.</li>
<li>Start rewritng NetBSD kernel with Ajhc.</li>
</ul><h2>
<a name="user-content-license" class="anchor" href="#license" aria-hidden="true"><span class="octicon octicon-link"></span></a>License</h2>

<ul class="task-list">
<li>Runtime: <a href="https://github.com/ajhc/ajhc/blob/master/rts/LICENSE">MIT License</a>
</li>
<li>Haskell libraries: <a href="https://github.com/ajhc/ajhc/blob/master/lib/LICENSE">MIT License</a>
</li>
<li>The others: <a href="https://github.com/ajhc/ajhc/blob/arafura/COPYING">GPLv2 or Later</a>
</li>
</ul></article></div>