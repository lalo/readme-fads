<div class="announce instapaper_body md" data-path="README.md" id="readme"><article class="markdown-body entry-content" itemprop="mainContentOfPage"><h1>
<a name="user-content-genericmakefile" class="anchor" href="#genericmakefile" aria-hidden="true"><span class="octicon octicon-link"></span></a>GenericMakefile</h1>

<p>A generic makefile for use with small/medium C and C++ projects. Allows for
easy project setup without the need to create tedious build rules or
dependency lists.</p>

<h1>
<a name="user-content-features" class="anchor" href="#features" aria-hidden="true"><span class="octicon octicon-link"></span></a>Features:</h1>

<ul class="task-list">
<li>Automatically finds and compiles all source files within the source directory.</li>
<li>Compiles most recently modified files first, to hopefully find problems earlier.</li>
<li>Automatically generates dependecies as files are compiled, ensuring that files are correctly recompiled when dependecies have updated.</li>
<li>Includes configurations for normal (release) build and debug build suitable for GDB debugging.</li>
<li>Times the compilation of each file and the entire build.</li>
<li>Generates version numbers based on git tags (see below), which are passed the compiler as preprocessor macros.</li>
<li>By default, builds in a "quiet" mode that only lists the actions being performed. By passing V=true to make, you can compile in verbose mode to see the full compiler commands being issued.</li>
</ul><h2>
<a name="user-content-versioning" class="anchor" href="#versioning" aria-hidden="true"><span class="octicon octicon-link"></span></a>Versioning:</h2>

<p>Tags should be made in the format "vMAJOR.MINOR.PATCH[-description]", where MAJOR, MINOR and PATCH are numeric. The following macros will be generated and passed to the preprocessor:</p>

<ul class="task-list">
<li>VERSION_MAJOR (int) - The major version number from the most recent tag.</li>
<li>VERSION_MINOR (int) - The minor version number from the most recent tag.</li>
<li>VERSION_PATCH (int) - The patch version number from the most recent tag.</li>
<li>VERSION_REVISION (int) - The number of commits since the most recent tag.</li>
<li>VERSION_HASH (string) - The SHA of the current commit. Includes the "-dirty" suffix if there are uncommited changes.</li>
</ul><p>If the makefile is not used in a git repository, or is in a repository with no tags, the version macros are not created.</p>

<h1>
<a name="user-content-limitations" class="anchor" href="#limitations" aria-hidden="true"><span class="octicon octicon-link"></span></a>Limitations:</h1>

<ul class="task-list">
<li>Assumes GNU make.</li>
<li>Timing does not work correctly with MacOS. See issue #6 for a workaround patch that allows timing in seconds on Mac.</li>
<li>Doesn't really support multiple types of source files in the same project.</li>
<li>No easy way to exclude files from the build. You can either change the
extension of files to be excluded, or use preprocessor flags for
conditional compilation.</li>
</ul><h1>
<a name="user-content-thanks-to" class="anchor" href="#thanks-to" aria-hidden="true"><span class="octicon octicon-link"></span></a>Thanks to:</h1>

<ul class="task-list">
<li>My friend Jay and people on Stack Overflow for help with regex to parse the version info.</li>
<li>The residents of /r/programming for suggesting numerous tweaks and improvements.</li>
</ul></article></div>