<div class="announce instapaper_body rst" data-path="README.rst" id="readme"><article class="markdown-body entry-content" itemprop="mainContentOfPage"><h1>
<a name="user-content-aws-cli" class="anchor" href="#aws-cli" aria-hidden="true"><span class="octicon octicon-link"></span></a>aws-cli</h1>
<a href="https://travis-ci.org/aws/aws-cli"><img alt="Build Status" src="https://camo.githubusercontent.com/7f6e5c06cdd7967f694632c4a9e8fb3e65b9cb5f/68747470733a2f2f7472617669732d63692e6f72672f6177732f6177732d636c692e706e673f6272616e63683d646576656c6f70" data-canonical-src="https://travis-ci.org/aws/aws-cli.png?branch=develop" style="max-width:100%;"></a>
<a href="https://coveralls.io/r/aws/aws-cli"><img alt="https://coveralls.io/repos/aws/aws-cli/badge.png" src="https://camo.githubusercontent.com/a9f0910c65dc5e64a4204e7cd2cde4180bc9fe79/68747470733a2f2f636f766572616c6c732e696f2f7265706f732f6177732f6177732d636c692f62616467652e706e67" data-canonical-src="https://coveralls.io/repos/aws/aws-cli/badge.png" style="max-width:100%;"></a>
<p>This package provides a unified command line interface to many
Amazon Web Services.</p>
<p>The currently supported services include:</p>
<ul>
<li>AWS CloudFormation</li>
<li>AWS Data Pipeline (Preview)</li>
<li>AWS Direct Connect</li>
<li>AWS Elastic Beanstalk</li>
<li>AWS Identity and Access Management</li>
<li>AWS Import/Export</li>
<li>AWS OpsWorks</li>
<li>AWS Security Token Service</li>
<li>AWS Storage Gateway</li>
<li>AWS Support</li>
<li>Amazon CloudFront (Preview)</li>
<li>Amazon CloudSearch</li>
<li>Amazon CloudWatch</li>
<li>Amazon DynamoDB</li>
<li>Amazon ElastiCache</li>
<li>Amazon Elastic Compute Cloud</li>
<li>Amazon Elastic MapReduce (Preview)</li>
<li>Amazon Elastic Transcoder</li>
<li>Amazon Kinesis</li>
<li>Amazon Redshift</li>
<li>Amazon Relational Database Service (Beta)</li>
<li>Amazon Route 53</li>
<li>Amazon Simple Email Service</li>
<li>Amazon Simple Notification Service</li>
<li>Amazon Simple Queue Service</li>
<li>Amazon Storage Gateway</li>
<li>Amazon Simple Storage Service</li>
<li>Amazon Simple Workflow Service</li>
<li>Auto Scaling</li>
<li>Elastic Load Balancing</li>
</ul><p>The aws-cli package works on Python versions:</p>
<ul>
<li>2.6.5 and greater</li>
<li>2.7.x and greater</li>
<li>3.3.x and greater</li>
</ul><div>
<p>Attention!</p>
<p>We recommend that all customers regularly monitor the
<a href="https://aws.amazon.com/security/security-bulletins">Amazon Web Services Security Bulletins website</a> for any important security bulletins related to
aws-cli.</p>
</div>
<h2>
<a name="user-content-installation" class="anchor" href="#installation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installation</h2>
<p>The easiest way to install aws-cli is to use <a href="http://www.pip-installer.org/en/latest/">pip</a>:</p>
<pre>
$ pip install awscli
</pre>
<p>or, if you are not installing in a <tt>virtualenv</tt>:</p>
<pre>
$ sudo pip install awscli
</pre>
<p>If you have the aws-cli installed and want to upgrade to the latest version
you can run:</p>
<pre>
$ pip install --upgrade awscli
</pre>
<p>This will install the aws-cli package as well as all dependencies.  You can
also just <a href="https://pypi.python.org/pypi/awscli">download the tarball</a>.  Once you have the
awscli directory structure on your workstation, you can just run:</p>
<pre>
$ cd &lt;path_to_awscli&gt;
$ python setup.py install
</pre>
<p>If you want to run the <tt>develop</tt> branch of the CLI, see the
"CLI Dev Version" section below.</p>
<h2>
<a name="user-content-cli-releases" class="anchor" href="#cli-releases" aria-hidden="true"><span class="octicon octicon-link"></span></a>CLI Releases</h2>
<p>The release notes for the AWS CLI can be found <a href="http://aws.amazon.com/releasenotes/CLI">here</a>.
You can also find a <a href="https://github.com/aws/aws-cli/blob/develop/CHANGELOG.rst">CHANGELOG</a>
in the github repo.</p>
<h2>
<a name="user-content-command-completion" class="anchor" href="#command-completion" aria-hidden="true"><span class="octicon octicon-link"></span></a>Command Completion</h2>
<p>The aws-cli package includes a very useful command completion feature.
This feature is not automatically installed so you need to configure it manually.
To enable tab completion for bash use the built-in command <tt>complete</tt>:</p>
<pre>
$ complete -C aws_completer aws
</pre>
<p>For tcsh:</p>
<pre>
$ complete aws 'p/*/`aws_completer`/'
</pre>
<p>You should add this to your startup scripts to enable it for future sessions.</p>
<p>For zsh please refer to bin/aws_zsh_completer.sh.  Source that file:</p>
<pre>
$ source bin/aws_zsh_completer.sh
</pre>
<p>For now the bash compatibility auto completion (bashcompinit) is used.
For further details please refer to the top of bin/aws_zsh_completer.sh.</p>
<h2>
<a name="user-content-getting-started" class="anchor" href="#getting-started" aria-hidden="true"><span class="octicon octicon-link"></span></a>Getting Started</h2>
<p>Before using aws-cli, you need to tell it about your AWS credentials.  You
can do this in several ways:</p>
<ul>
<li>Environment variables</li>
<li>Config file</li>
<li>IAM Role</li>
</ul><p>To use environment variables, do the following:</p>
<pre>
$ export AWS_ACCESS_KEY_ID=&lt;access_key&gt;
$ export AWS_SECRET_ACCESS_KEY=&lt;secret_key&gt;
</pre>
<p>To use a config file, create a configuration file like this:</p>
<pre>
[default]
aws_access_key_id=&lt;default access key&gt;
aws_secret_access_key=&lt;default secret key&gt;
# Optional, to define default region for this profile.
region=us-west-1

[profile testing]
aws_access_key_id=&lt;testing access key&gt;
aws_secret_access_key=&lt;testing secret key&gt;
region=us-west-2
</pre>
<p>and place it in <tt>~/.aws/config</tt> (or in <tt>%UserProfile%\.aws\config</tt> on Windows).</p>
<p>As you can see, you can have multiple <tt>profiles</tt> defined in this
configuration file and specify which profile to use by using the <tt>--profile</tt>
option.  If no profile is specified the <tt>default</tt> profile is used.  Except
for the default profile, you <strong>must</strong> prefix each config section of a profile
group with <tt>profile</tt>.  For example, if you have a profile named "testing" the
section header would be <tt>[profile testing]</tt>.</p>
<p>If you wish to place the config file in a different location than the one
specified above, you need to tell aws-cli where to find it.  Do this by setting
the appropriate environment variable:</p>
<pre>
$ export AWS_CONFIG_FILE=/path/to/config_file
</pre>
<p>The final option for credentials is highly recommended if you are
using aws-cli on an EC2 instance.  IAM Roles are
a great way to have credentials installed automatically on your
instance.  If you are using IAM Roles, aws-cli will find them and use
them automatically.</p>
<h2>
<a name="user-content-other-configurable-variables" class="anchor" href="#other-configurable-variables" aria-hidden="true"><span class="octicon octicon-link"></span></a>Other Configurable Variables</h2>
<p>In addition to credentials, a number of other variables can be
configured either with environment variables, configuration file
entries or both.  The following table documents these.</p>
<table>
<thead valign="bottom"><tr>
<th>Variable</th>
<th>Option</th>
<th>Config Entry</th>
<th>Environment Variable</th>
<th>Description</th>
</tr></thead>
<tbody valign="top">
<tr>
<td>profile</td>
<td>--profile</td>
<td>profile</td>
<td>AWS_DEFAULT_PROFILE</td>
<td>Default profile name</td>
</tr>
<tr>
<td>region</td>
<td>--region</td>
<td>region</td>
<td>AWS_DEFAULT_REGION</td>
<td>Default AWS Region</td>
</tr>
<tr>
<td>config_file</td>
<td> </td>
<td> </td>
<td>AWS_CONFIG_FILE</td>
<td>Alternate location of config</td>
</tr>
<tr>
<td>output</td>
<td>--output</td>
<td>output</td>
<td>AWS_DEFAULT_OUTPUT</td>
<td>Default output style</td>
</tr>
<tr>
<td>access_key</td>
<td> </td>
<td>aws_access_key_id</td>
<td>AWS_ACCESS_KEY_ID</td>
<td>AWS Access Key</td>
</tr>
<tr>
<td>secret_key</td>
<td> </td>
<td>aws_secret_access_key</td>
<td>AWS_SECRET_ACCESS_KEY</td>
<td>AWS Secret Key</td>
</tr>
<tr>
<td>token</td>
<td> </td>
<td>aws_security_token</td>
<td>AWS_SECURITY_TOKEN</td>
<td>AWS Token (temp credentials)</td>
</tr>
</tbody>
</table><h3>
<a name="user-content-examples" class="anchor" href="#examples" aria-hidden="true"><span class="octicon octicon-link"></span></a>Examples</h3>
<p>If you get tired of specifying a <tt>--region</tt> option on the command line
all of the time, you can specify a default region to use whenever no
explicit <tt>--region</tt> option is included using the <tt>region</tt> variable.
To specify this using an environment variable:</p>
<pre>
$ export AWS_DEFAULT_REGION=us-west-2
</pre>
<p>To include it in your config file:</p>
<pre>
[default]
aws_access_key_id=&lt;default access key&gt;
aws_secret_access_key=&lt;default secret key&gt;
region=us-west-1  # This will be used as the default
</pre>
<p>Similarly, the <tt>profile</tt> variable can be used to specify which profile to use
if one is not explicitly specified on the command line via the
<tt>--profile</tt> option.  To set this via environment variable:</p>
<pre>
$ export AWS_DEFAULT_PROFILE=testing
</pre>
<p>The <tt>profile</tt> variable can not be specified in the configuration file
since it would have to be associated with a profile and would defeat the
purpose.</p>
<h2>
<a name="user-content-accessing-services-with-global-endpoints" class="anchor" href="#accessing-services-with-global-endpoints" aria-hidden="true"><span class="octicon octicon-link"></span></a>Accessing Services With Global Endpoints</h2>
<p>Some services, such as AWS Identity and Access Management (IAM),
AWS Security Token Service (STS), and Amazon Simple Email Service (SES)
have a single, global endpoint rather than different endpoints for
each region.</p>
<p>To make access to these services simpler, aws-cli will automatically
use the global endpoint unless you explicitly supply a region (using
the <tt>--region</tt> option) or a profile (using the <tt>--profile</tt> option).
Therefore, the following:</p>
<pre>
$ aws iam list-users
</pre>
<p>Will automatically use the global endpoint for the IAM service
regardless of the value of the <tt>AWS_DEFAULT_REGION</tt> environment
variable or the <tt>region</tt> variable specified in your profile.</p>
<h2>
<a name="user-content-json-parameter-input" class="anchor" href="#json-parameter-input" aria-hidden="true"><span class="octicon octicon-link"></span></a>JSON Parameter Input</h2>
<p>Many options that need to be provided are simple string or numeric
values.  However, some operations require JSON data structures
as input parameters either on the command line or in files.</p>
<p>For example, consider the command to authorize access to an EC2
security group.  In this case, we will add ingress access to port 22
for all IP addresses:</p>
<pre>
$ aws ec2 authorize-security-group-ingress --group-name MySecurityGroup \
  --ip-permissions '{"FromPort":22,"ToPort":22,"IpProtocol":"tcp","IpRanges":[{"CidrIp": "0.0.0.0/0"}]}'
</pre>
<h2>
<a name="user-content-file-based-parameter-input" class="anchor" href="#file-based-parameter-input" aria-hidden="true"><span class="octicon octicon-link"></span></a>File-based Parameter Input</h2>
<p>Some parameter values are so large or so complex that it would be easier
to place the parameter value in a file and refer to that file rather than
entering the value directly on the command line.</p>
<p>Let's use the <tt>authorize-security-group-ingress</tt> command shown above.
Rather than provide the value of the <tt>--ip-permissions</tt> parameter directly
in the command, you could first store the values in a file.  Let's call
the file ip_perms.json:</p>
<pre>
{"FromPort":22,
 "ToPort":22,
 "IpProtocol":"tcp",
 "IpRanges":[{"CidrIp":"0.0.0.0/0"}]}
</pre>
<p>Then, we could make the same call as above like this:</p>
<pre>
$ aws ec2 authorize-security-group-ingress --group-name MySecurityGroup \
    --ip-permissions file://ip_perms.json
</pre>
<p>The <tt>file://</tt> prefix on the parameter value signals that the parameter value
is actually a reference to a file that contains the actual parameter value.
aws-cli will open the file, read the value and pass use that value as the
parameter value.</p>
<p>This is also useful when the parameter is really referring to file-based
data.  For example, the <tt>--user-data</tt> option of the <tt>aws ec2 run-instances</tt>
command or the <tt>--public-key-material</tt> parameter of the
<tt>aws ec2 import-key-pair</tt> command.</p>
<h2>
<a name="user-content-uri-based-parameter-input" class="anchor" href="#uri-based-parameter-input" aria-hidden="true"><span class="octicon octicon-link"></span></a>URI-based Parameter Input</h2>
<p>Similar to the file-based input described above, aws-cli also includes a
way to use data from a URI as the value of a parameter.  The idea is exactly
the same except the prefix used is <tt>https://</tt> or <tt>http://</tt>:</p>
<pre>
$ aws ec2 authorize-security-group-ingress --group-name MySecurityGroup \
    --ip-permissions http://mybucket.s3.amazonaws.com/ip_perms.json
</pre>
<h2>
<a name="user-content-command-output" class="anchor" href="#command-output" aria-hidden="true"><span class="octicon octicon-link"></span></a>Command Output</h2>
<p>The default output for commands is currently JSON.  This may change in the
future but for now it provides the most complete output.  You may find the
<a href="http://stedolan.github.com/jq/">jq</a> tool useful in processing the JSON
output for other uses.</p>
<p>There is also an ASCII table format available.  You can select this
style with the <tt>--output</tt> option or you can make this style your default
output style via environment variable or config file entry as described above.</p>
<h2>
<a name="user-content-cli-dev-version" class="anchor" href="#cli-dev-version" aria-hidden="true"><span class="octicon octicon-link"></span></a>CLI Dev Version</h2>
<p>If you are just interested in using the latest released version of the AWS CLI,
please see the "Installation" section above.  This section is for anyone that
wants to install the development version of the CLI.  You normally would not
need to do this unless:</p>
<ul>
<li>You are developing a feature for the CLI and plan on submitting a Pull
Request.</li>
<li>You want to test the latest changes of the CLI before they make it into an
official release.</li>
</ul><p>The latest changes to the CLI are in the <tt>develop</tt> branch on github.  This is
the default branch when you clone the git repository.</p>
<p>Additionally, there are several other packages that are developed in tandem
with the CLI.  This includes:</p>
<ul>
<li><a href="https://github.com/boto/botocore">botocore</a></li>
<li><a href="https://github.com/boto/bcdoc">bcdoc</a></li>
<li><a href="https://github.com/boto/jmespath">jmespath</a></li>
</ul><p>If you just want to install a snapshot of the latest development version of
the CLI, you can use the <tt>requirements.txt</tt> file included in this repo.
This file points to the development version of the above packages:</p>
<pre>
cd &lt;path_to_awscli&gt;
pip install -r requirements.txt
pip install -e .
</pre>
<p>However, to keep up to date, you will continually have to run the
<tt>pip install -r requirements.txt</tt> file to pull in the latest changes
from the develop branches of botocore, bcdoc, etc.</p>
<p>You can optionally clone each of those repositories and run "pip install -e ."
for each repository:</p>
<pre>
git clone &lt;jmespath&gt; &amp;&amp; cd jmespath/
pip install -e . &amp;&amp; cd ..
git clone &lt;bcdoc&gt; &amp;&amp; cd bcdoc/
pip install -e . &amp;&amp;  cd ..
git clone &lt;botocore&gt; &amp;&amp; cd botocore/
pip install -e . &amp;&amp; cd ..
git clone &lt;awscli&gt; &amp;&amp; cd aws-cli/
pip install -e .
</pre></article></div>