<div class="announce instapaper_body md" data-path="README.md" id="readme"><article class="markdown-body entry-content" itemprop="mainContentOfPage"><h1>
<a name="user-content-gollum----a-wiki-built-on-top-of-git" class="anchor" href="#gollum----a-wiki-built-on-top-of-git" aria-hidden="true"><span class="octicon octicon-link"></span></a>gollum -- A wiki built on top of Git</h1>

<p><a href="http://badge.fury.io/rb/gollum"><img src="https://camo.githubusercontent.com/19a47f2441b9e863c74d0834c9dc4003e0850056/68747470733a2f2f62616467652e667572792e696f2f72622f676f6c6c756d2e737667" alt="Gem Version" data-canonical-src="https://badge.fury.io/rb/gollum.svg" style="max-width:100%;"></a>
<a href="https://travis-ci.org/gollum/gollum"><img src="https://camo.githubusercontent.com/1bf14dbcdc151f8dff3207850e70e04ab09ea641/68747470733a2f2f7472617669732d63692e6f72672f676f6c6c756d2f676f6c6c756d2e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/gollum/gollum.svg?branch=master" style="max-width:100%;"></a>
<a href="https://gemnasium.com/gollum/gollum"><img src="https://camo.githubusercontent.com/c21ad1e73cdc037e33be53a7098f12540af1dacd/68747470733a2f2f67656d6e617369756d2e636f6d2f676f6c6c756d2f676f6c6c756d2e737667" alt="Dependency Status" data-canonical-src="https://gemnasium.com/gollum/gollum.svg" style="max-width:100%;"></a></p>

<h2>
<a name="user-content-description" class="anchor" href="#description" aria-hidden="true"><span class="octicon octicon-link"></span></a>DESCRIPTION</h2>

<p>Gollum is a simple wiki system built on top of Git.</p>

<p>Gollum wikis are simply Git repositories that adhere to a specific format.
Gollum pages may be written in a variety of formats and can be edited in a
number of ways depending on your needs. You can edit your wiki locally:</p>

<ul class="task-list">
<li>With your favorite text editor or IDE (changes will be visible after committing).</li>
<li>With the built-in web interface.</li>
<li>With the Gollum Ruby API.</li>
</ul><p>Gollum follows the rules of <a href="http://semver.org/">Semantic Versioning</a> and uses
<a href="http://tomdoc.org/">TomDoc</a> for inline documentation.</p>

<h2>
<a name="user-content-system-requirements" class="anchor" href="#system-requirements" aria-hidden="true"><span class="octicon octicon-link"></span></a>SYSTEM REQUIREMENTS</h2>

<ul class="task-list">
<li>Python 2.5+ (2.7.3 recommended)</li>
<li>Ruby 1.9.3+ (1.9.3 recommended)</li>
<li>Unix like operating system (OS X, Ubuntu, Debian, and more)</li>
<li>Will not work on Windows (because of <a href="https://github.com/github/grit">grit</a>)</li>
</ul><h2>
<a name="user-content-security" class="anchor" href="#security" aria-hidden="true"><span class="octicon octicon-link"></span></a>SECURITY</h2>

<p>Don't enable <code>--custom-css</code> or <code>--custom-js</code> unless you trust every user who has the ability to edit the wiki.
A better solution with more security is being tracked in <a href="https://github.com/gollum/gollum/issues/665">#665</a>.</p>

<h2>
<a name="user-content-installation" class="anchor" href="#installation" aria-hidden="true"><span class="octicon octicon-link"></span></a>INSTALLATION</h2>

<p>The best way to install Gollum is with RubyGems:</p>

<div class="highlight highlight-bash"><pre><span class="nv">$ </span><span class="o">[</span>sudo<span class="o">]</span> gem install gollum
</pre></div>

<p>If you're installing from source, you can use <a href="http://gembundler.com/">Bundler</a> to pick up all the
gems:</p>

<div class="highlight highlight-bash"><pre><span class="nv">$ </span>bundle install
</pre></div>

<p>In order to use the various formats that Gollum supports, you will need to
separately install the necessary dependencies for each format. You only need
to install the dependencies for the formats that you plan to use.</p>

<ul class="task-list">
<li>
<a href="http://www.methods.co.nz/asciidoc/">ASCIIDoc</a> -- <code>brew install asciidoc</code> on mac or <code>apt-get install -y asciidoc</code> on Ubuntu</li>
<li>
<a href="http://wikicreole.org/">Creole</a> -- <code>gem install creole</code>
</li>
<li>
<a href="http://daringfireball.net/projects/markdown/">Markdown</a> -- <code>gem install redcarpet</code>
</li>
<li>
<a href="https://help.github.com/articles/github-flavored-markdown">GitHub Flavored Markdown</a> -- <code>gem install github-markdown</code>
</li>
<li>
<a href="http://orgmode.org/">Org</a> -- <code>gem install org-ruby</code>
</li>
<li>
<a href="http://search.cpan.org/dist/perl/pod/perlpod.pod">Pod</a> -- <code>Pod::Simple::HTML</code> comes with Perl &gt;= 5.10. Lower versions should install Pod::Simple from CPAN.</li>
<li><a href="http://rdoc.sourceforge.net/">RDoc</a></li>
<li>
<a href="http://docutils.sourceforge.net/rst.html">ReStructuredText</a> -- <code>easy_install docutils</code>
</li>
<li>
<a href="http://www.textism.com/tools/textile/">Textile</a> -- <code>gem install RedCloth</code>
</li>
<li>
<a href="http://www.mediawiki.org/wiki/Help:Formatting">MediaWiki</a> -- <code>gem install wikicloth</code>
</li>
</ul><h2>
<a name="user-content-syntax" class="anchor" href="#syntax" aria-hidden="true"><span class="octicon octicon-link"></span></a>SYNTAX</h2>

<p>Gollum supports a variety of formats and extensions (Markdown, MediaWiki, Textile, â€¦).
On top of these formats Gollum lets you insert headers, footers, links, image, math and more.</p>

<p>Check out the <a href="https://github.com/gollum/gollum/wiki">Gollum Wiki</a> for all of Gollum's formats and syntactic options.</p>

<h2>
<a name="user-content-running" class="anchor" href="#running" aria-hidden="true"><span class="octicon octicon-link"></span></a>RUNNING</h2>

<p>To view and edit your Gollum repository locally via the built in web
interface, simply install the Gollum gem, navigate to your repository via the
command line, and run the executable:</p>

<div class="highlight highlight-bash"><pre><span class="nv">$ </span>gollum
</pre></div>

<p>This will start up a web server running the Gollum frontend and you can view
and edit your wiki at http://localhost:4567. To get help on the command line
utility, you can run it like so:</p>

<div class="highlight highlight-bash"><pre><span class="nv">$ </span>gollum --help
</pre></div>

<p>This will show you the options you can pass as arguments to the <code>gollum</code> command:</p>

<div class="highlight highlight-bash"><pre>Options:
        --port <span class="o">[</span>PORT<span class="o">]</span>                Bind port <span class="o">(</span>default 4567<span class="o">)</span>.
        --host <span class="o">[</span>HOST<span class="o">]</span>                Hostname or IP address to listen on <span class="o">(</span>default 0.0.0.0<span class="o">)</span>.
        --version                    Display current version.
        --config <span class="o">[</span>CONFIG<span class="o">]</span>            Path to additional configuration file
        --irb                        Start an irb process with gollum loaded <span class="k">for</span> the current wiki.
        --css                        Inject custom css. Uses custom.css from root repository
        --js                         Inject custom js. Uses custom.js from root repository
        --template-dir <span class="o">[</span>PATH<span class="o">]</span>        Specify custom template directory
        --page-file-dir <span class="o">[</span>PATH<span class="o">]</span>       Specify the sub directory <span class="k">for</span> all page files <span class="o">(</span>default: repository root<span class="o">)</span>.
        --base-path <span class="o">[</span>PATH<span class="o">]</span>           Specify the base path.
        --gollum-path <span class="o">[</span>PATH<span class="o">]</span>         Specify the gollum path.
        --ref <span class="o">[</span>REF<span class="o">]</span>                  Specify the repository ref to use <span class="o">(</span>default: master<span class="o">)</span>.
        --no-live-preview            Disables livepreview.
        --live-preview               Enables livepreview.
        --allow-uploads              Allows file uploads.
        --mathjax                    Enables mathjax.
        --user-icons <span class="o">[</span>SOURCE<span class="o">]</span>        Set the <span class="nb">history </span>user icons. Valid values: gravatar, identicon, none. Default: none.
        --show-all                   Shows all files in file view. By default only valid pages are shown.
        --collapse-tree              Collapse file view tree. By default, expanded tree is shown.
        --h1-title                   Sets page title to value of first h1
</pre></div>

<p>Note that the gollum server will not run on Windows because of <a href="https://github.com/rtomayko/posix-spawn/issues/9">an issue</a> with posix-spawn (which is used by Grit).</p>

<h3>
<a name="user-content-rack" class="anchor" href="#rack" aria-hidden="true"><span class="octicon octicon-link"></span></a>RACK</h3>

<p>You can also run gollum with any rack-compatible server by placing this config.ru
file inside your wiki repository. This allows you to utilize any Rack middleware
like Rack::Auth, OmniAuth, etc.</p>

<div class="highlight highlight-ruby"><pre><span class="c1">#!/usr/bin/env ruby</span>
<span class="nb">require</span> <span class="s1">'rubygems'</span>
<span class="nb">require</span> <span class="s1">'gollum/app'</span>

<span class="n">gollum_path</span> <span class="o">=</span> <span class="no">File</span><span class="o">.</span><span class="n">expand_path</span><span class="p">(</span><span class="no">File</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="bp">__FILE__</span><span class="p">))</span> <span class="c1"># CHANGE THIS TO POINT TO YOUR OWN WIKI REPO</span>
<span class="no">Precious</span><span class="o">::</span><span class="no">App</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="ss">:gollum_path</span><span class="p">,</span> <span class="n">gollum_path</span><span class="p">)</span>
<span class="no">Precious</span><span class="o">::</span><span class="no">App</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="ss">:default_markup</span><span class="p">,</span> <span class="ss">:markdown</span><span class="p">)</span> <span class="c1"># set your favorite markup language</span>
<span class="no">Precious</span><span class="o">::</span><span class="no">App</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="ss">:wiki_options</span><span class="p">,</span> <span class="p">{</span><span class="ss">:universal_toc</span> <span class="o">=&gt;</span> <span class="kp">false</span><span class="p">})</span>
<span class="n">run</span> <span class="no">Precious</span><span class="o">::</span><span class="no">App</span>
</pre></div>

<p>Your Rack middleware can pass author details to Gollum in a Hash in the session under the 'gollum.author' key.</p>

<h2>
<a name="user-content-config-file" class="anchor" href="#config-file" aria-hidden="true"><span class="octicon octicon-link"></span></a>CONFIG FILE</h2>

<p>Gollum optionally takes a <code>--config file</code>. See <a href="https://github.com/gollum/gollum/blob/master/config.rb">config.rb</a> for an example.</p>

<h2>
<a name="user-content-custom-cssjs" class="anchor" href="#custom-cssjs" aria-hidden="true"><span class="octicon octicon-link"></span></a>CUSTOM CSS/JS</h2>

<p>The <code>--css</code> flag will inject <code>custom.css</code> from the root of your git repository into each page. <code>custom.css</code> must be commited to git or you will get a 302 redirect to the create page.</p>

<p>The <code>--js</code> flag will inject <code>custom.js</code> from the root of your git repository into each page. <code>custom.js</code> must be commited to git or you will get a 302 redirect to the create page.</p>

<h2>
<a name="user-content-api-documentation" class="anchor" href="#api-documentation" aria-hidden="true"><span class="octicon octicon-link"></span></a>API DOCUMENTATION</h2>

<p>The <a href="https://github.com/gollum/gollum-lib/">Gollum API</a> allows you to retrieve
raw or formatted wiki content from a Git repository, write new content to the
repository, and collect various meta data about the wiki as a whole.</p>

<h2>
<a name="user-content-contribute" class="anchor" href="#contribute" aria-hidden="true"><span class="octicon octicon-link"></span></a>CONTRIBUTE</h2>

<p>If you'd like to hack on Gollum, start by forking the repo on GitHub:</p>

<p><a href="http://github.com/gollum/gollum">http://github.com/gollum/gollum</a></p>

<p>To get all of the dependencies, install the gem first. The best way to get
your changes merged back into core is as follows:</p>

<ol class="task-list">
<li>Clone down your fork</li>
<li>Create a thoughtfully named topic branch to contain your change</li>
<li>Hack away</li>
<li>Add tests and make sure everything still passes by running <code>rake</code>
</li>
<li>If you are adding new functionality, document it in the README</li>
<li>Do not change the version number, I will do that on my end</li>
<li>If necessary, rebase your commits into logical chunks, without errors</li>
<li>Push the branch up to GitHub</li>
<li>Send a pull request to the gollum/gollum project.</li>
</ol><h2>
<a name="user-content-releasing" class="anchor" href="#releasing" aria-hidden="true"><span class="octicon octicon-link"></span></a>RELEASING</h2>

<p>Gollum uses <a href="http://semver.org/">Semantic Versioning</a>.</p>

<pre><code>x.y.z
</code></pre>

<p>For z releases:</p>

<div class="highlight highlight-bash"><pre><span class="nv">$ </span>rake bump
<span class="nv">$ </span>rake release
</pre></div>

<p>For x.y releases:</p>

<div class="highlight highlight-bash"><pre>Update VERSION in lib/gollum.rb
<span class="nv">$ </span>rake gemspec
<span class="nv">$ </span>rake release
</pre></div>

<h2>
<a name="user-content-building-the-gem-from-master" class="anchor" href="#building-the-gem-from-master" aria-hidden="true"><span class="octicon octicon-link"></span></a>BUILDING THE GEM FROM MASTER</h2>

<div class="highlight highlight-bash"><pre><span class="nv">$ </span>gem uninstall -aIx gollum
<span class="nv">$ </span>git clone https://github.com/gollum/gollum.git
<span class="nv">$ </span><span class="nb">cd </span>gollum
gollum<span class="nv">$ </span>rake build
gollum<span class="nv">$ </span>gem install --no-ri --no-rdoc pkg/gollum*.gem
</pre></div>

<h2>
<a name="user-content-run-the-tests" class="anchor" href="#run-the-tests" aria-hidden="true"><span class="octicon octicon-link"></span></a>RUN THE TESTS</h2>

<div class="highlight highlight-bash"><pre><span class="nv">$ </span>bundle install
<span class="nv">$ </span>bundle <span class="nb">exec </span>rake <span class="nb">test</span>
</pre></div>

<h2>
<a name="user-content-work-with-test-repos" class="anchor" href="#work-with-test-repos" aria-hidden="true"><span class="octicon octicon-link"></span></a>WORK WITH TEST REPOS</h2>

<p>An example of how to add a test file to the bare repository lotr.git.</p>

<div class="highlight highlight-bash"><pre><span class="nv">$ </span>mkdir tmp<span class="p">;</span> <span class="nb">cd </span>tmp
<span class="nv">$ </span>git clone ../lotr.git/ .
Cloning into <span class="s1">'.'</span>...
<span class="k">done</span>.
<span class="nv">$ </span>git log
<span class="nv">$ </span><span class="nb">echo</span> <span class="s2">"test"</span> &gt; test.md
<span class="nv">$ </span>git add . <span class="p">;</span> git commit -am <span class="s2">"Add test"</span>
<span class="nv">$ </span>git push ../lotr.git/ master
</pre></div></article></div>