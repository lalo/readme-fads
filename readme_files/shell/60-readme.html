<div class="announce instapaper_body md" data-path="README.md" id="readme"><article class="markdown-body entry-content" itemprop="mainContentOfPage"><h1>
<a name="user-content-rpi-update" class="anchor" href="#rpi-update" aria-hidden="true"><span class="octicon octicon-link"></span></a>rpi-update</h1>

<p>An easier way to update the firmware of your Raspberry Pi.</p>

<h2>
<a name="user-content-installing" class="anchor" href="#installing" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installing</h2>

<h3>
<a name="user-content-installing-under-raspbian" class="anchor" href="#installing-under-raspbian" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installing under Raspbian</h3>

<p>To install the tool, run the following command:</p>

<pre><code>sudo apt-get install rpi-update
</code></pre>

<h3>
<a name="user-content-installing-under-other-oses" class="anchor" href="#installing-under-other-oses" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installing under other OSes</h3>

<p>To install the tool, run the following command:</p>

<pre><code>sudo curl -L --output /usr/bin/rpi-update https://raw.githubusercontent.com/Hexxeh/rpi-update/master/rpi-update &amp;&amp; sudo chmod +x /usr/bin/rpi-update
</code></pre>

<h2>
<a name="user-content-updating" class="anchor" href="#updating" aria-hidden="true"><span class="octicon octicon-link"></span></a>Updating</h2>

<p>Then, to update your firmware, just run the following command:</p>

<pre><code>sudo rpi-update
</code></pre>

<h2>
<a name="user-content-activating" class="anchor" href="#activating" aria-hidden="true"><span class="octicon octicon-link"></span></a>Activating</h2>

<p>After the firmware has been sucessfully updated, you'll need to reboot to load
the new firmware.</p>

<h2>
<a name="user-content-options" class="anchor" href="#options" aria-hidden="true"><span class="octicon octicon-link"></span></a>Options</h2>

<p>If you'd like to set a different GPU/ARM memory split, then define <code>gpu_mem</code> in
<code>/boot/config.txt</code>.</p>

<p>To upgrade/downgrade to a specific firmware revision, specify its Git hash
(from the <a href="https://github.com/Hexxeh/rpi-firmware">https://github.com/Hexxeh/rpi-firmware</a> repository) as follows:</p>

<pre><code>sudo rpi-update fab7796df0cf29f9563b507a59ce5b17d93e0390
</code></pre>

<h3>
<a name="user-content-expert-options" class="anchor" href="#expert-options" aria-hidden="true"><span class="octicon octicon-link"></span></a>Expert options</h3>

<p>There are a number of options for experts you might like to use.  These are all
environment variables you must set if you wish to use them.</p>

<h4>
<a name="user-content-update_self" class="anchor" href="#update_self" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>UPDATE_SELF</code>
</h4>

<p>By default, <code>rpi-update</code> will attempt to update itself each time it is run.
You can disable this behavior by:</p>

<pre><code>sudo UPDATE_SELF=0 rpi-update
</code></pre>

<h4>
<a name="user-content-skip_kernel" class="anchor" href="#skip_kernel" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>SKIP_KERNEL</code>
</h4>

<pre><code>sudo SKIP_KERNEL=1 rpi-update
</code></pre>

<p>Will update everything <strong>except</strong> the <code>kernel.img</code> files and the kernel modules.
Use with caution, some firmware updates might depend on a kernel update.</p>

<h4>
<a name="user-content-skip_backup" class="anchor" href="#skip_backup" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>SKIP_BACKUP</code>
</h4>

<pre><code>sudo SKIP_BACKUP=1 rpi-update
</code></pre>

<p>Avoids making backup of /boot and /lib/modules on first run.</p>

<h4>
<a name="user-content-skip_repodelete" class="anchor" href="#skip_repodelete" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>SKIP_REPODELETE</code>
</h4>

<pre><code>sudo SKIP_REPODELETE=1 rpi-update
</code></pre>

<p>By default the downloaded files (/root/.rpi-firmware) are deleted at end of update.
Use this option to keep the files.</p>

<h4>
<a name="user-content-root_path-and-boot_path" class="anchor" href="#root_path-and-boot_path" aria-hidden="true"><span class="octicon octicon-link"></span></a>
<code>ROOT_PATH</code> and <code>BOOT_PATH</code>
</h4>

<pre><code>sudo ROOT_PATH=/media/root BOOT_PATH=/media/boot rpi-update
</code></pre>

<p>Allows you to perform an "offline" update, ie update firmware on an SD card you
are not currently booted from. Useful for installing firmware/kernel to a
non-RPI customised image. Be careful, you must specify both options or neither.
Specifying only one will not work.</p>

<h4>
<a name="user-content-branch" class="anchor" href="#branch" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>BRANCH</code>
</h4>

<p>By default, clones the firmware files from the master branch, else uses the files
from the specified branch, eg:</p>

<pre><code>sudo BRANCH=next rpi-update
</code></pre>

<p>will use the 'next' branch.</p>

<h4>
<a name="user-content-troubleshooting" class="anchor" href="#troubleshooting" aria-hidden="true"><span class="octicon octicon-link"></span></a>Troubleshooting</h4>

<p>There are two possible problems related to SSL certificates that may prevent
this tool from working.</p>

<ul class="task-list">
<li>
<p>The time may be set incorrectly on your Raspberry Pi, which you can fix
by setting the time using NTP.</p>

<pre><code>sudo apt-get install ntpdate
sudo ntpdate -u ntp.ubuntu.com
</code></pre>
</li>
<li>
<p>The other possible issue is that you might not have the <code>ca-certificates</code>
package installed, and so GitHub's SSL certificate isn't trusted. If you are
on Debian, you can resolve this by typing:</p>

<pre><code>sudo apt-get install ca-certificates
</code></pre>
</li>
</ul></article></div>