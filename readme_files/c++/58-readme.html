<div class="announce instapaper_body md" data-path="README.md" id="readme"><article class="markdown-body entry-content" itemprop="mainContentOfPage"><h1>
<a name="user-content-apache-thrift" class="anchor" href="#apache-thrift" aria-hidden="true"><span class="octicon octicon-link"></span></a>Apache Thrift</h1>

<p>Last Modified: 2014-03-16</p>

<h1>
<a name="user-content-license" class="anchor" href="#license" aria-hidden="true"><span class="octicon octicon-link"></span></a>License</h1>

<p>Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements. See the NOTICE file
distributed with this work for additional information
regarding copyright ownership. The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License. You may obtain a copy of the License at</p>

<p><a href="http://www.apache.org/licenses/LICENSE-2.0">http://www.apache.org/licenses/LICENSE-2.0</a></p>

<p>Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied. See the License for the
specific language governing permissions and limitations
under the License.</p>

<h1>
<a name="user-content-introduction" class="anchor" href="#introduction" aria-hidden="true"><span class="octicon octicon-link"></span></a>Introduction</h1>

<p>Thrift is a lightweight, language-independent software stack with an
associated code generation mechanism for RPC. Thrift provides clean
abstractions for data transport, data serialization, and application
level processing. The code generation system takes a simple definition
language as its input and generates code across programming languages that
uses the abstracted stack to build interoperable RPC clients and servers.</p>

<p>Thrift is specifically designed to support non-atomic version changes
across client and server code.</p>

<p>For more details on Thrift's design and implementation, take a gander at
the Thrift whitepaper included in this distribution or at the README.md files
in your particular subdirectory of interest.</p>

<h1>
<a name="user-content-hierarchy" class="anchor" href="#hierarchy" aria-hidden="true"><span class="octicon octicon-link"></span></a>Hierarchy</h1>

<p>thrift/</p>

<p>compiler/
    Contains the Thrift compiler, implemented in C++.</p>

<p>lib/
    Contains the Thrift software library implementation, subdivided by
    language of implementation.</p>

<pre><code>cpp/
go/
java/
php/
py/
rb/
</code></pre>

<p>test/</p>

<pre><code>Contains sample Thrift files and test code across the target programming
languages.
</code></pre>

<p>tutorial/</p>

<pre><code>Contains a basic tutorial that will teach you how to develop software
using Thrift.
</code></pre>

<h1>
<a name="user-content-requirements" class="anchor" href="#requirements" aria-hidden="true"><span class="octicon octicon-link"></span></a>Requirements</h1>

<p>See <a href="http://thrift.apache.org/docs/install">http://thrift.apache.org/docs/install</a> for an up-to-date list of build requirements.</p>

<h1>
<a name="user-content-resources" class="anchor" href="#resources" aria-hidden="true"><span class="octicon octicon-link"></span></a>Resources</h1>

<p>More information about Thrift can be obtained on the Thrift webpage at:</p>

<pre><code> http://thrift.apache.org
</code></pre>

<h1>
<a name="user-content-acknowledgments" class="anchor" href="#acknowledgments" aria-hidden="true"><span class="octicon octicon-link"></span></a>Acknowledgments</h1>

<p>Thrift was inspired by pillar, a lightweight RPC tool written by Adam D'Angelo,
and also by Google's protocol buffers.</p>

<h1>
<a name="user-content-installation" class="anchor" href="#installation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installation</h1>

<p>If you are building from the first time out of the source repository, you will
need to generate the configure scripts.  (This is not necessary if you
downloaded a tarball.)  From the top directory, do:</p>

<pre><code>./bootstrap.sh
</code></pre>

<p>Once the configure scripts are generated, thrift can be configured.
From the top directory, do:</p>

<pre><code>./configure
</code></pre>

<p>You may need to specify the location of the boost files explicitly.
If you installed boost in /usr/local, you would run configure as follows:</p>

<pre><code>./configure --with-boost=/usr/local
</code></pre>

<p>Note that by default the thrift C++ library is typically built with debugging
symbols included. If you want to customize these options you should use the
CXXFLAGS option in configure, as such:</p>

<pre><code>./configure CXXFLAGS='-g -O2'
./configure CFLAGS='-g -O2'
./configure CPPFLAGS='-DDEBUG_MY_FEATURE'
</code></pre>

<p>To enable gcov required options -fprofile-arcs -ftest-coverage enable them:</p>

<pre><code>./configure  --enable-coverage
</code></pre>

<p>Run ./configure --help to see other configuration options</p>

<p>Please be aware that the Python library will ignore the --prefix option
and just install wherever Python's distutils puts it (usually along
the lines of /usr/lib/pythonX.Y/site-packages/).  If you need to control
where the Python modules are installed, set the PY_PREFIX variable.
(DESTDIR is respected for Python and C++.)</p>

<p>Make thrift:</p>

<pre><code>make
</code></pre>

<p>From the top directory, become superuser and do:</p>

<pre><code>make install
</code></pre>

<p>Note that some language packages must be installed manually using build tools
better suited to those languages (at the time of this writing, this applies
to Java, Ruby, PHP).</p>

<p>Look for the README.md file in the lib// folder for more details on the
installation of each language library package.</p>

<h1>
<a name="user-content-testing" class="anchor" href="#testing" aria-hidden="true"><span class="octicon octicon-link"></span></a>Testing</h1>

<p>There are a large number of client library tests that can all be run
from the top-level directory.</p>

<pre><code>      make -k check
</code></pre>

<p>This will make all of the libraries (as necessary), and run through
the unit tests defined in each of the client libraries. If a single
language fails, the make check will continue on and provide a synopsis
at the end.</p>

<p>To run the cross-language test suite, please run:</p>

<pre><code>      make cross
</code></pre>

<p>This will run a set of tests that use different language clients and
servers.</p></article></div>