<div class="announce instapaper_body md" data-path="README.md" id="readme"><article class="markdown-body entry-content" itemprop="mainContentOfPage"><h1>
<a name="user-content-scriptcs----" class="anchor" href="#scriptcs----" aria-hidden="true"><span class="octicon octicon-link"></span></a>scriptcs <a href="http://chocolatey.org/packages/scriptcs"><img src="https://camo.githubusercontent.com/14f518fa6ecc8ac6c47d443d9f04f0033c903635/687474703a2f2f696d672e736869656c64732e696f2f63686f636f6c617465792f762f73637269707463732e7376673f7374796c653d666c6174" alt="Chocolatey Version" data-canonical-src="http://img.shields.io/chocolatey/v/scriptcs.svg?style=flat" style="max-width:100%;"></a> <a href="http://chocolatey.org/packages/scriptcs"><img src="https://camo.githubusercontent.com/1365098aafb467d110eded4e7f68b5f15302d26d/687474703a2f2f696d672e736869656c64732e696f2f63686f636f6c617465792f64742f73637269707463732e7376673f7374796c653d666c6174" alt="Chocolatey Downloads" data-canonical-src="http://img.shields.io/chocolatey/dt/scriptcs.svg?style=flat" style="max-width:100%;"></a> <a href="https://travis-ci.org/scriptcs/scriptcs"><img src="https://camo.githubusercontent.com/8094dd6df31b1483fd54f3a85306c4ace7b86424/687474703a2f2f696d672e736869656c64732e696f2f7472617669732f73637269707463732f73637269707463732f6465762e7376673f7374796c653d666c6174" alt="*nix Build Status" data-canonical-src="http://img.shields.io/travis/scriptcs/scriptcs/dev.svg?style=flat" style="max-width:100%;"></a> <a href="http://ci.scriptcs.net"><img src="https://camo.githubusercontent.com/1fd76341fd264775e6b308f156c6aa7dfa211688/687474703a2f2f696d672e736869656c64732e696f2f7465616d636974792f636f64656265747465722f62743934392e7376673f7374796c653d666c6174" alt="Windows Build Status" data-canonical-src="http://img.shields.io/teamcity/codebetter/bt949.svg?style=flat" style="max-width:100%;"></a>
</h1>

<h2>
<a name="user-content-what-is-it" class="anchor" href="#what-is-it" aria-hidden="true"><span class="octicon octicon-link"></span></a>What is it?</h2>

<p>scriptcs makes it easy to write and execute C# with a simple text editor.</p>

<p>While Visual Studio, and other IDEs, are powerful tools, they can sometimes hinder productivity more than they promote it. You donâ€™t always need, or want, the overhead of a creating a new solution or project. Sometimes you want to just type away in your favorite text editor.</p>

<p>scriptcs frees you from Visual Studio, without sacrificing the advantages of a strongly-typed language. </p>

<ul class="task-list">
<li>Write C# in your favorite text editor.</li>
<li>Use NuGet to manage your dependencies.</li>
<li>The relaxed C# scripting syntax means you can write and execute an application with only one line of code. </li>
<li>Script Packs allow you to bootstrap the environment for new scripts, further reduces the amount of code necessary to take advantage of your favorite C# frameworks.</li>
</ul><h2>
<a name="user-content-getting-scriptcs" class="anchor" href="#getting-scriptcs" aria-hidden="true"><span class="octicon octicon-link"></span></a>Getting scriptcs</h2>

<p>Releases and nightly builds should be installed using <a href="http://chocolatey.org/">Chocolatey</a>. To install Chocolatey, execute the following command in your command prompt:</p>

<pre><code>@powershell -NoProfile -ExecutionPolicy Unrestricted -Command "iex ((New-Object Net.WebClient).DownloadString('https://chocolatey.org/install.ps1'))" &amp;&amp; SET PATH=%PATH%;%systemdrive%\chocolatey\bin
</code></pre>

<h3>
<a name="user-content-installing-scriptcs" class="anchor" href="#installing-scriptcs" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installing scriptcs</h3>

<p>Once Chocolatey has been installed, you can install the latest stable version of scriptcs from your command prompt:</p>

<pre><code>cinst scriptcs
</code></pre>

<p>Chocolatey will install scriptcs to <code>%LOCALAPPDATA%\scriptcs\</code> and update your PATH accordingly.</p>

<p><strong>Note:</strong> You may need to restart your command prompt after the installation completes.</p>

<h3>
<a name="user-content-staying-up-to-date" class="anchor" href="#staying-up-to-date" aria-hidden="true"><span class="octicon octicon-link"></span></a>Staying up-to-date</h3>

<p>With Chocolatey, keeping scriptcs updated is just as easy:</p>

<pre><code>cup scriptcs
</code></pre>

<h3>
<a name="user-content-nightly-builds" class="anchor" href="#nightly-builds" aria-hidden="true"><span class="octicon octicon-link"></span></a>Nightly builds</h3>

<p>Nightly builds are hosted on <a href="https://www.myget.org/">MyGet</a>, and can also be installed through with Chocolatey:</p>

<pre><code>cinst scriptcs -pre -source https://www.myget.org/F/scriptcsnightly/ 
</code></pre>

<h3>
<a name="user-content-building-from-source" class="anchor" href="#building-from-source" aria-hidden="true"><span class="octicon octicon-link"></span></a>Building from source</h3>

<h4>
<a name="user-content-windows" class="anchor" href="#windows" aria-hidden="true"><span class="octicon octicon-link"></span></a>Windows</h4>

<ol class="task-list">
<li><p>Ensure you have .NET Framework 4.5 installed.</p></li>
<li>
<p>Execute the build script.</p>

<p><code>build.cmd</code></p>
</li>
</ol><h4>
<a name="user-content-linux" class="anchor" href="#linux" aria-hidden="true"><span class="octicon octicon-link"></span></a>Linux</h4>

<ol class="task-list">
<li>
<p>Ensure you have Mono development tools 3.0 or later installed.</p>

<p><code>sudo apt-get install mono-devel</code></p>
</li>
<li>
<p>Ensure your mono instance has root SSL certificates</p>

<p><code>mozroots --import --sync</code></p>
</li>
<li>
<p>Execute the build script</p>

<p><code>./build.sh</code></p>
</li>
</ol><h2>
<a name="user-content-getting-started" class="anchor" href="#getting-started" aria-hidden="true"><span class="octicon octicon-link"></span></a>Getting Started</h2>

<h3>
<a name="user-content-using-the-repl" class="anchor" href="#using-the-repl" aria-hidden="true"><span class="octicon octicon-link"></span></a>Using the REPL</h3>

<p>The scriptcs REPL can be started by running scriptcs without any parameters. The REPL allows you to execute C# statements directly from your command prompt.</p>

<div class="highlight highlight-batchfile"><pre>C:\<span class="p">&gt;</span> <span class="n">scriptcs</span>
scriptcs (ctrl-c or blank to exit)

<span class="p">&gt;</span> <span class="n">var</span> message <span class="o">=</span> <span class="s2">"Hello, world!"</span>;
<span class="p">&gt;</span> <span class="n">Console</span>.WriteLine(message);
Hello<span class="p">,</span> world!
<span class="p">&gt;</span> 

<span class="n">C</span>:\&gt;
</pre></div>

<p>REPL supports all C# language constructs (i.e. class defnition, method definition), as well as multi-line input. For example:</p>

<div class="highlight highlight-batchfile"><pre>C:\<span class="p">&gt;</span> <span class="n">scriptcs</span>
scriptcs (ctrl-c or blank to exit)

<span class="p">&gt;</span> <span class="n">public</span> class Test {
    public string Name { get; <span class="k">set</span>; }
  }
<span class="p">&gt;</span> <span class="n">var</span> x <span class="o">=</span> new Test { Name <span class="o">=</span> <span class="s2">"Hello"</span> };
<span class="p">&gt;</span> <span class="n">x</span>
{Name: <span class="s2">"Hello"</span>}

C:\&gt;
</pre></div>

<h3>
<a name="user-content-writing-a-script" class="anchor" href="#writing-a-script" aria-hidden="true"><span class="octicon octicon-link"></span></a>Writing a script</h3>

<ul class="task-list">
<li>In an empty directory, create a new file named <code>app.csx</code>:</li>
</ul><div class="highlight highlight-c#"><pre><span class="k">using</span> <span class="nn">Raven.Client</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Raven.Client.Embedded</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Raven.Client.Indexes</span><span class="p">;</span>

<span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">"Starting RavenDB server..."</span><span class="p">);</span>

<span class="n">EmbeddableDocumentStore</span> <span class="n">documentStore</span> <span class="p">=</span> <span class="k">null</span><span class="p">;</span>
<span class="k">try</span>
<span class="p">{</span>
    <span class="n">documentStore</span> <span class="p">=</span> <span class="k">new</span> <span class="n">EmbeddableDocumentStore</span> <span class="p">{</span> <span class="n">UseEmbeddedHttpServer</span> <span class="p">=</span> <span class="k">true</span> <span class="p">};</span>
    <span class="n">documentStore</span><span class="p">.</span><span class="n">Initialize</span><span class="p">();</span>

    <span class="kt">var</span> <span class="n">url</span> <span class="p">=</span> <span class="kt">string</span><span class="p">.</span><span class="n">Format</span><span class="p">(</span><span class="s">"http://localhost:{0}"</span><span class="p">,</span> <span class="n">documentStore</span><span class="p">.</span><span class="n">Configuration</span><span class="p">.</span><span class="n">Port</span><span class="p">);</span>
    <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">"RavenDB started, listening on {0}."</span><span class="p">,</span> <span class="n">url</span><span class="p">);</span>

    <span class="n">Console</span><span class="p">.</span><span class="n">ReadKey</span><span class="p">();</span>
<span class="p">}</span>
<span class="k">finally</span>
<span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">documentStore</span> <span class="p">!=</span> <span class="k">null</span><span class="p">)</span>
        <span class="n">documentStore</span><span class="p">.</span><span class="n">Dispose</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>

<ul class="task-list">
<li>Install the <a href="https://nuget.org/packages/RavenDB.Embedded/">RavenDB.Embedded</a> package from NuGet using the <a href="https://github.com/scriptcs/scriptcs/wiki/Package-installation">install command</a>.</li>
</ul><div class="highlight highlight-batchfile"><pre>scriptcs -install RavenDB.Embedded
</pre></div>

<ul class="task-list">
<li>Execute your script. Note that listening on a port requires that the command prompt be launched using the <strong>Run as Administrator</strong> option.</li>
</ul><div class="highlight highlight-batchfile"><pre><span class="p">&gt;</span> <span class="n">scriptcs</span> app.csx
INFO : Starting to create execution components
INFO : Starting execution
Starting RavenDB server...
.. snip ..
RavenDB started<span class="p">,</span> listening <span class="k">on</span> http:<span class="n">//localhost:8080.</span>
</pre></div>

<ul class="task-list">
<li>Navigating to the URL that Raven is listening on will now bring up the RavenDB management studio.</li>
</ul><h3>
<a name="user-content-bootstrap-scripts-with-script-packs" class="anchor" href="#bootstrap-scripts-with-script-packs" aria-hidden="true"><span class="octicon octicon-link"></span></a>Bootstrap scripts with Script Packs</h3>

<p>Script Packs can be used to further reduce the amount of code you need to write when working with common frameworks. </p>

<ul class="task-list">
<li>In an empty directory, install the <a href="https://nuget.org/packages/ScriptCs.WebApi/">ScriptCs.WebApi</a> script pack from NuGet. The script pack will automatically imports the Web API namespaces and provides a convenient factory method for initializing the Web API host. It also replaces the default <code>ControllerResolver</code> with a custom implementation that allows Web API to discover controllers declared in scripts.</li>
</ul><div class="highlight highlight-batchfile"><pre>scriptcs -install ScriptCs.WebApi
</pre></div>

<ul class="task-list">
<li>Script packs can be imported into a script by calling <code>Require&lt;TScriptPack&gt;()</code>. Create a file named <code>server.csx</code> that contains the following code:</li>
</ul><div class="highlight highlight-c#"><pre><span class="k">public</span> <span class="k">class</span> <span class="nc">TestController</span> <span class="p">:</span> <span class="n">ApiController</span> <span class="p">{</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="nf">Get</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="s">"Hello world!"</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kt">var</span> <span class="n">webApi</span> <span class="p">=</span> <span class="n">Require</span><span class="p">&lt;</span><span class="n">WebApi</span><span class="p">&gt;();</span>
<span class="kt">var</span> <span class="n">server</span> <span class="p">=</span> <span class="n">webApi</span><span class="p">.</span><span class="n">CreateServer</span><span class="p">(</span><span class="s">"http://localhost:8888"</span><span class="p">);</span>
<span class="n">server</span><span class="p">.</span><span class="n">OpenAsync</span><span class="p">().</span><span class="n">Wait</span><span class="p">();</span>

<span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">"Listening..."</span><span class="p">);</span>
<span class="n">Console</span><span class="p">.</span><span class="n">ReadKey</span><span class="p">();</span>
<span class="n">server</span><span class="p">.</span><span class="n">CloseAsync</span><span class="p">().</span><span class="n">Wait</span><span class="p">();</span>
</pre></div>

<ul class="task-list">
<li>In a command prompt running as administrator, execute the <code>server.csx</code> file.</li>
</ul><div class="highlight highlight-batchfile"><pre>scriptcs server.csx 
</pre></div>

<ul class="task-list">
<li>Browse to http://localhost:8888/test/ to see the result of the TestController.Get method.</li>
</ul><div class="highlight highlight-xml"><pre><span class="nt">&lt;string</span> <span class="na">xmlns=</span><span class="s">"http://schemas.microsoft.com/2003/10/Serialization/"</span><span class="nt">&gt;</span>Hello world!<span class="nt">&lt;/string&gt;</span>
</pre></div>

<h3>
<a name="user-content-referencing-scripts" class="anchor" href="#referencing-scripts" aria-hidden="true"><span class="octicon octicon-link"></span></a>Referencing scripts</h3>

<ul class="task-list">
<li><p>Move the TestController class from the previous example into a new file named <code>controller.csx</code> with the following content.</p></li>
<li><p>On the first line of <code>server.csx</code>, reference <code>controller.csx</code> using the <a href="https://github.com/scriptcs/scriptcs/wiki/Writing-a-script#loading-referenced-scripts">#load directive</a>. <strong>Note:</strong> #load directives must be placed at the top of a script, otherwise they will be ignored.</p></li>
</ul><div class="highlight highlight-c#"><pre><span class="err">#</span><span class="n">load</span> <span class="s">"controller.csx"</span>
</pre></div>

<ul class="task-list">
<li>In a command prompt running as administrator, execute the <code>server.csx</code> file.</li>
</ul><div class="highlight highlight-batchfile"><pre>scriptcs server.csx 
</pre></div>

<ul class="task-list">
<li>Browse to http://localhost:8888/test/ to see the result of the TestController.Get method.</li>
</ul><div class="highlight highlight-xml"><pre><span class="nt">&lt;string</span> <span class="na">xmlns=</span><span class="s">"http://schemas.microsoft.com/2003/10/Serialization/"</span><span class="nt">&gt;</span>Hello world!<span class="nt">&lt;/string&gt;</span>
</pre></div>

<h3>
<a name="user-content-referencing-assemblies" class="anchor" href="#referencing-assemblies" aria-hidden="true"><span class="octicon octicon-link"></span></a>Referencing assemblies</h3>

<p>You can reference additional assemblies from the GAC or from the <code>bin</code> folder in your script's directory using the <a href="https://github.com/scriptcs/scriptcs/wiki/Writing-a-script#referencing-assemblies">#r directive</a>:</p>

<div class="highlight highlight-c#"><pre><span class="err">#</span><span class="n">r</span> <span class="s">"nunit.core.dll"</span>
<span class="err">#</span><span class="n">r</span> <span class="s">"nunit.core.interfaces.dll"</span>

<span class="kt">var</span> <span class="n">path</span> <span class="p">=</span> <span class="s">"UnitTests.dll"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">runner</span> <span class="p">=</span> <span class="n">TestSetup</span><span class="p">.</span><span class="n">GetRunner</span><span class="p">(</span><span class="k">new</span><span class="p">[]</span> <span class="p">{</span><span class="n">path</span><span class="p">});</span>
<span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="n">runner</span><span class="p">.</span><span class="n">Run</span><span class="p">(</span><span class="k">new</span> <span class="n">ConsoleListener</span><span class="p">(</span><span class="n">msg</span> <span class="p">=&gt;</span> <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">msg</span><span class="p">)),</span> <span class="n">TestFilter</span><span class="p">.</span><span class="n">Empty</span><span class="p">,</span> <span class="k">true</span><span class="p">,</span>     <span class="n">LoggingThreshold</span><span class="p">.</span><span class="n">All</span><span class="p">);</span>

<span class="n">Console</span><span class="p">.</span><span class="n">ReadKey</span><span class="p">();</span>
</pre></div>

<h3>
<a name="user-content-debugging" class="anchor" href="#debugging" aria-hidden="true"><span class="octicon octicon-link"></span></a>Debugging</h3>

<p>Instructions for debugging scripts using Visual Studio can be found on the <a href="https://github.com/scriptcs/scriptcs/wiki/Debugging-a-script">wiki</a>.</p>

<h3>
<a name="user-content-package-installation" class="anchor" href="#package-installation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Package installation</h3>

<p>You can install any NuGet packages directly from the scriptcs CLI. This will pull the relevant packages from NuGet, and install them in the packages folder.</p>

<p>Once the packages are installed, you can simply start using them in your script code directly (just import the namespaces - no additional bootstraping or DLL referencing is needed).</p>

<p>The <code>install</code> command will also create a <code>packages.config</code> file if you don't have one - so that you can easily redistribute your script (without having to copy the package binaries).</p>

<ul class="task-list">
<li>
<p><code>scriptcs -install {package name}</code> will install the desired package from NuGet. </p>

<p>For example: </p>

<pre><code>scriptcs -install ServiceStack
</code></pre>
</li>
<li><p><code>scriptcs -install</code> (without package name) will look for the <code>packages.config</code> file located in the current execution directory, and install all the packages specified there. You only need to specify <strong>top level</strong> packages.</p></li>
</ul><p>For example, you might create the following <code>packages.config</code>:</p>

<pre><code>&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;packages&gt;
    &lt;package id="Nancy.Hosting.Self" version="0.16.1" targetFramework="net40" /&gt;
    &lt;package id="Nancy.Bootstrappers.Autofac" version="0.16.1" targetFramework="net40" /&gt;
    &lt;package id="Autofac" version="2.6.3.862" targetFramework="net40" /&gt;
&lt;/packages&gt;
</code></pre>

<p>And then just call:</p>

<pre><code>scriptcs -install
</code></pre>

<p>As a result, all packages specified in the <code>packages.config</code>, including all dependencies, will be downloaded and installed in the <code>packages</code> folder. </p>

<h2>
<a name="user-content-contributing" class="anchor" href="#contributing" aria-hidden="true"><span class="octicon octicon-link"></span></a>Contributing</h2>

<ul class="task-list">
<li>Read our <a href="https://github.com/scriptcs/scriptcs/blob/master/CONTRIBUTING.md">Contribution Guidelines</a>. </li>
</ul><h2>
<a name="user-content-samples-and-documentation" class="anchor" href="#samples-and-documentation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Samples and Documentation</h2>

<p>Additional samples can be contributed to our <a href="https://github.com/scriptcs/scriptcs-samples">samples repository</a>. Documentation can be found on our <a href="https://github.com/scriptcs/scriptcs/wiki">wiki</a>. </p>

<h2>
<a name="user-content-community" class="anchor" href="#community" aria-hidden="true"><span class="octicon octicon-link"></span></a>Community</h2>

<p>Want to chat? In addition to Twitter, you can find us on <a href="https://groups.google.com/forum/?fromgroups#!forum/scriptcs">Google Groups</a> and <a href="https://jabbr.net/#/rooms/scriptcs">JabbR</a>!</p>

<h2>
<a name="user-content-coordinators" class="anchor" href="#coordinators" aria-hidden="true"><span class="octicon octicon-link"></span></a>Coordinators</h2>

<ul class="task-list">
<li>
<a href="https://github.com/glennblock">Glenn Block</a> (<a href="https://twitter.com/intent/user?screen_name=gblock">@gblock</a>)</li>
<li>
<a href="https://github.com/jrusbatch">Justin Rusbatch</a> (<a href="https://twitter.com/intent/user?screen_name=jrusbatch">@jrusbatch</a>)</li>
<li>
<a href="https://github.com/filipw">Filip Wojcieszyn</a> (<a href="https://twitter.com/intent/user?screen_name=filip_woj">@filip_woj</a>)</li>
</ul><h2>
<a name="user-content-core-committers" class="anchor" href="#core-committers" aria-hidden="true"><span class="octicon octicon-link"></span></a>Core Committers</h2>

<ul class="task-list">
<li>
<a href="http://github.com/dschenkelman">Damian Schenkelman</a> (<a href="https://twitter.com/intent/user?screen_name=dschenkelman">@dschenkelman</a>)</li>
<li>
<a href="http://github.com/khellang">Kristian Hellang</a> (<a href="https://twitter.com/intent/user?screen_name=khellang">@khellang</a>)</li>
<li>
<a href="http://github.com/adamralph">Adam Ralph</a> (<a href="https://twitter.com/intent/user?screen_name=adamralph">@adamralph</a>)</li>
</ul><h2>
<a name="user-content-credits" class="anchor" href="#credits" aria-hidden="true"><span class="octicon octicon-link"></span></a>Credits</h2>

<ul class="task-list">
<li>Check out the <a href="https://github.com/scriptcs/scriptcs/wiki/Contributors">list of developers</a> responsible for getting scriptcs to where it is today! </li>
<li>Special thanks to Filip Wojcieszyn for being the inspiration behind this with his Roslyn Web API posts.</li>
<li>Thanks to the Roslyn team who helped point me in the right direction.</li>
</ul><h2>
<a name="user-content-license" class="anchor" href="#license" aria-hidden="true"><span class="octicon octicon-link"></span></a>License</h2>

<p><a href="https://github.com/scriptcs/scriptcs/blob/master/LICENSE.md">Apache 2 License</a></p></article></div>