<div class="announce instapaper_body md" data-path="README.md" id="readme"><article class="markdown-body entry-content" itemprop="mainContentOfPage"><h1>
<a name="user-content-unilua" class="anchor" href="#unilua" aria-hidden="true"><span class="octicon octicon-link"></span></a>UniLua</h1>

<p>A pure C# implementation of Lua 5.2 focus on compatibility with Unity3D.  </p>

<p>UniLua是一个纯C#的Lua 5.2实现，专注于与Unity3D的兼容性。  </p>

<h2>
<a name="user-content-%E4%B8%80%E4%BA%9B%E8%A1%A5%E5%85%85%E8%AF%B4%E6%98%8E" class="anchor" href="#%E4%B8%80%E4%BA%9B%E8%A1%A5%E5%85%85%E8%AF%B4%E6%98%8E" aria-hidden="true"><span class="octicon octicon-link"></span></a>一些补充说明</h2>

<p>UniLua 主要关注的还是对 lua 本身的实现，而不是怎么把 Unity3D 引擎提供的功能都引入到 lua 里。</p>

<p>从 lua 调用 C# 函数不建议使用 FFI 库(虽然示例工程里用了，看起来方便，但是并不完善，效率也不好)。建议参考 <a href="https://github.com/xebecnan/UniLua/wiki/%E4%BB%8E-Lua-%E8%B0%83%E7%94%A8-C%23-%E5%87%BD%E6%95%B0-%28-Calling-C%23-funcitons-from-Lua-%29">从 Lua 调用 C# 函数 ( Calling C# funcitons from Lua )</a> 来自己实现封装函数。</p>

<h2>
<a name="user-content-%E7%A4%BA%E4%BE%8B%E5%B7%A5%E7%A8%8B--sample-project-" class="anchor" href="#%E7%A4%BA%E4%BE%8B%E5%B7%A5%E7%A8%8B--sample-project-" aria-hidden="true"><span class="octicon octicon-link"></span></a>示例工程 ( Sample Project )</h2>

<p>To demonstrate the basic use of UniLua, a sample project is included.<br>
Open Assets\Stages\GameMain.unity with Unity3D, and just click the "Play" button.<br>
An icon will appear in the screen, and you can move it around with WSAD keys.</p>

<p>项目中包含了一个微型的示例工程，用来演示 UniLua 的基本使用。<br>
用 Unity3D 打开 Assets\Stages\GameMain.unity 然后直接点击播放按钮运行。<br>
屏幕上会显示一个小图标，你可以用 WSAD 键控制它四处移动。</p>

<h2>
<a name="user-content-%E5%BC%80%E5%8F%91%E7%8A%B6%E5%86%B5--development-status-" class="anchor" href="#%E5%BC%80%E5%8F%91%E7%8A%B6%E5%86%B5--development-status-" aria-hidden="true"><span class="octicon octicon-link"></span></a>开发状况 ( Development Status )</h2>

<ul class="task-list">
<li>基本特性 ( Basic features )

<ul class="task-list">
<li>所有 Lua 的基本语言特性都已实现，包括<code>协程</code>和<code>元表</code>，并且与 Lua5.2 标准实现一致。部分 GC 相关的元方法如 <code>__gc</code> 和 <code>__mode</code> 未实现<br>
( All language features are implemented exactly the same as the standard Lua 5.2, including <code>coroutine</code> and <code>metatable</code>, except some GC-related metamethods like <code>__gc</code> and <code>__mode</code>. )</li>
</ul>
</li>
<li>
<p>内置库 ( Libraries )</p>

<ul class="task-list">
<li>Base lib: done</li>
<li>Package lib: done</li>
<li>Coroutine lib: done</li>
<li>Table lib: done</li>
<li>IO lib: not implemented

<ul class="task-list">
<li>因为暂时没有需求 ( not needed in our games right now )</li>
</ul>
</li>
<li>OS lib: not implemented

<ul class="task-list">
<li>因为暂时没有需求 ( not needed in our games right now )</li>
</ul>
</li>
<li>String lib: partially implemented

<ul class="task-list">
<li>因为暂时没有需求 ( not needed in our games right now )</li>
</ul>
</li>
<li>Debug lib: partially implemented

<ul class="task-list">
<li>勉强够用了 ( barely enough )</li>
</ul>
</li>
</ul>
</li>
<li>
<p>额外实现的库 ( Additional Libraries )</p>

<ul class="task-list">
<li>FFI lib: basicly done

<ul class="task-list">
<li>实验性质,不建议在要求性能的环境下使用 ( experimental. not suggested to use in performance-critical situation )</li>
</ul>
</li>
<li>Encoding lib: basicly done

<ul class="task-list">
<li>支持在 UTF-8 编码和 UTF-16 编码间进行转换 ( support convert between UTF-8 and UTF-16 )</li>
</ul>
</li>
</ul>
</li>
<li>
<p>TODO</p>

<ul class="task-list">
<li>Complete string lib.</li>
<li>Complete debug lib.</li>
</ul>
</li>
<li>
<p>已知的问题 ( Known Issues )</p>

<ul class="task-list">
<li>Metamethod '__gc' will not working.

<ul class="task-list">
<li>因为没有自己实现GC机制,而是依赖于C#的GC ( for directly depending on C#'s GC mechanism )</li>
</ul>
</li>
<li>Weak tables is not supported: '__mode' will not working.

<ul class="task-list">
<li>原因同上 ( the same reason mentioned above )</li>
</ul>
</li>
<li>full userdata is not supported</li>
</ul>
</li>
</ul><h2>
<a name="user-content-scimark" class="anchor" href="#scimark" aria-hidden="true"><span class="octicon octicon-link"></span></a>SciMark</h2>

<p>test on Unity3D 4.3.1, Windows 7, Intel i5-3470</p>

<ul class="task-list">
<li>FFT 1.07  [1024]</li>
<li>SOR 2.51  [100]</li>
<li>MC 0.66</li>
<li>SPARSE 1.59  [1000, 5000]</li>
<li>LU 1.84  [100]</li>
<li>SciMark 1.53  [small problem sizes]</li>
</ul><h2>
<a name="user-content-%E5%B8%B8%E7%94%A8%E9%93%BE%E6%8E%A5--links-" class="anchor" href="#%E5%B8%B8%E7%94%A8%E9%93%BE%E6%8E%A5--links-" aria-hidden="true"><span class="octicon octicon-link"></span></a>常用链接 ( Links )</h2>

<ul class="task-list">
<li>
<a href="https://github.com/xebecnan/UniLua/wiki">Wiki首页 (Wiki Homepage)</a>

<ul class="task-list">
<li><a href="https://github.com/xebecnan/UniLua/wiki/%E4%B8%80%E4%BA%9B%E7%AE%80%E5%8D%95%E7%9A%84%E8%AF%B4%E6%98%8E-%28-Quick-Start-%29">一些简单的说明 ( Quick Start )</a></li>
<li><a href="https://github.com/xebecnan/UniLua/wiki/%E4%BB%8E-C%23-%E8%B0%83%E7%94%A8-Lua-%28-Calling-Lua-function-from-C%23-%29">从 C# 调用 Lua ( Calling Lua function from C# )</a></li>
<li><a href="https://github.com/xebecnan/UniLua/wiki/%E4%BB%8E-Lua-%E8%B0%83%E7%94%A8-C%23-%E5%87%BD%E6%95%B0-%28-Calling-C%23-funcitons-from-Lua-%29">从 Lua 调用 C# 函数 ( Calling C# funcitons from Lua )</a></li>
<li><a href="https://github.com/xebecnan/UniLua/wiki/%E4%BB%8Eassetbundle%E5%8A%A0%E8%BD%BD%E4%BB%A3%E7%A0%81-%28-loading-code-from-asset-bundles-%29">从AssetBundle加载代码 ( Loading code from asset bundles )</a></li>
<li><a href="https://github.com/xebecnan/UniLua/wiki/Utf-8-support">UTF-8 support</a></li>
<li><a href="https://github.com/xebecnan/UniLua/wiki/Lua-functions">Reference: Lua functions</a></li>
<li><a href="https://github.com/xebecnan/UniLua/wiki/C%23-API">Reference: C# API</a></li>
</ul>
</li>
</ul></article></div>