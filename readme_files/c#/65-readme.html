<div class="announce instapaper_body md" data-path="README.md" id="readme"><article class="markdown-body entry-content" itemprop="mainContentOfPage"><h1>
<a name="user-content-microsoft-azure-sdk-for-net" class="anchor" href="#microsoft-azure-sdk-for-net" aria-hidden="true"><span class="octicon octicon-link"></span></a>Microsoft Azure SDK for .NET</h1>

<p>The Microsoft Azure SDK for .NET allows you to build applications 
that take advantage of scalable cloud computing resources.</p>

<p>This repository contains the open source subset of the .NET SDK. For documentation of the 
complete SDK, please see the <a href="http://www.windowsazure.com/en-us/develop/net/">Microsoft Azure .NET Developer Center</a>.</p>

<h1>
<a name="user-content-features" class="anchor" href="#features" aria-hidden="true"><span class="octicon octicon-link"></span></a>Features</h1>

<ul class="task-list">
<li>
<p>Storage</p>

<blockquote>
<p>Available in the separate <a href="https://github.com/Azure/azure-storage-net/">Storage repository</a></p>
</blockquote>

<ul class="task-list">
<li>Tables

<ul class="task-list">
<li>Create/Delete Tables</li>
<li>Query/Create/Read/Update/Delete Entities</li>
</ul>
</li>
<li>Blobs

<ul class="task-list">
<li>Create/Read/Update/Delete Blobs</li>
</ul>
</li>
<li>Files

<ul class="task-list">
<li>Create/Update/Delete Directories</li>
<li>Create/Read/Update/Delete Files</li>
</ul>
</li>
<li>Queues

<ul class="task-list">
<li>Create/Delete Queues</li>
<li>Insert/Peek Queue Messages</li>
<li>Advanced Queue Operations</li>
</ul>
</li>
</ul>
</li>
<li><p>Configuration Manager</p></li>
<li>Management Libraries

<ul class="task-list">
<li>Compute

<ul class="task-list">
<li>Virtual Machines</li>
<li>Hosted Services</li>
</ul>
</li>
<li>Infrastructure</li>
<li>Media Services Management</li>
<li>Scheduler Client &amp; Management</li>
<li>Storage</li>
<li>Network</li>
<li>Web Sites</li>
</ul>
</li>
<li><p>Media Services</p></li>
<li>
<p>Management Libraries (Preview)</p>

<ul class="task-list">
<li>Service Bus Management</li>
<li>Monitoring Services</li>
<li>Store</li>
<li>
<p>SQL Database</p>

<blockquote>
<p>Available in the separate <a href="http://github.com/WindowsAzure/azure-sdk-for-media-services/tree/master/src/net/Client">Media Services repository</a></p>
</blockquote>
</li>
</ul>
</li>
<li>
<p>Mobile Services</p>

<blockquote>
<p>Available in the separate <a href="https://github.com/WindowsAzure/azure-mobile-services">Mobile Services repository</a></p>
</blockquote>
</li>
</ul><h1>
<a name="user-content-getting-started" class="anchor" href="#getting-started" aria-hidden="true"><span class="octicon octicon-link"></span></a>Getting started</h1>

<p>The complete Microsoft Azure SDK can be downloaded from the <a href="http://www.windowsazure.com/en-us/downloads/?sdk=net">Microsoft Azure Downloads Page</a> and ships with support for building deployment packages, integrating with tooling, rich command line tooling, and more.</p>

<p>For the best development experience, developers should use the official Microsoft NuGet packages for libraries. NuGet packages are regularly updated with new functionality and hotfixes. </p>

<h2>
<a name="user-content-target-frameworks" class="anchor" href="#target-frameworks" aria-hidden="true"><span class="octicon octicon-link"></span></a>Target Frameworks</h2>

<ul class="task-list">
<li>.NET Framework 4.5 and newer</li>
<li>.NET Framework 4.0</li>
<li>Storage Libraries are available for Windows 8 for Windows Store development as well as Windows Phone 8</li>
</ul><p>As of 10/2013, SDK 2.2 supports targeting only .NET Framework 4.0 and newer.</p>

<blockquote>
<p>Need support for previous versions of .NET such as 3.5? Version 2.1 of the Azure SDK for .NET supports this version and can still be used today.</p>
</blockquote>

<h2>
<a name="user-content-requirements" class="anchor" href="#requirements" aria-hidden="true"><span class="octicon octicon-link"></span></a>Requirements</h2>

<ul class="task-list">
<li>Microsoft Azure Subscription: To call Microsoft Azure services, you need to first <a href="https://account.windowsazure.com/Home/Index">create an account</a>. Sign up for a free trial or use your MSDN subscriber benefits.</li>
<li>Hosting: To host your .NET code in Azure, you additionally need to download the full Microsoft Azure SDK for .NET - which includes packaging,
emulation, and deployment tools, or use Microsoft Azure Web Sites to deploy ASP.NET web applications.</li>
</ul><h2>
<a name="user-content-need-help" class="anchor" href="#need-help" aria-hidden="true"><span class="octicon octicon-link"></span></a>Need Help?</h2>

<p>Be sure to check out the <a href="http://go.microsoft.com/fwlink/?LinkId=234489">Microsoft Azure Developer Forums on MSDN</a> if you have trouble with the provided code or use StackOverflow.</p>

<h2>
<a name="user-content-collaborate--contribute" class="anchor" href="#collaborate--contribute" aria-hidden="true"><span class="octicon octicon-link"></span></a>Collaborate &amp; Contribute</h2>

<p>We gladly accept community contributions.</p>

<ul class="task-list">
<li>Issues: Please report bugs using the Issues section of GitHub</li>
<li>Forums: Interact with the development teams on StackOverflow or the Azure Forums</li>
<li>Source Code Contributions: Please follow the <a href="http://windowsazure.github.io/guidelines.html">contribution guidelines for Microsoft Azure open source</a> that details information on onboarding as a contributor </li>
</ul><p>For general suggestions about Azure please use our <a href="http://www.mygreatwindowsazureidea.com/forums/34192-windows-azure-feature-voting">UserVoice forum</a>.</p>

<h1>
<a name="user-content-storage-client-library" class="anchor" href="#storage-client-library" aria-hidden="true"><span class="octicon octicon-link"></span></a>Storage Client Library</h1>

<p>To use Storage services (Blob, Table, Queue, File), the Storage Client Library provides rich APIs for interacting with the Storage service.</p>

<p>The Storage Client Library ships with the Microsoft Azure SDK for .NET and also on NuGet. You'll find the latest version and hotfixes on NuGet via the <code>WindowsAzure.Storage</code> package.</p>

<h2>
<a name="user-content-storage-source-code" class="anchor" href="#storage-source-code" aria-hidden="true"><span class="octicon octicon-link"></span></a>Storage source code</h2>

<h3>
<a name="user-content-v30" class="anchor" href="#v30" aria-hidden="true"><span class="octicon octicon-link"></span></a>v3.0+</h3>

<p>With the release of the 3.0.0 storage client library, you can find the latest storage library (and associated issues) in the separate repo <a href="http://github.com/WindowsAzure/azure-storage-net/">azure-storage-net</a>.</p>

<h3>
<a name="user-content-v2014" class="anchor" href="#v2014" aria-hidden="true"><span class="octicon octicon-link"></span></a>v2.0.1.4</h3>

<p>The latest version of the v2.1.x storage client library is available in the azure-sdk-for-net repo under the <a href="https://github.com/WindowsAzure/azure-sdk-for-net/releases/tag/v2.1.0.4"><code>v2.1.0.4</code> tag</a>. </p>

<h2>
<a name="user-content-nuget-package-install" class="anchor" href="#nuget-package-install" aria-hidden="true"><span class="octicon octicon-link"></span></a>NuGet package install</h2>

<p>The storage client libaries are delivered via NuGet officially by Microsoft, ready for use within your project. They are installed with the <a href="http://www.nuget.org/">NuGet package manager</a> which is built into Visual Studio 2013; for earlier releases of Visual Studio, NuGet is a quick and easy extension to install.</p>

<p><code>Install-Package WindowsAzure.Storage</code></p>

<h2>
<a name="user-content-storage-code-samples" class="anchor" href="#storage-code-samples" aria-hidden="true"><span class="octicon octicon-link"></span></a>Storage code samples</h2>

<blockquote>
<p>Note:
How-Tos focused around accomplishing specific tasks are available on the <a href="http://www.windowsazure.com/en-us/develop/net/">Azure .NET Developer Center</a>.</p>
</blockquote>

<h3>
<a name="user-content-creating-a-table" class="anchor" href="#creating-a-table" aria-hidden="true"><span class="octicon octicon-link"></span></a>Creating a Table</h3>

<p>First, include the classes you need (in this case we'll include the Storage and Table
and further demonstrate creating a table):</p>

<div class="highlight highlight-csharp"><pre><span class="k">using</span> <span class="nn">Microsoft.WindowsAzure.Storage</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Microsoft.WindowsAzure.Storage.Table</span><span class="p">;</span>
</pre></div>

<p>To perform an operation on any  resource you will first instantiate
a <em>client</em> which allows performing actions on it. The resource is known as an 
<em>entity</em>. To do so for Table you also have to authenticate your request:</p>

<div class="highlight highlight-csharp"><pre><span class="kt">var</span> <span class="n">storageAccount</span> <span class="p">=</span> <span class="n">CloudStorageAccount</span><span class="p">.</span><span class="n">Parse</span><span class="p">(</span>
    <span class="n">CloudConfigurationManager</span><span class="p">.</span><span class="n">GetSetting</span><span class="p">(</span><span class="s">"StorageConnectionString"</span><span class="p">));</span>
<span class="kt">var</span> <span class="n">tableClient</span> <span class="p">=</span> <span class="n">storageAccount</span><span class="p">.</span><span class="n">CreateCloudTableClient</span><span class="p">();</span>
</pre></div>

<p>Now, to create a table entity using the client:</p>

<div class="highlight highlight-csharp"><pre><span class="n">CloudTable</span> <span class="n">peopleTable</span> <span class="p">=</span> <span class="n">tableClient</span><span class="p">.</span><span class="n">GetTableReference</span><span class="p">(</span><span class="s">"people"</span><span class="p">);</span>
<span class="n">peopleTable</span><span class="p">.</span><span class="n">Create</span><span class="p">();</span>
</pre></div>

<h1>
<a name="user-content-microsoft-azure-management-libraries" class="anchor" href="#microsoft-azure-management-libraries" aria-hidden="true"><span class="octicon octicon-link"></span></a>Microsoft Azure Management Libraries</h1>

<p>Automate, configure and command your deployments, infrastructure and accounts with the Microsoft Azure Management Libraries.</p>

<blockquote>
<p><em>Preview:</em> At this time some of the Microsoft Azure Management Libraries are still in the preview state as the teams gather feedback and prepare for the initial release. Please enjoy using the libraries and source in any capacity, but understand that there may be breaking changes with the 1.0 release.</p>
</blockquote>

<h2>
<a name="user-content-download--install" class="anchor" href="#download--install" aria-hidden="true"><span class="octicon octicon-link"></span></a>Download &amp; Install</h2>

<h3>
<a name="user-content-via-git" class="anchor" href="#via-git" aria-hidden="true"><span class="octicon octicon-link"></span></a>Via Git</h3>

<p>To get the source code of the SDK via git just type:</p>

<div class="highlight highlight-bash"><pre>git clone git://github.com/WindowsAzure/azure-sdk-for-net.git
<span class="nb">cd </span>azure-sdk-for-net<span class="se">\l</span>ibraries
</pre></div>

<h3>
<a name="user-content-via-nuget" class="anchor" href="#via-nuget" aria-hidden="true"><span class="octicon octicon-link"></span></a>Via NuGet</h3>

<p>Official binaries are distributed by Microsoft and available using the .NET package manager <a href="http://www.nuget.org/">NuGet</a>.</p>

<p>To get all of the management libraries setup in your project:</p>

<p><code>Install-Package Microsoft.WindowsAzure.Management.Libraries -IncludePrerelease</code></p>

<blockquote>
<p>You can also install just the management library for a service of interest. To deploy a virtual machine to the cloud, the <code>Microsoft.WindowsAzure.Management.Compute</code> package can be used, for example.</p>
</blockquote>

<h3>
<a name="user-content-code-samples" class="anchor" href="#code-samples" aria-hidden="true"><span class="octicon octicon-link"></span></a>Code Samples</h3>

<p>This code would result with a list of the regions. The location object provided in the result provides properties to define which assets are supported by each region. </p>

<div class="highlight highlight-csharp"><pre><span class="k">using</span> <span class="p">(</span><span class="n">ManagementClient</span> <span class="n">client</span> <span class="p">=</span> <span class="n">CloudContext</span><span class="p">.</span><span class="n">Clients</span><span class="p">.</span><span class="n">CreateManagementClient</span><span class="p">(</span><span class="n">Credentials</span><span class="p">))</span>
<span class="p">{</span>
    <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="k">await</span> <span class="n">client</span><span class="p">.</span><span class="n">Locations</span><span class="p">.</span><span class="n">ListAsync</span><span class="p">();</span>
    <span class="kt">var</span> <span class="n">locations</span> <span class="p">=</span> <span class="n">result</span><span class="p">.</span><span class="n">Locations</span><span class="p">;</span>
    <span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">location</span> <span class="k">in</span> <span class="n">locations</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">"Location: {0}"</span><span class="p">,</span> <span class="n">location</span><span class="p">.</span><span class="n">Name</span><span class="p">);</span>

        <span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">feature</span> <span class="k">in</span> <span class="n">location</span><span class="p">.</span><span class="n">AvailableServices</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">feature</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p>To create a storage account,The code below will create a storage account in the West US region. </p>

<div class="highlight highlight-csharp"><pre><span class="kt">var</span> <span class="n">storageAccountName</span> <span class="p">=</span> <span class="s">"mystorageaccount"</span><span class="p">;</span>

<span class="k">using</span> <span class="p">(</span><span class="n">StorageManagementClient</span> <span class="n">client</span> <span class="p">=</span>
    <span class="n">CloudContext</span><span class="p">.</span><span class="n">Clients</span><span class="p">.</span><span class="n">CreateStorageManagementClient</span><span class="p">(</span><span class="n">Credentials</span><span class="p">))</span>
<span class="p">{</span>
    <span class="k">await</span> <span class="n">client</span><span class="p">.</span><span class="n">StorageAccounts</span><span class="p">.</span><span class="n">CreateAsync</span><span class="p">(</span>
        <span class="k">new</span> <span class="n">StorageAccountCreateParameters</span>
        <span class="p">{</span>
            <span class="n">ServiceName</span> <span class="p">=</span> <span class="n">storageAccountName</span><span class="p">,</span>
            <span class="n">Location</span> <span class="p">=</span> <span class="n">LocationNames</span><span class="p">.</span><span class="n">WestUS</span>
        <span class="p">});</span>
<span class="p">}</span>
</pre></div>

<p>The code below will obtain the storage account keys to construct a connection string on the fly.</p>

<div class="highlight highlight-csharp"><pre><span class="kt">var</span> <span class="n">storageAccountName</span> <span class="p">=</span> <span class="s">"mystorageaccount"</span><span class="p">;</span>

<span class="k">using</span> <span class="p">(</span><span class="n">StorageManagementClient</span> <span class="n">client</span> <span class="p">=</span>
    <span class="n">CloudContext</span><span class="p">.</span><span class="n">Clients</span><span class="p">.</span><span class="n">CreateStorageManagementClient</span><span class="p">(</span><span class="n">Credentials</span><span class="p">))</span>
<span class="p">{</span>
    <span class="kt">var</span> <span class="n">keys</span> <span class="p">=</span> <span class="k">await</span>
        <span class="n">client</span><span class="p">.</span><span class="n">StorageAccounts</span><span class="p">.</span><span class="n">GetKeysAsync</span><span class="p">(</span><span class="n">storageAccountName</span><span class="p">);</span>

    <span class="kt">string</span> <span class="n">connectionString</span> <span class="p">=</span> <span class="kt">string</span><span class="p">.</span><span class="n">Format</span><span class="p">(</span>
        <span class="n">CultureInfo</span><span class="p">.</span><span class="n">InvariantCulture</span><span class="p">,</span>
        <span class="s">"DefaultEndpointsProtocol=https;AccountName={0};AccountKey={1}"</span><span class="p">,</span>
        <span class="n">storageAccountName</span><span class="p">,</span> <span class="n">keys</span><span class="p">.</span><span class="n">SecondaryKey</span><span class="p">);</span>

    <span class="k">return</span> <span class="n">connectionString</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>

<p>The following code will create a new (empty) Cloud Service in the subscription. </p>

<div class="highlight highlight-csharp"><pre><span class="kt">var</span> <span class="n">cloudServiceName</span> <span class="p">=</span> <span class="s">"MyCloudService"</span><span class="p">;</span>

<span class="k">using</span> <span class="p">(</span><span class="n">ComputeManagementClient</span> <span class="n">client</span> <span class="p">=</span>
    <span class="n">CloudContext</span><span class="p">.</span><span class="n">Clients</span><span class="p">.</span><span class="n">CreateComputeManagementClient</span><span class="p">(</span><span class="n">Credentials</span><span class="p">))</span>
<span class="p">{</span>
    <span class="k">await</span> <span class="n">client</span><span class="p">.</span><span class="n">HostedServices</span><span class="p">.</span><span class="n">CreateAsync</span><span class="p">(</span>
        <span class="k">new</span> <span class="n">HostedServiceCreateParameters</span>
        <span class="p">{</span>
            <span class="n">ServiceName</span> <span class="p">=</span> <span class="n">cloudServiceName</span><span class="p">,</span>
            <span class="n">Location</span> <span class="p">=</span> <span class="n">LocationNames</span><span class="p">.</span><span class="n">WestUS</span>
        <span class="p">});</span>
<span class="p">}</span>
</pre></div>

<p>Once a storage account has been created, the Windows Storage SDK can be used to upload .CSPKG files into the storage account. Then, the cloud service could be deployed. The code below demonstrates this functionality. </p>

<div class="highlight highlight-csharp"><pre><span class="kt">var</span> <span class="n">blobs</span> <span class="p">=</span> <span class="n">CloudStorageAccount</span><span class="p">.</span><span class="n">Parse</span><span class="p">(</span><span class="n">storageConnectionString</span><span class="p">).</span><span class="n">CreateCloudBlobClient</span><span class="p">();</span>

<span class="kt">var</span> <span class="n">container</span> <span class="p">=</span> <span class="n">blobs</span><span class="p">.</span><span class="n">GetContainerReference</span><span class="p">(</span><span class="s">"deployments"</span><span class="p">);</span>

<span class="k">await</span> <span class="n">container</span><span class="p">.</span><span class="n">CreateIfNotExistsAsync</span><span class="p">();</span>

<span class="k">await</span> <span class="n">container</span><span class="p">.</span><span class="n">SetPermissionsAsync</span><span class="p">(</span>
    <span class="k">new</span> <span class="nf">BlobContainerPermissions</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">PublicAccess</span> <span class="p">=</span> <span class="n">BlobContainerPublicAccessType</span><span class="p">.</span><span class="n">Container</span>
    <span class="p">});</span>

<span class="kt">var</span> <span class="n">blob</span> <span class="p">=</span> <span class="n">container</span><span class="p">.</span><span class="n">GetBlockBlobReference</span><span class="p">(</span><span class="s">"MyCloudService.cspkg"</span><span class="p">);</span>

<span class="k">await</span> <span class="n">blob</span><span class="p">.</span><span class="n">UploadFromFileAsync</span><span class="p">(</span><span class="s">"MyCloudService.cspkg"</span><span class="p">,</span> <span class="n">FileMode</span><span class="p">.</span><span class="n">Open</span><span class="p">);</span>

<span class="kt">var</span> <span class="n">cloudServiceName</span> <span class="p">=</span> <span class="s">"MyCloudService"</span><span class="p">;</span>

<span class="k">using</span> <span class="p">(</span><span class="n">ComputeManagementClient</span> <span class="n">client</span> <span class="p">=</span>
    <span class="n">CloudContext</span><span class="p">.</span><span class="n">Clients</span><span class="p">.</span><span class="n">CreateComputeManagementClient</span><span class="p">(</span><span class="n">Credentials</span><span class="p">))</span>
<span class="p">{</span>
    <span class="k">await</span> <span class="n">client</span><span class="p">.</span><span class="n">Deployments</span><span class="p">.</span><span class="n">CreateAsync</span><span class="p">(</span><span class="n">cloudServiceName</span><span class="p">,</span>
        <span class="n">DeploymentSlot</span><span class="p">.</span><span class="n">Production</span><span class="p">,</span>
        <span class="k">new</span> <span class="n">DeploymentCreateParameters</span>
        <span class="p">{</span>
            <span class="n">Name</span> <span class="p">=</span> <span class="n">cloudServiceName</span> <span class="p">+</span> <span class="s">"Prod"</span><span class="p">,</span>
            <span class="n">Label</span> <span class="p">=</span> <span class="n">cloudServiceName</span> <span class="p">+</span> <span class="s">"Prod"</span><span class="p">,</span>
            <span class="n">PackageUri</span> <span class="p">=</span> <span class="n">blob</span><span class="p">.</span><span class="n">Uri</span><span class="p">,</span>
            <span class="n">Configuration</span> <span class="p">=</span> <span class="n">File</span><span class="p">.</span><span class="n">ReadAllText</span><span class="p">(</span><span class="s">"MyCloudService.cscfg"</span><span class="p">),</span>
            <span class="n">StartDeployment</span> <span class="p">=</span> <span class="k">true</span>
        <span class="p">});</span>
<span class="p">}</span>
</pre></div>

<h1>
<a name="user-content-learn-more" class="anchor" href="#learn-more" aria-hidden="true"><span class="octicon octicon-link"></span></a>Learn More</h1>

<ul class="task-list">
<li><a href="http://www.windowsazure.com/en-us/develop/net/">Microsoft Azure .NET Developer Center</a></li>
<li><a href="http://msdn.microsoft.com/en-us/library/dd179380.aspx">Microsoft Azure SDK Reference for .NET - MSDN</a></li>
</ul></article></div>