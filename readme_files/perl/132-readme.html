<div class="announce instapaper_body md" data-path="README.md" id="readme"><article class="markdown-body entry-content" itemprop="mainContentOfPage"><p><a href="https://travis-ci.org/s-aska/dropbox-api-command"><img src="https://camo.githubusercontent.com/be021379d4c45c27d9425974a4051d44eb0d190e/68747470733a2f2f7472617669732d63692e6f72672f732d61736b612f64726f70626f782d6170692d636f6d6d616e642e706e673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/s-aska/dropbox-api-command.png?branch=master" style="max-width:100%;"></a></p>

<h1>
<a name="user-content-dropbox-api-command" class="anchor" href="#dropbox-api-command" aria-hidden="true"><span class="octicon octicon-link"></span></a>Dropbox API Command</h1>

<p>Dropbox API Wrapper Command</p>

<ul class="task-list">
<li><a href="https://github.com/s-aska/dropbox-api-command">github</a></li>
<li><a href="http://doc.7kai.org/Product/DropboxAPICommand/README">official</a></li>
</ul><h2>
<a name="user-content-commands" class="anchor" href="#commands" aria-hidden="true"><span class="octicon octicon-link"></span></a>Commands</h2>

<ul class="task-list">
<li>ls</li>
<li><strong>find</strong></li>
<li><strong>sync</strong></li>
<li>cp</li>
<li>mv</li>
<li>rm</li>
<li>mkdir</li>
<li>get</li>
<li>put</li>
<li>uid</li>
</ul><h2>
<a name="user-content-install-and-setup" class="anchor" href="#install-and-setup" aria-hidden="true"><span class="octicon octicon-link"></span></a>Install and Setup</h2>

<h3>
<a name="user-content-1-install" class="anchor" href="#1-install" aria-hidden="true"><span class="octicon octicon-link"></span></a>1. Install</h3>

<h4>
<a name="user-content-1-a-freebsd" class="anchor" href="#1-a-freebsd" aria-hidden="true"><span class="octicon octicon-link"></span></a>1-a) FreeBSD</h4>

<pre><code>pkg_add -r dropbox-api-command
</code></pre>

<h4>
<a name="user-content-1-b-ubuntu" class="anchor" href="#1-b-ubuntu" aria-hidden="true"><span class="octicon octicon-link"></span></a>1-b) Ubuntu</h4>

<pre><code>sudo apt-get install make gcc libssl-dev wget
wget https://raw.github.com/miyagawa/cpanminus/master/cpanm
sudo perl cpanm App::dropboxapi
</code></pre>

<h4>
<a name="user-content-1-c-centos" class="anchor" href="#1-c-centos" aria-hidden="true"><span class="octicon octicon-link"></span></a>1-c) CentOS</h4>

<pre><code># CentOS 5
sudo yum install gcc gcc-c++ openssl-devel wget
# CentOS 6
sudo yum install gcc gcc-c++ openssl-devel wget perl-devel
wget https://raw.github.com/miyagawa/cpanminus/master/cpanm
sudo perl cpanm App::dropboxapi
</code></pre>

<h4>
<a name="user-content-1-d-os-x" class="anchor" href="#1-d-os-x" aria-hidden="true"><span class="octicon octicon-link"></span></a>1-d) OS X</h4>

<pre><code># Install Command Line Tools for Xcode
open https://www.google.com/search?q=Command+Line+Tools+for+Xcode

curl -O https://raw.github.com/miyagawa/cpanminus/master/cpanm
sudo perl cpanm App::dropboxapi
</code></pre>

<h3>
<a name="user-content-2-get-api-key-and-api-secret" class="anchor" href="#2-get-api-key-and-api-secret" aria-hidden="true"><span class="octicon octicon-link"></span></a>2. Get API Key and API Secret</h3>

<pre><code>https://www.dropbox.com/developers
My Apps =&gt; Create an App
</code></pre>

<h3>
<a name="user-content-3-get-access-token-and-access-secret" class="anchor" href="#3-get-access-token-and-access-secret" aria-hidden="true"><span class="octicon octicon-link"></span></a>3. Get Access Token and Access Secret</h3>

<pre><code>&gt; dropbox-api setup
Please Input API Key: ***************
Please Input API Secret: ***************
Please Input Access type
  a ... App folder - Your app only needs access to a single folder within the user's Dropbox
  f ... Full Dropbox - Your app needs access to the user's entire Dropbox
[a or f]: *
URL: http://api.dropbox.com/0/oauth/authorize?oauth_token=***************&amp;oauth_callback=
Please Access URL and press Enter
OK?
success! try
&gt; dropbox-api ls
&gt; dropbox-api find /
</code></pre>

<h3>
<a name="user-content-4-how-to-use-proxy" class="anchor" href="#4-how-to-use-proxy" aria-hidden="true"><span class="octicon octicon-link"></span></a>4. How to use Proxy</h3>

<p>Please use -e option.</p>

<pre><code>&gt; HTTP_PROXY="http://127.0.0.1:8888" dropbox-api setup -e
</code></pre>

<h2>
<a name="user-content-help" class="anchor" href="#help" aria-hidden="true"><span class="octicon octicon-link"></span></a>help</h2>

<p>disp help.</p>

<ul class="task-list">
<li>alias

<ul class="task-list">
<li>-</li>
</ul>
</li>
<li>syntax

<ul class="task-list">
<li>dropbox-api help [&lt;command&gt;]</li>
</ul>
</li>
</ul><h3>
<a name="user-content-example" class="anchor" href="#example" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h3>

<pre><code>&gt; dropbox-api help
Usage: dropbox-api &lt;command&gt; [args] [options]

Available commands:
    setup get access_key and access_secret
    ls    list directory contents
    find  walk a file hierarchy
    cp    copy file or directory
    mv    move file or directory
    mkdir make directory (Create intermediate directories as required)
    rm    remove file or directory (Attempt to remove the file hierarchy rooted in each file argument)
    put   upload file
    get   download file
    sync  sync directory (local =&gt; dropbox or dropbox =&gt; local)
    uid   get accound uid

Common Options
    -e enable env_proxy ( HTTP_PROXY, NO_PROXY )
    -D enable debug

See 'dropbox-api help &lt;command&gt;' for more information on a specific command.
</code></pre>

<h3>
<a name="user-content-example--command-help-" class="anchor" href="#example--command-help-" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example ( command help )</h3>

<pre><code>&gt; dropbox-api help ls
Name
    dropbox-api-ls - list directory contents

SYNOPSIS
    dropbox-api ls &lt;dropbox_path&gt; [options]

Example
    dropbox-api ls Public
    dropbox-api ls Public -h
    dropbox-api ls Public -p "%d\t%s\t%TY/%Tm/%Td %TH:%TM:%TS\t%p\n"

Options
    -h print sizes in human readable format (e.g., 1K 234M 2G)
    -p print format.
        %d ... is_dir ( d: dir, -: file )
        %p ... path
        %b ... bytes
        %s ... size (e.g., 1K 234M 2G)
        %i ... icon
        %e ... thumb_exists
        %M ... mime_type
        %t ... modified time
        %c ... client_mtime
        %r ... revision (A deprecated field that semi-uniquely identifies a file. Use rev instead)
        %R ... rev
        %Tk ... DateTime ‘strftime’ function (modified time)
        %Ck ... DateTime ‘strftime’ function (client_mtime)
                &lt;http://search.cpan.org/dist/DateTime/lib/DateTime.pm#strftime_Patterns&gt;
</code></pre>

<h2>
<a name="user-content-ls" class="anchor" href="#ls" aria-hidden="true"><span class="octicon octicon-link"></span></a>ls</h2>

<p>file list view.</p>

<ul class="task-list">
<li>alias

<ul class="task-list">
<li>list</li>
</ul>
</li>
<li>syntax

<ul class="task-list">
<li>dropbox-api ls &lt;dropbox_path&gt;</li>
</ul>
</li>
</ul><h3>
<a name="user-content-example-1" class="anchor" href="#example-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h3>

<pre><code>&gt; dropbox-api list /product
d        - Thu, 24 Feb 2011 06:58:00 +0000 /product/chrome-extentions
-   294557 Sun, 26 Dec 2010 21:55:59 +0000 /product/ex.zip
</code></pre>

<h3>
<a name="user-content-human-readable-option---h-" class="anchor" href="#human-readable-option---h-" aria-hidden="true"><span class="octicon octicon-link"></span></a>human readable option ( -h )</h3>

<p>print sizes in human readable format (e.g., 1K 234M 2G)</p>

<pre><code>&gt; dropbox-api ls /product -h
d        - Thu, 24 Feb 2011 06:58:00 +0000 /product/chrome-extentions
-  287.7KB Sun, 26 Dec 2010 21:55:59 +0000 /product/ex.zip
</code></pre>

<h3>
<a name="user-content-printf-option---p-" class="anchor" href="#printf-option---p-" aria-hidden="true"><span class="octicon octicon-link"></span></a>printf option ( -p )</h3>

<p>print format.</p>

<pre><code>&gt; dropbox-api ls /product -p "%d\t%s\t%TY/%Tm/%Td %TH:%TM:%TS\t%p\n"
d       -       2011/02/24 06:58:00     /product/chrome-extentions
-       287.7KB 2010/12/26 21:55:59     /product/ex.zip

    %d ... is_dir ( d: dir, -: file )
    %p ... path
    %b ... bytes
    %s ... size (e.g., 1K 234M 2G)
    %i ... icon
    %e ... thumb_exists
    %M ... mime_type
    %t ... modified time
    %c ... client_mtime
    %r ... revision (A deprecated field that semi-uniquely identifies a file. Use rev instead)
    %R ... rev
    %Tk ... DateTime ‘strftime’ function (modified time)
    %Ck ... DateTime ‘strftime’ function (client_mtime)
            &lt;http://search.cpan.org/dist/DateTime/lib/DateTime.pm#strftime_Patterns&gt;
</code></pre>

<h2>
<a name="user-content-find" class="anchor" href="#find" aria-hidden="true"><span class="octicon octicon-link"></span></a>find</h2>

<p>recursive file list view.</p>

<ul class="task-list">
<li>alias

<ul class="task-list">
<li>-</li>
</ul>
</li>
<li>syntax

<ul class="task-list">
<li>dropbox-api find &lt;dropbox_path&gt; [options]</li>
</ul>
</li>
</ul><h3>
<a name="user-content-example-2" class="anchor" href="#example-2" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h3>

<pre><code>&gt; dropbox-api find /product/google-tasks-checker-plus
/product/chrome-extentions/google-tasks-checker-plus/README.md
/product/chrome-extentions/google-tasks-checker-plus/src
/product/chrome-extentions/google-tasks-checker-plus/src/background.html
/product/chrome-extentions/google-tasks-checker-plus/src/external.png
/product/chrome-extentions/google-tasks-checker-plus/src/icon-32.png
/product/chrome-extentions/google-tasks-checker-plus/src/icon-128.png
/product/chrome-extentions/google-tasks-checker-plus/src/icon.gif
/product/chrome-extentions/google-tasks-checker-plus/src/jquery-1.4.2.min.js
/product/chrome-extentions/google-tasks-checker-plus/src/main.js
/product/chrome-extentions/google-tasks-checker-plus/src/manifest.json
/product/chrome-extentions/google-tasks-checker-plus/src/options.html
/product/chrome-extentions/google-tasks-checker-plus/src/popup.html
/product/chrome-extentions/google-tasks-checker-plus/src/reset.css
</code></pre>

<h3>
<a name="user-content-printf-option---p--1" class="anchor" href="#printf-option---p--1" aria-hidden="true"><span class="octicon octicon-link"></span></a>printf option ( -p )</h3>

<p>see also list command's printf option.</p>

<h2>
<a name="user-content-sync--rsync-" class="anchor" href="#sync--rsync-" aria-hidden="true"><span class="octicon octicon-link"></span></a>sync ( rsync )</h2>

<p>recursive file synchronization.</p>

<h3>
<a name="user-content-sync-from-dropbox" class="anchor" href="#sync-from-dropbox" aria-hidden="true"><span class="octicon octicon-link"></span></a>sync from dropbox</h3>

<p>dropbox-api sync dropbox:&lt;source_dir&gt; &lt;target_dir&gt; [options]</p>

<pre><code>&gt; dropbox-api sync dropbox:/product/google-tasks-checker-plus/src /tmp/product
download /private/tmp/product/external.png
download /private/tmp/product/icon-32.png
download /private/tmp/product/icon-128.png
</code></pre>

<h3>
<a name="user-content-sync-to-dropbox" class="anchor" href="#sync-to-dropbox" aria-hidden="true"><span class="octicon octicon-link"></span></a>sync to dropbox</h3>

<p>dropbox-api sync &lt;source_dir&gt; dropbox:&lt;target_dir&gt; [options]</p>

<pre><code>&gt; dropbox-api sync /tmp/product dropbox:/work/src
upload background.html /work/src/background.html
upload external.png /work/src/external.png
upload icon-128.png /work/src/icon-128.png
</code></pre>

<h3>
<a name="user-content-delete-option---d-" class="anchor" href="#delete-option---d-" aria-hidden="true"><span class="octicon octicon-link"></span></a>delete option ( -d )</h3>

<pre><code>&gt; dropbox-api sync dropbox:/product/google-tasks-checker-plus/src /tmp/product -d
download /private/tmp/product/external.png
download /private/tmp/product/icon-32.png
download /private/tmp/product/icon-128.png
remove background.html.tmp
</code></pre>

<h3>
<a name="user-content-dry-run-option---n-" class="anchor" href="#dry-run-option---n-" aria-hidden="true"><span class="octicon octicon-link"></span></a>dry run option ( -n )</h3>

<pre><code>&gt; dropbox-api sync dropbox:/product/google-tasks-checker-plus/src /tmp/product -dn
!! enable dry run !!
download /private/tmp/product/external.png
download /private/tmp/product/icon-32.png
download /private/tmp/product/icon-128.png
remove background.html.tmp
</code></pre>

<h3>
<a name="user-content-verbose-option---v-" class="anchor" href="#verbose-option---v-" aria-hidden="true"><span class="octicon octicon-link"></span></a>verbose option ( -v )</h3>

<pre><code>&gt; dropbox-api sync dropbox:/product/google-tasks-checker-plus/src /tmp/product -dnv
remote_base: /product/chrome-extentions/google-tasks-checker-plus/src
local_base: /private/tmp/product
** download **
skip background.html
download /private/tmp/product/external.png
download /private/tmp/product/icon-32.png
download /private/tmp/product/icon-128.png
skip icon.gif
skip jquery-1.4.2.min.js
skip main.js
skip manifest.json
skip options.html
skip popup.html
skip reset.css
** delete **
skip background.html
remove background.html.tmp
skip icon.gif
skip jquery-1.4.2.min.js
skip main.js
skip manifest.json
skip options.html
skip popup.html
skip reset.css
</code></pre>

<h2>
<a name="user-content-cp" class="anchor" href="#cp" aria-hidden="true"><span class="octicon octicon-link"></span></a>cp</h2>

<p>copy file or directory.</p>

<ul class="task-list">
<li>alias

<ul class="task-list">
<li>copy</li>
</ul>
</li>
<li>syntax

<ul class="task-list">
<li>dropbox-api cp &lt;source_file&gt; &lt;target_file&gt;</li>
</ul>
</li>
</ul><h3>
<a name="user-content-example-3" class="anchor" href="#example-3" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h3>

<pre><code>dropbox-api cp memo.txt memo.txt.bak
</code></pre>

<h2>
<a name="user-content-mv" class="anchor" href="#mv" aria-hidden="true"><span class="octicon octicon-link"></span></a>mv</h2>

<p>move file or directory.</p>

<ul class="task-list">
<li>alias

<ul class="task-list">
<li>move</li>
</ul>
</li>
<li>syntax

<ul class="task-list">
<li>dropbox-api mv &lt;source_file&gt; &lt;target_file&gt;</li>
</ul>
</li>
</ul><h3>
<a name="user-content-example-4" class="anchor" href="#example-4" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h3>

<pre><code>dropbox-api mv memo.txt memo.txt.bak
</code></pre>

<h2>
<a name="user-content-mkdir" class="anchor" href="#mkdir" aria-hidden="true"><span class="octicon octicon-link"></span></a>mkdir</h2>

<p>make directory.</p>

<p><em>no error if existing, make parent directories as needed.</em></p>

<ul class="task-list">
<li>alias

<ul class="task-list">
<li>mkpath</li>
</ul>
</li>
<li>syntax

<ul class="task-list">
<li>dropbox-api mkdir &lt;directory&gt;</li>
</ul>
</li>
</ul><h3>
<a name="user-content-example-5" class="anchor" href="#example-5" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h3>

<pre><code>dropbox-api mkdir product/src
</code></pre>

<h2>
<a name="user-content-rm" class="anchor" href="#rm" aria-hidden="true"><span class="octicon octicon-link"></span></a>rm</h2>

<p>remove file or directory.</p>

<p><em>remove the contents of directories recursively.</em></p>

<ul class="task-list">
<li>alias

<ul class="task-list">
<li>rmtree</li>
</ul>
</li>
<li>syntax

<ul class="task-list">
<li>dropbox-api rm &lt;file_or_directory&gt;</li>
</ul>
</li>
</ul><h3>
<a name="user-content-example-6" class="anchor" href="#example-6" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h3>

<pre><code>dropbox-api rm product/src
</code></pre>

<h2>
<a name="user-content-get" class="anchor" href="#get" aria-hidden="true"><span class="octicon octicon-link"></span></a>get</h2>

<p>download file from dropbox.</p>

<ul class="task-list">
<li>alias

<ul class="task-list">
<li>dl, download</li>
</ul>
</li>
<li>syntax

<ul class="task-list">
<li>dropbox-api get dropbox:&lt;dropbox_file&gt; </li>
</ul>
</li>
</ul><h3>
<a name="user-content-example-7" class="anchor" href="#example-7" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h3>

<pre><code>dropbox-api get dropbox:/Public/foo.txt /tmp/foo.txt
</code></pre>

<h2>
<a name="user-content-put" class="anchor" href="#put" aria-hidden="true"><span class="octicon octicon-link"></span></a>put</h2>

<p>upload file to dropbox.</p>

<ul class="task-list">
<li>alias

<ul class="task-list">
<li>up, upload</li>
</ul>
</li>
<li>syntax

<ul class="task-list">
<li>dropbox-api put &lt;file&gt; dropbox:&lt;dropbox_dir&gt;</li>
</ul>
</li>
</ul><h3>
<a name="user-content-example-8" class="anchor" href="#example-8" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h3>

<pre><code>dropbox-api put /tmp/foo.txt dropbox:/Public/
</code></pre>

<h3>
<a name="user-content-verbose-option---v--1" class="anchor" href="#verbose-option---v--1" aria-hidden="true"><span class="octicon octicon-link"></span></a>verbose option ( -v )</h3>

<p>A progress bar is displayed.</p>

<pre><code>dropbox-api put /tmp/1GB.dat dropbox:/Public/
100% [=====================================================================================&gt;]
</code></pre>

<h2>
<a name="user-content-uid" class="anchor" href="#uid" aria-hidden="true"><span class="octicon octicon-link"></span></a>uid</h2>

<p>Get your accound UID</p>

<h3>
<a name="user-content-example-9" class="anchor" href="#example-9" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h3>

<pre><code>dropbox-api uid
</code></pre>

<h2>
<a name="user-content-tips" class="anchor" href="#tips" aria-hidden="true"><span class="octicon octicon-link"></span></a>Tips</h2>

<h3>
<a name="user-content-retry" class="anchor" href="#retry" aria-hidden="true"><span class="octicon octicon-link"></span></a>Retry</h3>

<pre><code>#!/bin/bash

command='dropbox-api sync dropbox:/test/ /Users/aska/test/ -vde'

NEXT_WAIT_TIME=0
EXIT_CODE=0
until $command || [ $NEXT_WAIT_TIME -eq 4 ]; do
    EXIT_CODE=$?
    sleep $NEXT_WAIT_TIME
    let NEXT_WAIT_TIME=NEXT_WAIT_TIME+1
done
exit $EXIT_CODE
</code></pre>

<h1>
<a name="user-content-copyright" class="anchor" href="#copyright" aria-hidden="true"><span class="octicon octicon-link"></span></a>COPYRIGHT</h1>

<p>Copyright 2012- Shinichiro Aska</p>

<p>The standalone executable contains the following modules embedded.</p>

<h1>
<a name="user-content-license" class="anchor" href="#license" aria-hidden="true"><span class="octicon octicon-link"></span></a>LICENSE</h1>

<p>Released under the MIT license. <a href="http://creativecommons.org/licenses/MIT/">http://creativecommons.org/licenses/MIT/</a></p>

<h1>
<a name="user-content-community" class="anchor" href="#community" aria-hidden="true"><span class="octicon octicon-link"></span></a>COMMUNITY</h1>

<ul class="task-list">
<li>
<a href="https://github.com/s-aska/dropbox-api-command">https://github.com/s-aska/dropbox-api-command</a> - source code repository, issue tracker</li>
</ul></article></div>