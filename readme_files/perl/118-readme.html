<div class="announce instapaper_body md" data-path="README.md" id="readme"><article class="markdown-body entry-content" itemprop="mainContentOfPage"><h1>
<a name="user-content-introduce" class="anchor" href="#introduce" aria-hidden="true"><span class="octicon octicon-link"></span></a>Introduce</h1>

<hr><p>This repository contains a series of useful shell scripts which can help you to work effectively when programming for iOS platform.</p>

<h4>
<a name="user-content-include" class="anchor" href="#include" aria-hidden="true"><span class="octicon octicon-link"></span></a>Include:</h4>

<ul class="task-list">
<li>build .ipa package</li>
<li>publish .ipa file to fir.im or your own server</li>
<li>send email</li>
</ul><h1>
<a name="user-content-necessary" class="anchor" href="#necessary" aria-hidden="true"><span class="octicon octicon-link"></span></a>Necessary</h1>

<hr><ul class="task-list">
<li>Mac OS X</li>
<li>"Command Line Tools" of xcode</li>
<li>ruby with "json" package installed</li>
</ul><h1>
<a name="user-content-detail" class="anchor" href="#detail" aria-hidden="true"><span class="octicon octicon-link"></span></a>Detail</h1>

<hr><h2>
<a name="user-content-1compile-and-package-xcode-project-or-workspace" class="anchor" href="#1compile-and-package-xcode-project-or-workspace" aria-hidden="true"><span class="octicon octicon-link"></span></a>1.compile and package xcode project or workspace</h2>

<p>You can do this by using "ipa-build" shell script.</p>

<p>This ipa-build script is created to compile the xcode project and package the project to an ipa file.</p>

<h4>
<a name="user-content-usage" class="anchor" href="#usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Usage:</h4>

<p><strong><em>building xcode project</em></strong></p>

<pre><code>ipa-build &lt;project directory&gt; [-c &lt;project configuration&gt;] [-o &lt;ipa output directory&gt;] [-t &lt;target name&gt;] [-n]
</code></pre>

<p><strong><em>building xcode workspace</em></strong></p>

<pre><code>ipa-build  &lt;workspace directory&gt; -w -s &lt;schemeName&gt; [-c &lt;project configuration&gt;] [-n]
</code></pre>

<h4>
<a name="user-content-options" class="anchor" href="#options" aria-hidden="true"><span class="octicon octicon-link"></span></a>Options:</h4>

<pre><code>-c NAME     the configuration of project used to compile.Default is Release
-o PATH     output path for ipa file(must be a directory)
-t NAME     the target which should be compiled
-w          build xcode workspace   
-s NAME     the schemal to be used for compiling
-n          clean the project before compling
</code></pre>

<h4>
<a name="user-content-example" class="anchor" href="#example" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example:</h4>

<p><strong><em>build project</em></strong></p>

<p>If you have an iOS project in the path ~/iphone, and the ipa-build script is put in the path ~/xcode-shell.You want to build this project with 'Release' configuration.Just using script like this:</p>

<pre><code>cd ~/iphone
~/xcode-shell/ipa-build .
</code></pre>

<p>If you want to assign specific configuration or target, you can add relevant options to the command.</p>

<p><strong><em>build workspace</em></strong></p>

<p>If ~/iphone is a xcode workspace and the scheme used for compile named 'test'.The ipa-build script is put in the path ~/xcode-shell.Using script like this:</p>

<pre><code>cd ~/iphone
~/xcode-shell/ipa-build . -w -s test
</code></pre>

<p>You can also assign a specific configuration by using -c option.</p>

<pre><code>Note:If script executed successfully,an ipa file is created in the path: &lt;project path&gt;/build/ipa-build.
</code></pre>

<h2>
<a name="user-content-2compile-project-used-cocoapods" class="anchor" href="#2compile-project-used-cocoapods" aria-hidden="true"><span class="octicon octicon-link"></span></a>2.compile project used CocoaPods</h2>

<p><a href="https://github.com/CocoaPods/CocoaPods">CocoaPods</a> is an Objective-C library manager.If you use it in your iOS project.You can also use 'ipa-build' script to build by assign workspace and scheme, or you can use the 'cocoapods-build' to build it more easily.</p>

<h4>
<a name="user-content-usage-1" class="anchor" href="#usage-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Usage:</h4>

<pre><code>cocoapods-build &lt;cococapods project path&gt; [&lt;build configuration&gt;] 
</code></pre>

<h4>
<a name="user-content-example-1" class="anchor" href="#example-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example:</h4>

<pre><code>cd ~/iphone
~/xcode-shell/cocoapods-build . Debug
</code></pre>

<h2>
<a name="user-content-3publish-project" class="anchor" href="#3publish-project" aria-hidden="true"><span class="octicon octicon-link"></span></a>3.publish project</h2>

<h3>
<a name="user-content-ipa-publish" class="anchor" href="#ipa-publish" aria-hidden="true"><span class="octicon octicon-link"></span></a>ipa-publish</h3>

<h4>
<a name="user-content-configure" class="anchor" href="#configure" aria-hidden="true"><span class="octicon octicon-link"></span></a>Configure</h4>

<p>You must configure the script before using at the first time. Open it in any text editor and input you own configurations. Such as ftp address, app download url, email sender and email receiver. After that you can run this script to publish app to your own server.
Note that installing app from your own server should respect the protocol named "itms-services". To learn more about "itms-services" you can click blog <a href="http://gknops.github.io/adHocGenerate/">Wireless AdHoc Distribution</a>(English) or blog <a href="http://blog.csdn.net/wyq5119275/article/details/16946009">ios实现itms-services协议企业内发布或者越狱发布</a>(中文).</p>

<h4>
<a name="user-content-usage-2" class="anchor" href="#usage-2" aria-hidden="true"><span class="octicon octicon-link"></span></a>Usage:</h4>

<pre><code>ipa-publish &lt;project root path&gt; [y &lt;should send notification email&gt;]
</code></pre>

<h4>
<a name="user-content-examples" class="anchor" href="#examples" aria-hidden="true"><span class="octicon octicon-link"></span></a>Examples:</h4>

<pre><code>~/xcode-shell/ipa-publish . y   #publish and send email
~/xcode-shell/ipa-publish .     #just publish
</code></pre>

<h3>
<a name="user-content-ipa-publish-fir" class="anchor" href="#ipa-publish-fir" aria-hidden="true"><span class="octicon octicon-link"></span></a>ipa-publish-fir</h3>

<p>This script is similar to "ipa-publish". Both of them are using to publish app to somewhere. But this script will publish app to <a href="http://fir.im">fir.im</a>. So it is more easier to use, as you don't need a special server and FTP. You can use it without any configration, unless you want to send email to notify somebody.</p>

<h4>
<a name="user-content-configure-1" class="anchor" href="#configure-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Configure</h4>

<p>If you want to send email to notify somebody. Open the script, and changed the value of "email_reciver". This field may contain one or more than one emails.</p>

<h4>
<a name="user-content-usage-3" class="anchor" href="#usage-3" aria-hidden="true"><span class="octicon octicon-link"></span></a>Usage:</h4>

<pre><code>ipa-publish-fir [-d directory&gt;] [-e] [-l number] [-m message]
</code></pre>

<h4>
<a name="user-content-options-1" class="anchor" href="#options-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Options:</h4>

<pre><code>-d path     the root directory of project
-e          send email after publishing
-l number   limit of git log, which will be used as change log.
-m message  used as chang log
</code></pre>

<h4>
<a name="user-content-examples-1" class="anchor" href="#examples-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Examples:</h4>

<pre><code>~/xcode-shell/ipa-publish-fir -d . -el20 -m "haha"  #Publish and send email. The change log on fir and in email will be "haha"+&lt;last 20 logs of git&gt;
~/xcode-shell/ipa-publish-fir -d .              #just publish
</code></pre>

<h2>
<a name="user-content-4add-2x-suffix-to-image-files" class="anchor" href="#4add-2x-suffix-to-image-files" aria-hidden="true"><span class="octicon octicon-link"></span></a>4.add @2x suffix to image files</h2>

<p>When programming for retina device of iOS,the image file you used should add the suffix of @2x. Using the script "add2x" can help you do this automaticly.</p>

<p><strong>add2x</strong>: add suffix of @2x to all the image files(just png and jpg file) .This script work in the current directory.</p>

<p>Usage:<br>
1. go to the directory which contains images should be added suffix.<br>
2. execute the add2x script.</p>

<p><strong>note</strong>: There is a bug of this script.If your image file name contains blank spaces, script can not work correctly.</p></article></div>