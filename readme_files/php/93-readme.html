<div class="announce instapaper_body md" data-path="README.md" id="readme"><article class="markdown-body entry-content" itemprop="mainContentOfPage"><p><a href="http://www.php-login.net"><img src="_tutorial/placeholder-info.png" alt="php-login introduction &amp; quickstart placeholder picture" style="max-width:100%;"></a></p>

<p><a href="https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&amp;hosted_button_id=P5YLUK4MW3LDG"><img src="_tutorial/donate-with-paypal.png" alt="Donate with PayPal banner" style="max-width:100%;"></a></p>

<p><a href="https://flattr.com/submit/auto?user_id=panique&amp;url=https%3A%2F%2Fgithub.com%2Fpanique%2Fphp-login"><img src="_tutorial/donate-with-flattr.png" alt="Donate with Flattr banner" style="max-width:100%;"></a></p>

<h1>
<a name="user-content-php-login" class="anchor" href="#php-login" aria-hidden="true"><span class="octicon octicon-link"></span></a>php-login</h1>

<p><em>Thanks for 1.000+ stars and 400+ forks. Wow!</em></p>

<h3>
<a name="user-content-a-php--mysql-login-script-built-into-a-skeleton-mvc-application" class="anchor" href="#a-php--mysql-login-script-built-into-a-skeleton-mvc-application" aria-hidden="true"><span class="octicon octicon-link"></span></a>A PHP &amp; MySQL login script built into a skeleton MVC application</h3>

<p>This script is part of the <strong>PHP Login Project</strong>, a collection of four similar login scripts for different use-cases.
This script here is the MVC framework version.
Find the official portal page of the project here: <strong><a href="http://www.php-login.net">php-login.net</a></strong>.
Follow the project on <strong><a href="https://twitter.com/simplephplogin">Twitter</a></strong>,
<strong><a href="https://www.facebook.com/pages/PHP-Login-Script/461306677235868">Facebook</a></strong> or
<strong><a href="https://plus.google.com/104110071861201951660">Google+</a></strong> and have a look on the official support blog
<strong><a href="http://www.dev-metal.com">Dev Metal</a></strong>.
Ask questions in the <strong><a href="http://support-forum.php-login.net/">Official Support Forum</a></strong>.</p>

<h3>
<a name="user-content-mvc-framework-version-20-this-one-here" class="anchor" href="#mvc-framework-version-20-this-one-here" aria-hidden="true"><span class="octicon octicon-link"></span></a>MVC Framework Version 2.0 (this one here)</h3>

<ul class="task-list">
<li>built with the official PHP password hashing functions, fitting the most modern password hashing/salting web standards</li>
<li>users can register, login, logout (with username, email, password)</li>
<li>users can register and login via Facebook (official Facebook PHP SDK used)</li>
<li>[planned: users can register/login via Twitter, Google+, etc.]</li>
<li>password-forget/reset</li>
<li>remember-me (login via cookie)</li>
<li>account verification via mail</li>
<li>captcha</li>
<li>failed-login-throttling</li>
<li>user profiles</li>
<li>account upgrade/downgrade</li>
<li>supports local avatars and remote Gravatars</li>
<li>supports native mail and SMTP sending (via PHPMailer)</li>
<li>comes with a super-sexy Model-View-Controller (MVC) barebone-application structure</li>
<li>uses PDO for database access</li>
<li>uses URL rewriting ("beautiful URLs")</li>
<li>file- and folder protection via .htaccess</li>
<li>uses Composer to load external dependencies (PHPMailer, Facebook SDK, Captcha-Generator, etc.)</li>
<li>can be installed via Composer</li>
<li>fits PSR-1/2 coding guidelines</li>
<li>fully commented</li>
<li>is actively developed, maintained and bug-fixed</li>
<li>has detailed tutorials</li>
<li>[planned: ready-to-go PuPHPet files and Vagrant boxes]</li>
</ul><h3>
<a name="user-content-other-smaller-versions-of-this-script" class="anchor" href="#other-smaller-versions-of-this-script" aria-hidden="true"><span class="octicon octicon-link"></span></a>Other (smaller) versions of this script</h3>

<h4>
<a name="user-content-one-file-version-httpsgithubcompaniquephp-login-one-file" class="anchor" href="#one-file-version-httpsgithubcompaniquephp-login-one-file" aria-hidden="true"><span class="octicon octicon-link"></span></a>One File Version [<a href="https://github.com/panique/php-login-one-file">https://github.com/panique/php-login-one-file</a>]</h4>

<p>Full login script in one file. Uses a one-file SQLite database (no MySQL needed) and PDO. Features: Register,
login, logout.</p>

<h4>
<a name="user-content-minimal-version-httpsgithubcompaniquephp-login-minimal" class="anchor" href="#minimal-version-httpsgithubcompaniquephp-login-minimal" aria-hidden="true"><span class="octicon octicon-link"></span></a>Minimal Version [<a href="https://github.com/panique/php-login-minimal">https://github.com/panique/php-login-minimal</a>]</h4>

<p>All the basic functions in a clean file structure, uses MySQL and mysqli. Register, login, logout.</p>

<h4>
<a name="user-content-advanced-version-httpsgithubcompaniquephp-login-advanced" class="anchor" href="#advanced-version-httpsgithubcompaniquephp-login-advanced" aria-hidden="true"><span class="octicon octicon-link"></span></a>Advanced Version [<a href="https://github.com/panique/php-login-advanced">https://github.com/panique/php-login-advanced</a>]</h4>

<p>Same like minimal (uses MySQL and PDO), but much more features:
Register, login, logout, email verification, password reset, edit user data, gravatars, captchas,
remember me / stay logged in cookies, "remember me" supports parallel login from multiple devices,
login with email, i18n/internationalization, mail sending via PHPMailer (SMTP or PHP's mail() function/linux sendmail).</p>

<h2>
<a name="user-content-whats-new-" class="anchor" href="#whats-new-" aria-hidden="true"><span class="octicon octicon-link"></span></a>What's new ?</h2>

<ul class="task-list">
<li>professional file/folder structure</li>
<li>Composer</li>
<li>Facebook login/registration</li>
<li>mostly implemented the "always return something" rule, with default return</li>
<li>if/else nesting as flat as possible</li>
<li>implemented dependency injected database connection (we open just one connection, use it for all models)</li>
<li>multiple models allowed per controller</li>
<li>everything is "as manual as possible"</li>
<li>massive refactoring</li>
</ul><h2>
<a name="user-content-live-demo" class="anchor" href="#live-demo" aria-hidden="true"><span class="octicon octicon-link"></span></a>Live Demo</h2>

<p>See a <a href="http://php-login.net/demo4.html">live demonstration</a> or <a href="http://phpinfo.php-login.net/">see the server's phpinfo()</a>.</p>

<h2>
<a name="user-content-requirements" class="anchor" href="#requirements" aria-hidden="true"><span class="octicon octicon-link"></span></a>Requirements</h2>

<ul class="task-list">
<li>
<strong>PHP 5.3.7+</strong>, PHP 5.4+ or PHP 5.5+</li>
<li>
<strong>MySQL 5</strong> database (better use versions 5.5+ as very old versions have a <a href="http://stackoverflow.com/q/134099/1114320">PDO injection bug</a>
</li>
<li>installed PHP extensions: pdo, gd, openssl (the tutorial shows how to do)</li>
<li>installed tools on your server: git, curl, composer (the tutorial shows how to do)</li>
<li>for professional mail sending: an SMTP account (I use <a href="http://www.smtp2go.com/?s=devmetal">SMTP2GO</a>)</li>
<li>activated mod_rewrite on your server (the tutorial shows how to do)</li>
</ul><p>Also make sure you know the basics of object-oriented programming and MVC, are able to use the command line and have
used Composer before. This script is not for beginners.</p>

<h2>
<a name="user-content-license" class="anchor" href="#license" aria-hidden="true"><span class="octicon octicon-link"></span></a>License</h2>

<p>Licensed under <a href="http://www.opensource.org/licenses/mit-license.php">MIT</a>. Totally free for private or commercial projects.</p>

<h2>
<a name="user-content-contribute" class="anchor" href="#contribute" aria-hidden="true"><span class="octicon octicon-link"></span></a>Contribute</h2>

<p>Please commit only in <em>develop</em> branch. The <em>master</em> branch will always contain the stable version.</p>

<h2>
<a name="user-content-support--donate" class="anchor" href="#support--donate" aria-hidden="true"><span class="octicon octicon-link"></span></a>Support / Donate</h2>

<p>If you think this script is useful and saves you a lot of work, then think about supporting the project:</p>

<ol class="task-list">
<li>Rent your next server at <a href="http://www.a2hosting.com/4471.html">A2 Hosting</a> or <a href="https://www.digitalocean.com/?refcode=40d978532a20">DigitalOcean</a>.</li>
<li>Donate via <a href="https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&amp;hosted_button_id=P5YLUK4MW3LDG">PayPal</a>
or <a href="https://www.gittip.com/Panique/">GitTip</a>
</li>
<li>Contribute to this project.</li>
</ol><h2>
<a name="user-content-themes--user-interfaces--styles" class="anchor" href="#themes--user-interfaces--styles" aria-hidden="true"><span class="octicon octicon-link"></span></a>Themes / User Interfaces / Styles</h2>

<p>Bookmark the highly related partner-project "<a href="https://github.com/panique/php-login-styles">php-login-styles</a>" which
will host beautiful themes for php-login and the eventually also for the smaller version (see above).
This project has not been started yet.</p>

<h2>
<a name="user-content-current-and-further-development" class="anchor" href="#current-and-further-development" aria-hidden="true"><span class="octicon octicon-link"></span></a>Current and further development</h2>

<p>See active issues and requested features here:
<a href="https://github.com/panique/php-login/issues?state=open">https://github.com/panique/php-login/issues?state=open</a></p>

<p>See the milestone tracking of 2.0 and the upcoming 3.0 (early 2015) here:
<a href="https://github.com/panique/php-login/issues/milestones">https://github.com/panique/php-login/issues/milestones</a></p>

<h2>
<a name="user-content-external-installation-guidelines" class="anchor" href="#external-installation-guidelines" aria-hidden="true"><span class="octicon octicon-link"></span></a>External installation guidelines</h2>

<ul class="task-list">
<li><a href="http://www.dev-metal.com/install-php-login-nets-4-full-mvc-framework-login-script-ubuntu/">How to install php-login on Ubuntu 12.04 LTS</a></li>
<li><a href="http://www.dev-metal.com/install-php-login-nets-php-login-script-mvc-version-ubuntu-14-04-lts/">How to install php-login on Ubuntu 14.04 LTS</a></li>
<li><a href="http://www.dev-metal.com/install-php-login-windows-7-8/">How to install php-login on Windows 7 / 8 (for development)</a></li>
</ul><h2>
<a name="user-content-installation-on-ubuntu-1204-lts" class="anchor" href="#installation-on-ubuntu-1204-lts" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installation on Ubuntu 12.04 LTS</h2>

<p>This installation guideline uses Ubuntu 12.04 LTS (as it is the standard and by far the most long-term supported
mainstream server OS (supported until 2017). For more, see the
<a href="http://en.wikipedia.org/wiki/List_of_Ubuntu_releases#Table_of_versions">Wikipedia page of Ubuntu versions</a>.</p>

<p>When developing in a Vagrant box: please note that it's quite difficult to identify a Vagrant box to Facebook's App API,
so currently there's no guideline on how to use the Facebook login-feature when using a LOCAL Vagrant box.
For more, see <a href="http://stackoverflow.com/questions/20615924/how-to-run-a-facebook-app-on-an-ip-domain-works-localhost-works-ip-does-not">this StackOverflow question</a>.</p>

<h4>
<a name="user-content-on-your-server-we-use-ubuntu-1204-lts-here" class="anchor" href="#on-your-server-we-use-ubuntu-1204-lts-here" aria-hidden="true"><span class="octicon octicon-link"></span></a>ON YOUR SERVER (we use Ubuntu 12.04 LTS here):</h4>

<ol class="task-list">
<li>install Apache, MySQL, PHP and eventually PHPMyAdmin: <a href="http://www.dev-metal.com/setup-basic-lamp-stack-linux-apache-mysql-php-ubuntu-12-04/">How to setup a LAMP stack on Ubuntu 12.04</a>
</li>
<li>install mod_rewrite and activate it: <a href="http://www.dev-metal.com/enable-mod_rewrite-ubuntu-12-04-lts/">How to enable mod_rewrite in Ubuntu 12.04 LTS</a>
</li>
<li>install Composer: <a href="http://www.dev-metal.com/install-update-composer-windows-7-ubuntu-debian-centos/">How to install Composer on Ubuntu</a>
</li>
<li>install GD (for the Captcha): <code>sudo apt-get install php5-gd</code>, restart Apache <code>sudo service apache2 restart</code>
</li>
<li>install OpenSSL (to send mails): <code>sudo apt-get install openssl</code>, restart Apache <code>sudo service apache2 restart</code>
</li>
<li>remove all files from the <em>/var/www</em> (should only be Apache's index.html and your phpinfo()-containing .php right now) with <code>rm -r /var/www/*</code>,
otherwise things will get messy and git won't download the repo into a non-empty folder</li>
<li>copy the contents of the extracted php-login repository into /var/www ! In this tutorial we don't use a sub-folder,  so your index.php should go into /var/www !
Best way to do is cloning via git: <code>git clone https://github.com/panique/php-login.git /var/www</code> or by creating the
project via Composer: <code>composer create-project panique/php-login /var/www dev-master</code>
</li>
<li>Make the repo's folder <em>public/avatars</em> writable via <code>chmod 775 /var/www/public/avatars</code> and check its rights with <code>stat /var/www/public/avatars</code>
</li>
<li>Run the three SQL statements in the <em>application/_installation/sql_statements</em> folder (the installation folder has an underscore in front of its name, but GitHub doesn't show this due to
a bug in its README-parser), via PHPMyAdmin (look at the files directly on <a href="https://github.com/panique/php-login/">https://github.com/panique/php-login/</a>) or do it via mysql command-line</li>
</ol><h4>
<a name="user-content-configs-in-the-code" class="anchor" href="#configs-in-the-code" aria-hidden="true"><span class="octicon octicon-link"></span></a>CONFIGS IN THE CODE:</h4>

<p>In <em>application/config/config.php</em>:</p>

<ol class="task-list">
<li>enter your database credentials in DB_USER, DB_PASS etc.</li>
<li>enter your project URL into URL, don't forget the trailing slash!</li>
<li>edit COOKIE_DOMAIN to the above URL</li>
<li>in the SMTP block, set EMAIL_USE_SMTP tp <code>true</code> and put in your SMTP provider credentials ((I use <a href="http://www.smtp2go.com/?s=devmetal">SMTP2GO</a>)). Please remember:
You cannot simply send emails with PHP's mail() function, this does not really work due to a lot of reasons.
For development it could make sense to set PHPMAILER_DEBUG_MODE to 2 as this will echo out errors and notices when sending mails.</li>
<li>OPTIONAL for development (better leave it like it is !), but necessary for production environments: Change the text,
reply-mail-address etc. of the EMAIL_PASSWORD_RESET_SUBJECT etc.</li>
</ol><p>In <em>.htaccess</em>:</p>

<ol class="task-list">
<li>Change the RewriteBase: when using the script within a sub-folder, put this path here, like <em>/mysubfolder/</em> !
If your app is in the root of your web folder, then delete this line or comment it out.</li>
</ol><h4>
<a name="user-content-run-composer" class="anchor" href="#run-composer" aria-hidden="true"><span class="octicon octicon-link"></span></a>RUN COMPOSER:</h4>

<ol class="task-list">
<li>go into the base folder of your application (where composer.json is) (<code>cd /var/www</code>) and do <code>composer install</code> on the command line</li>
</ol><p><strong>Voila!</strong> You app should now run fine.</p>

<h4>
<a name="user-content-to-use-the-optional-facebook-login" class="anchor" href="#to-use-the-optional-facebook-login" aria-hidden="true"><span class="octicon octicon-link"></span></a>To use the (optional) Facebook login</h4>

<p>Note: Facebook changes the look, the UI and the way the Facebook App pages work permanently. But you'll find out what's
meant. Go to <a href="https://developers.facebook.com/apps/">https://developers.facebook.com/apps/</a> and create a new app.
Go to "preferences" or whatever it is called, enter your email adress, leave "App Domain" empty, click on "Add platform"
and put your URL in "Site URL" (completely with "<a href="http://www.%22">http://www."</a>), save. For local development "localhost" works.
Things like "127.0.0.1" don't seem work. In earlier version of Facebook's App API you needed to set "sandbox mode" to
"deactivated", now... well... I don't know, they have removed the button but the app still says "in development mode".</p>

<p>Set <code>FACEBOOK_LOGIN</code> in <em>application/config/config.php</em> to <code>true</code> and put your Facebook app id and the secret token
in <code>FACEBOOK_LOGIN_APP_ID</code> and <code>FACEBOOK_LOGIN_APP_SECRET</code>.</p>

<p>You should see the Facebook login / register buttons on the login / register page of your php-login app now.</p>

<h2>
<a name="user-content-useful-links" class="anchor" href="#useful-links" aria-hidden="true"><span class="octicon octicon-link"></span></a>Useful links</h2>

<ul class="task-list">
<li><a href="http://wiki.hashphp.org/PDO_Tutorial_for_MySQL_Developers">How to use PDO</a></li>
<li><a href="http://www.dev-metal.com/use-php-5-5-password-hashing-functions/">A short guideline on how to use the PHP 5.5 password hashing functions and its PHP 5.3 &amp; 5.4 implementations</a></li>
<li><a href="http://www.dev-metal.com/how-to-setup-latest-version-of-php-5-5-on-ubuntu-12-04-lts/">How to setup latest version of PHP 5.5 on Ubuntu 12.04 LTS</a></li>
<li><a href="http://www.dev-metal.com/setup-latest-version-php-5-5-debian-wheezy-7-07-1-fix-gpg-key-error/">How to setup latest version of PHP 5.5 on Debian Wheezy 7.0/7.1 (and how to fix the GPG key error)</a></li>
<li><a href="https://github.com/panique/php-login/wiki/Notes-on-password-&amp;-hashing-salting-in-upcoming-PHP-versions-%28PHP-5.5.x-&amp;-5.6-etc.%29">Notes on password &amp; hashing salting in upcoming PHP versions (PHP 5.5.x &amp; 5.6 etc.)</a></li>
<li><a href="https://github.com/panique/php-login/wiki/Which-hashing-&amp;-salting-algorithm-should-be-used-%3F">Some basic "benchmarks" of all PHP hash/salt algorithms</a></li>
<li><a href="http://www.dev-metal.com/prevent-php-sessions-shared-different-apache-vhosts-different-applications/">How to prevent PHP sessions being shared between different apache vhosts / different applications</a></li>
</ul><p>You can find more in the project's <a href="https://github.com/panique/php-login/wiki">github wiki</a>.</p>

<h4>
<a name="user-content-if-you-like-the-folderfile-structure" class="anchor" href="#if-you-like-the-folderfile-structure" aria-hidden="true"><span class="octicon octicon-link"></span></a>If you like the folder/file structure</h4>

<p>Then have a look into the partner project PHP-MVC on <a href="http://www.php-mvc.net">http://www.php-mvc.net</a> and <a href="https://github.com/panique/php-mvc">https://github.com/panique/php-mvc</a>.
A super-reduced and naked bare-bone application.</p>

<h2>
<a name="user-content-how-the-facebook-login-process-works" class="anchor" href="#how-the-facebook-login-process-works" aria-hidden="true"><span class="octicon octicon-link"></span></a>How the facebook login process works</h2>

<p><a href="https://github.com/facebook/facebook-php-sdk">https://github.com/facebook/facebook-php-sdk</a></p>

<p><a href="https://developers.facebook.com/docs/php/gettingstarted/">https://developers.facebook.com/docs/php/gettingstarted/</a></p>

<h2>
<a name="user-content-used-packages-via-composer" class="anchor" href="#used-packages-via-composer" aria-hidden="true"><span class="octicon octicon-link"></span></a>Used packages (via composer)</h2>

<p>PHPMailer
<a href="https://packagist.org/packages/phpmailer/phpmailer">https://packagist.org/packages/phpmailer/phpmailer</a></p>

<p>PHP password compatibility library
<a href="https://packagist.org/packages/ircmaxell/password-compat">https://packagist.org/packages/ircmaxell/password-compat</a></p>

<p>Facebook SDK
<a href="https://packagist.org/packages/facebook/php-sdk">https://packagist.org/packages/facebook/php-sdk</a></p>

<p>Gregwar's Captcha
<a href="https://packagist.org/packages/gregwar/captcha">https://packagist.org/packages/gregwar/captcha</a></p>

<p>Kint (a better var_dump)
<a href="https://packagist.org/packages/raveren/kint">https://packagist.org/packages/raveren/kint</a></p>

<h2>
<a name="user-content-thanks" class="anchor" href="#thanks" aria-hidden="true"><span class="octicon octicon-link"></span></a>Thanks</h2>

<p>This project is kindly powered by <strong><a href="http://www.jetbrains.com/phpstorm/">PHPStorm</a></strong>. A big "Thank You!" to IntelliJ for giving php-login free licenses of this wonderful IDE.</p>

<h2>
<a name="user-content-hire-me" class="anchor" href="#hire-me" aria-hidden="true"><span class="octicon octicon-link"></span></a>Hire me</h2>

<p>I'm available for freelance work. Remote worldwide or locally around Central Europe. Mail me if you like.</p></article></div>