<div class="announce instapaper_body rst" data-path="README.rst" id="readme"><article class="markdown-body entry-content" itemprop="mainContentOfPage"><h1>
<a name="user-content-php-coding-standards-fixer" class="anchor" href="#php-coding-standards-fixer" aria-hidden="true"><span class="octicon octicon-link"></span></a>PHP Coding Standards Fixer</h1>
<p>The PHP Coding Standards Fixer tool fixes <em>most</em> issues in your code when you
want to follow the PHP coding standards as defined in the PSR-1 and PSR-2
documents.</p>
<p>If you are already using <tt>PHP_CodeSniffer</tt> to identify coding standards
problems in your code, you know that fixing them by hand is tedious, especially
on large projects. This tool does the job for you.</p>
<h2>
<a name="user-content-requirements" class="anchor" href="#requirements" aria-hidden="true"><span class="octicon octicon-link"></span></a>Requirements</h2>
<p>PHP needs to be a minimum version of PHP 5.3.6</p>
<h2>
<a name="user-content-installation" class="anchor" href="#installation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installation</h2>
<h3>
<a name="user-content-locally" class="anchor" href="#locally" aria-hidden="true"><span class="octicon octicon-link"></span></a>Locally</h3>
<p>Download the <a href="http://get.sensiolabs.org/php-cs-fixer.phar">php-cs-fixer.phar</a> file and store it somewhere on your computer.</p>
<h3>
<a name="user-content-globally-manual" class="anchor" href="#globally-manual" aria-hidden="true"><span class="octicon octicon-link"></span></a>Globally (manual)</h3>
<p>You can run these commands to easily access <tt>php-cs-fixer</tt> from anywhere on
your system:</p>
<div class="highlight highlight-bash"><pre>
<span class="nv">$ </span>sudo wget http://get.sensiolabs.org/php-cs-fixer.phar -O /usr/local/bin/php-cs-fixer
</pre></div>
<p>or with curl:</p>
<div class="highlight highlight-bash"><pre>
<span class="nv">$ </span>sudo curl http://get.sensiolabs.org/php-cs-fixer.phar -o /usr/local/bin/php-cs-fixer
</pre></div>
<p>then:</p>
<div class="highlight highlight-bash"><pre>
<span class="nv">$ </span>sudo chmod a+x /usr/local/bin/php-cs-fixer
</pre></div>
<p>Then, just run <tt>php-cs-fixer</tt>.</p>
<h3>
<a name="user-content-globally-composer" class="anchor" href="#globally-composer" aria-hidden="true"><span class="octicon octicon-link"></span></a>Globally (Composer)</h3>
<p>To install PHP-CS-Fixer, install Composer and issue the following command:</p>
<div class="highlight highlight-bash"><pre>
<span class="nv">$ </span>./composer.phar global require fabpot/php-cs-fixer @stable
</pre></div>
<p>Then, make sure you have <tt>~/.composer/vendor/bin</tt> in your <tt>PATH</tt>, and
you're good to go:</p>
<div class="highlight highlight-bash"><pre>
<span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="s2">"$PATH:$HOME/.composer/vendor/bin"</span>
</pre></div>
<h3>
<a name="user-content-globally-homebrew" class="anchor" href="#globally-homebrew" aria-hidden="true"><span class="octicon octicon-link"></span></a>Globally (homebrew)</h3>
<p>PHP-CS-Fixer is part of the homebrew-php project. Follow the installation
instructions at <a href="https://github.com/josegonzalez/homebrew-php">https://github.com/josegonzalez/homebrew-php</a> if you don't
already have it.</p>
<div class="highlight highlight-bash"><pre>
<span class="nv">$ </span>brew tap josegonzalez/homebrew-php
<span class="nv">$ </span>brew install php-cs-fixer
</pre></div>
<h2>
<a name="user-content-update" class="anchor" href="#update" aria-hidden="true"><span class="octicon octicon-link"></span></a>Update</h2>
<h3>
<a name="user-content-locally-1" class="anchor" href="#locally-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Locally</h3>
<p>The <tt>self-update</tt> command tries to update <tt>php-cs-fixer</tt> itself:</p>
<div class="highlight highlight-bash"><pre>
<span class="nv">$ </span>php php-cs-fixer.phar self-update
</pre></div>
<h3>
<a name="user-content-globally-manual-1" class="anchor" href="#globally-manual-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Globally (manual)</h3>
<p>You can update <tt>php-cs-fixer</tt> through this command:</p>
<div class="highlight highlight-bash"><pre>
<span class="nv">$ </span>sudo php-cs-fixer self-update
</pre></div>
<h3>
<a name="user-content-globally-homebrew-1" class="anchor" href="#globally-homebrew-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Globally (homebrew)</h3>
<p>You can update <tt>php-cs-fixer</tt> through this command:</p>
<div class="highlight highlight-bash"><pre>
<span class="nv">$ </span>brew upgrade php-cs-fixer
</pre></div>
<h2>
<a name="user-content-usage" class="anchor" href="#usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Usage</h2>
<p>The <tt>fix</tt> command tries to fix as much coding standards
problems as possible on a given file or directory:</p>
<div class="highlight highlight-bash"><pre>
php php-cs-fixer.phar fix /path/to/dir
php php-cs-fixer.phar fix /path/to/file
</pre></div>
<p>The <tt>--level</tt> option limits the fixers to apply on the
project:</p>
<div class="highlight highlight-bash"><pre>
php php-cs-fixer.phar fix /path/to/project --level<span class="o">=</span>psr0
php php-cs-fixer.phar fix /path/to/project --level<span class="o">=</span>psr1
php php-cs-fixer.phar fix /path/to/project --level<span class="o">=</span>psr2
php php-cs-fixer.phar fix /path/to/project --level<span class="o">=</span>all
</pre></div>
<p>By default, all PSR-2 fixers and some additional ones are run. The "contrib
level" fixers cannot be enabled via this option; you should instead set them
manually by their name via the <tt>--fixers</tt> option.</p>
<p>The <tt>--fixers</tt> option lets you choose the exact fixers to
apply (the fixer names must be separated by a comma):</p>
<div class="highlight highlight-bash"><pre>
php php-cs-fixer.phar fix /path/to/dir --fixers<span class="o">=</span>linefeed,short_tag,indentation
</pre></div>
<p>You can also blacklist the fixers you don't want if this is more convenient,
using <tt>-name</tt>:</p>
<div class="highlight highlight-bash"><pre>
php php-cs-fixer.phar fix /path/to/dir --fixers<span class="o">=</span>-short_tag,-indentation
</pre></div>
<p>A combination of <tt>--dry-run</tt>, <tt>--verbose</tt> and <tt>--diff</tt> will
display summary of proposed fixes, leaving your files unchanged.</p>
<p>The command can also read from standard input, in which case it won't
automatically fix anything:</p>
<div class="highlight highlight-bash"><pre>
cat foo.php <span class="p">|</span> php php-cs-fixer.phar fix -v --diff -
</pre></div>
<p>Choose from the list of available fixers:</p>
<ul>
<li><dl>
<dt>
<strong>psr0</strong> [PSR-0] Classes must be in a path that matches</dt>
<dd>
<p>their namespace, be at least one namespace deep,
and the class name should match the file name.</p>
</dd>
</dl></li>
<li><dl>
<dt>
<strong>encoding</strong> [PSR-1] PHP code MUST use only UTF-8 without BOM</dt>
<dd>
<p>(remove BOM).</p>
</dd>
</dl></li>
<li><dl>
<dt>
<strong>short_tag</strong> [PSR-1] PHP code must use the long &lt;?php ?&gt; tags or</dt>
<dd>
<p>the short-echo &lt;?= ?&gt; tags; it must not use the
other tag variations.</p>
</dd>
</dl></li>
<li><dl>
<dt>
<strong>braces</strong> [PSR-2] Opening braces for classes, interfaces,</dt>
<dd>
<p>traits and methods must go on the next line, and
closing braces must go on the next line after the
body. Opening braces for control structures must go
on the same line, and closing braces must go on the
next line after the body.</p>
</dd>
</dl></li>
<li><dl>
<dt>
<strong>elseif</strong> [PSR-2] The keyword elseif should be used instead</dt>
<dd>
<p>of else if so that all control keywords looks like
single words.</p>
</dd>
</dl></li>
<li><dl>
<dt>
<strong>eof_ending</strong> [PSR-2] A file must always end with an empty line</dt>
<dd>
<p>feed.</p>
</dd>
</dl></li>
<li><dl>
<dt>
<strong>function_declaration</strong> [PSR-2] Spaces should be properly placed in a</dt>
<dd>
<p>function declaration</p>
</dd>
</dl></li>
<li><dl>
<dt>
<strong>indentation</strong> [PSR-2] Code MUST use an indent of 4 spaces, and</dt>
<dd>
<p>MUST NOT use tabs for indenting.</p>
</dd>
</dl></li>
<li><dl>
<dt>
<strong>linefeed</strong> [PSR-2] All PHP files must use the Unix LF</dt>
<dd>
<p>(linefeed) line ending.</p>
</dd>
</dl></li>
<li><dl>
<dt>
<strong>lowercase_constants</strong> [PSR-2] The PHP constants true, false, and null</dt>
<dd>
<p>MUST be in lower case.</p>
</dd>
</dl></li>
<li>
<p><strong>lowercase_keywords</strong> [PSR-2] PHP keywords MUST be in lower case.</p>
</li>
<li><dl>
<dt>
<strong>php_closing_tag</strong> [PSR-2] The closing ?&gt; tag MUST be omitted from</dt>
<dd>
<p>files containing only PHP.</p>
</dd>
</dl></li>
<li><dl>
<dt>
<strong>trailing_spaces</strong> [PSR-2] Remove trailing whitespace at the end of</dt>
<dd>
<p>non-blank lines.</p>
</dd>
</dl></li>
<li><dl>
<dt>
<strong>visibility</strong> [PSR-2] Visibility MUST be declared on all</dt>
<dd>
<p>properties and methods; abstract and final MUST be
declared before the visibility; static MUST be
declared after the visibility.</p>
</dd>
</dl></li>
<li>
<p><strong>concat_without_spaces</strong> [all] Concatenation should be used without spaces.</p>
</li>
<li><dl>
<dt>
<strong>controls_spaces</strong> [all] A single space should be between: the closing</dt>
<dd>
<p>brace and the control, the control and the opening
parentheses, the closing parentheses and the
opening brace.</p>
</dd>
</dl></li>
<li>
<p><strong>extra_empty_lines</strong> [all] Removes extra empty lines.</p>
</li>
<li><dl>
<dt>
<strong>include</strong> [all] Include and file path should be divided with</dt>
<dd>
<p>a single space. File path should not be placed
under brackets.</p>
</dd>
</dl></li>
<li><dl>
<dt>
<strong>new_with_braces</strong> [all] All instances created with new keyword must</dt>
<dd>
<p>be followed by braces.</p>
</dd>
</dl></li>
<li><dl>
<dt>
<strong>object_operator</strong> [all] There should not be space before or after</dt>
<dd>
<p>object T_OBJECT_OPERATOR.</p>
</dd>
</dl></li>
<li><dl>
<dt>
<strong>operators_spaces</strong> [all] Operators should be arounded by at least one</dt>
<dd>
<p>space.</p>
</dd>
</dl></li>
<li><dl>
<dt>
<strong>phpdoc_params</strong> [all] All items of the @param phpdoc tags must be</dt>
<dd>
<p>aligned vertically.</p>
</dd>
</dl></li>
<li><dl>
<dt>
<strong>return</strong> [all] An empty line feed should precede a return</dt>
<dd>
<p>statement.</p>
</dd>
</dl></li>
<li><dl>
<dt>
<strong>spaces_cast</strong> [all] A single space should be between cast and</dt>
<dd>
<p>variable.</p>
</dd>
</dl></li>
<li>
<p><strong>standardize_not_equal</strong> [all] Replace all &lt;&gt; with !=.</p>
</li>
<li>
<p><strong>ternary_spaces</strong> [all] Standardize spaces around ternary operator.</p>
</li>
<li>
<p><strong>unused_use</strong> [all] Unused use statements must be removed.</p>
</li>
<li><dl>
<dt>
<strong>whitespacy_lines</strong> [all] Remove trailing whitespace at the end of</dt>
<dd>
<p>lines.</p>
</dd>
</dl></li>
<li><dl>
<dt>
<strong>concat_with_spaces</strong> [contrib] Concatenation should be used with at</dt>
<dd>
<p>least one whitespace around.</p>
</dd>
</dl></li>
<li>
<p><strong>ordered_use</strong> [contrib] Ordering use statements.</p>
</li>
<li><dl>
<dt>
<strong>short_array_syntax</strong> [contrib] PHP array's should use the PHP 5.4</dt>
<dd>
<p>short-syntax</p>
</dd>
</dl></li>
<li><dl>
<dt>
<strong>strict</strong> [contrib] Comparison should be strict. Warning!</dt>
<dd>
<p>This could change code behavior.</p>
</dd>
</dl></li>
</ul><p>The <tt>--config</tt> option customizes the files to analyse, based
on some well-known directory structures:</p>
<div class="highlight highlight-bash"><pre>
<span class="c"># For the Symfony 2.3+ branch</span>
php php-cs-fixer.phar fix /path/to/sf23 --config<span class="o">=</span>sf23
</pre></div>
<p>Choose from the list of available configurations:</p>
<ul>
<li>
<strong>default</strong> A default configuration</li>
<li>
<strong>magento</strong> The configuration for a Magento application</li>
<li>
<strong>sf23</strong>    The configuration for the Symfony 2.3+ branch</li>
</ul><p>The <tt>--dry-run</tt> option displays the files that need to be
fixed but without actually modifying them:</p>
<div class="highlight highlight-bash"><pre>
php php-cs-fixer.phar fix /path/to/code --dry-run
</pre></div>
<p>Instead of using command line options to customize the fixer, you can save the
configuration in a <tt>.php_cs</tt> file in the root directory of
your project. The file must return an instance of
SymfonyCSConfigInterface, which lets you configure the fixers, the files,
and directories that need to be analyzed:</p>
<div class="highlight highlight-php"><pre>
<span class="o">&lt;?</span><span class="nx">php</span>

<span class="nv">$finder</span> <span class="o">=</span> <span class="nx">Symfony\CS\Finder\DefaultFinder</span><span class="o">::</span><span class="na">create</span><span class="p">()</span>
    <span class="o">-&gt;</span><span class="na">exclude</span><span class="p">(</span><span class="s1">'somedir'</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">in</span><span class="p">(</span><span class="nx">__DIR__</span><span class="p">)</span>
<span class="p">;</span>

<span class="k">return</span> <span class="nx">Symfony\CS\Config\Config</span><span class="o">::</span><span class="na">create</span><span class="p">()</span>
    <span class="o">-&gt;</span><span class="na">fixers</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">'indentation'</span><span class="p">,</span> <span class="s1">'elseif'</span><span class="p">))</span>
    <span class="o">-&gt;</span><span class="na">finder</span><span class="p">(</span><span class="nv">$finder</span><span class="p">)</span>
<span class="p">;</span>
</pre></div>
<p>You may also use a blacklist for the Fixers instead of the above shown whitelist approach.
The following example shows how to use all Fixers but the psr0 fixer.
Note the additional <tt>-</tt> in front of the Fixer name.</p>
<div class="highlight highlight-php"><pre>
<span class="o">&lt;?</span><span class="nx">php</span>

<span class="nv">$finder</span> <span class="o">=</span> <span class="nx">Symfony\CS\Finder\DefaultFinder</span><span class="o">::</span><span class="na">create</span><span class="p">()</span>
    <span class="o">-&gt;</span><span class="na">exclude</span><span class="p">(</span><span class="s1">'somedir'</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">in</span><span class="p">(</span><span class="nx">__DIR__</span><span class="p">)</span>
<span class="p">;</span>

<span class="k">return</span> <span class="nx">Symfony\CS\Config\Config</span><span class="o">::</span><span class="na">create</span><span class="p">()</span>
    <span class="o">-&gt;</span><span class="na">fixers</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">'-psr0'</span><span class="p">))</span>
    <span class="o">-&gt;</span><span class="na">finder</span><span class="p">(</span><span class="nv">$finder</span><span class="p">)</span>
<span class="p">;</span>
</pre></div>
<p>With the <tt>--config-file</tt> option you can specify the path to the
<tt>.php_cs</tt> file.</p>
<h2>
<a name="user-content-helpers" class="anchor" href="#helpers" aria-hidden="true"><span class="octicon octicon-link"></span></a>Helpers</h2>
<p>Dedicated plugins exist for:</p>
<ul>
<li><a href="https://github.com/stephpy/vim-php-cs-fixer">Vim</a></li>
<li><a href="https://github.com/benmatselby/sublime-phpcs">Sublime Text</a></li>
<li><a href="http://plugins.netbeans.org/plugin/49042/php-cs-fixer">NetBeans</a></li>
<li><a href="http://arnolog.net/post/92715936483/use-fabpots-php-cs-fixer-tool-in-phpstorm-in-2-steps">PhpStorm</a></li>
</ul><h2>
<a name="user-content-contribute" class="anchor" href="#contribute" aria-hidden="true"><span class="octicon octicon-link"></span></a>Contribute</h2>
<p>The tool comes with quite a few built-in fixers and finders, but everyone is
more than welcome to <a href="https://github.com/fabpot/php-cs-fixer/CONTRIBUTING.md">contribute</a> more of them.</p>
<h3>
<a name="user-content-fixers" class="anchor" href="#fixers" aria-hidden="true"><span class="octicon octicon-link"></span></a>Fixers</h3>
<p>A <em>fixer</em> is a class that tries to fix one CS issue (a <tt>Fixer</tt> class must
implement <tt>FixerInterface</tt>).</p>
<h3>
<a name="user-content-configs" class="anchor" href="#configs" aria-hidden="true"><span class="octicon octicon-link"></span></a>Configs</h3>
<p>A <em>config</em> knows about the CS level and the files and directories that must be
scanned by the tool when run in the directory of your project. It is useful for
projects that follow a well-known directory structures (like for Symfony
projects for instance).</p></article></div>