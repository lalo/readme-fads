<div class="announce instapaper_body md" data-path="README.md" id="readme"><article class="markdown-body entry-content" itemprop="mainContentOfPage"><h1>
<a name="user-content-shairport" class="anchor" href="#shairport" aria-hidden="true"><span class="octicon octicon-link"></span></a>ShairPort</h1>

<p>By <a href="mailto:jhl@mafipulation.org">James Laird</a> (<a href="http://mafipulation.org/blagoblig/2011/04/08#shairport">announcement</a>)</p>

<h2>
<a name="user-content-what-it-is" class="anchor" href="#what-it-is" aria-hidden="true"><span class="octicon octicon-link"></span></a>What it is</h2>

<p>This program emulates an AirPort Express for the purpose of streaming music from iTunes and compatible iPods and iPhones. It implements a server for the Apple RAOP protocol.
ShairPort does not support AirPlay v2 (video and photo streaming).</p>

<h2>
<a name="user-content-build-requirements" class="anchor" href="#build-requirements" aria-hidden="true"><span class="octicon octicon-link"></span></a>Build Requirements</h2>

<p>Required:</p>

<ul class="task-list">
<li>OpenSSL</li>
</ul><p>Optionally:</p>

<ul class="task-list">
<li>libao</li>
<li>PulseAudio</li>
<li>avahi</li>
</ul><p>Debian/Raspbian users can get the basics with
<code>apt-get install libssl-dev libavahi-client-dev libasound2-dev</code></p>

<h2>
<a name="user-content-runtime-requirements" class="anchor" href="#runtime-requirements" aria-hidden="true"><span class="octicon octicon-link"></span></a>Runtime Requirements</h2>

<p>You must be running an mDNS (Bonjour) daemon. On a Mac, this will be running already. Otherwise, you must be running avahi-daemon or Howl.
As an alternative, you may use the tinysvcmdns backend, which embeds a lightweight mDNS daemon. It is, however, way less robust than bonjour or avahi.
Check the [mDNS Backends] section for more information.</p>

<h2>
<a name="user-content-how-to-get-started" class="anchor" href="#how-to-get-started" aria-hidden="true"><span class="octicon octicon-link"></span></a>How to get started</h2>

<pre><code>./configure
make
./shairport -a 'My Shairport Name'
</code></pre>

<p>The triangle-in-rectangle AirTunes (now AirPlay) logo will appear in the iTunes status bar of any machine on the network, or on iPod/iPhone play controls screen. Choose your access point name to start streaming to the ShairPort instance.</p>

<h2>
<a name="user-content-audio-outputs" class="anchor" href="#audio-outputs" aria-hidden="true"><span class="octicon octicon-link"></span></a>Audio Outputs</h2>

<p>Shairport supports different audio backends.
For a list of available backends and their options, run <code>shairport -h</code>.
Note that options are supplied to backends at the end of the commandline, separated by --, for example:</p>

<pre><code>shairport -o ao -- -d mydriver -o setting=thing
</code></pre>

<h2>
<a name="user-content-mdns-backends" class="anchor" href="#mdns-backends" aria-hidden="true"><span class="octicon octicon-link"></span></a>mDNS Backends</h2>

<p>Shairport uses mDNS to advertise the service. Multiple backends are available to perform the task.
For a list of available backends, run <code>shairport -h</code>.
The backends prefixed by 'external' rely on external programs that should be present in your path.
By default, shairport will try all backends, in the order they are listed by <code>shairport -h</code>, until one works.
You can force the use of a specific backend using <code>shairport -m tinysvcmdns</code> for example.</p>

<h2>
<a name="user-content-metadata" class="anchor" href="#metadata" aria-hidden="true"><span class="octicon octicon-link"></span></a>Metadata</h2>

<p>The following metadata can be output for the currently playing track:</p>

<ul class="task-list">
<li>artist</li>
<li>title</li>
<li>album</li>
<li>artwork</li>
<li>genre</li>
<li>comment</li>
</ul><p>To enable the output of metadata, the <code>-M &lt;directory name&gt;</code> flag must be set to
instruct <code>shairport</code> where to save the output. This directory must exist. A
fifo named <code>now_playing</code> will be created, and records will be written to it
when tracks are changed. The end of a set of metadata is delimited by a
zero-length line. Cover filenames are relative to the cover directory. Files
are not deleted.</p>

<p>An example::</p>

<pre><code>artist=Arcade Fire
title=City With No Children
album=The Suburbs
artwork=cover-e6450a45ab900815e831434f5ee0499c.jpg
genre=Rock
comment=
</code></pre>

<h2>
<a name="user-content-thanks" class="anchor" href="#thanks" aria-hidden="true"><span class="octicon octicon-link"></span></a>Thanks</h2>

<p>Big thanks to David Hammerton for releasing an ALAC decoder, which is reproduced here in full.
Thanks to everyone who has worked to reverse engineer the RAOP protocol - after finding the keys, everything else was pretty much trivial.
Thanks also to Apple for obfuscating the private key in the ROM image, using a scheme that made the deobfuscation code itself stand out like a flare.
Thanks to Ten Thousand Free Men and their Families for having a computer and stuff.
Thanks to wtbw.</p>

<h2>
<a name="user-content-contributors-to-version-1x" class="anchor" href="#contributors-to-version-1x" aria-hidden="true"><span class="octicon octicon-link"></span></a>Contributors to version 1.x</h2>

<ul class="task-list">
<li><a href="http://mafipulation.org">James Laird</a></li>
<li><a href="http://www.lietar.net/%7Epaul">Paul Lietar</a></li>
<li><a href="http://github.com/sm3rt">Quentin Smart</a></li>
<li><a href="http://github.com/mrpippy">Brendan Shanks</a></li>
<li><a href="http://mazdermind.de">Peter Körner</a></li>
<li><a href="http://github.com/therealmuffin">Muffinman</a></li>
<li><a href="http://github.com/skaman">Skaman</a></li>
<li><a href="http://github.com/wnielson">Weston</a></li>
<li><a href="http://github.com/allesblinkt">allesblinkt</a></li>
</ul><h2>
<a name="user-content-contributors-to-version-0x" class="anchor" href="#contributors-to-version-0x" aria-hidden="true"><span class="octicon octicon-link"></span></a>Contributors to version 0.x</h2>

<ul class="task-list">
<li>
<a href="mailto:jhl@mafipulation.org">James Laird</a>, author</li>
<li>
<a href="http://craz.net/">David Hammerton</a>, ALAC decoder</li>
<li>
<a href="http://www.az2000.de">Albert Zeyer</a>, maintainer</li>
<li><a href="mailto:preston@synergyeoc.com">Preston Marshall</a></li>
<li><a href="mailto:mads@tandrup.org">Mads Mætzke Tandrup</a></li>
<li><a href="mailto:mspasov@gmail.com">Martin Spasov</a></li>
<li><a href="mailto:okertanov@gmail.com">Oleg Kertanov</a></li>
<li><a href="mailto:mag@entropy.be">Rafał Kwaśny</a></li>
<li><a href="mailto:jyo.rakuraku@gmail.com">Rakuraku Jyo</a></li>
<li><a href="mailto:vtj.gijsen@gmail.com">Vincent Gijsen</a></li>
<li><a href="mailto:lars@namsral.com">lars</a></li>
<li><a href="https://blog.stuart.shelton.me/">Stuart Shelton</a></li>
<li><a href="mailto:andywebs@gmail.com">Andrew Webster</a></li>
</ul><h2>
<a name="user-content-known-ports-and-tools" class="anchor" href="#known-ports-and-tools" aria-hidden="true"><span class="octicon octicon-link"></span></a>Known Ports and Tools</h2>

<ul class="task-list">
<li>Java:

<ul class="task-list">
<li><a href="https://github.com/froks/JAirPort">JAirPort</a></li>
<li><a href="https://github.com/bencall/RPlay">RPlay</a></li>
</ul>
</li>
<li>Windows:

<ul class="task-list">
<li><a href="http://sf.net/projects/shairport4w">shairport4w</a></li>
</ul>
</li>
<li>OS X:

<ul class="task-list">
<li>
<a href="https://github.com/rcarlsen/ShairPortMenu">ShairportMenu</a>, a GUI wrapper as a menu widget</li>
<li><a href="https://github.com/joshaber/MacShairport">MacShairport</a></li>
</ul>
</li>
</ul></article></div>