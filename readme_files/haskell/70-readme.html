<div class="announce instapaper_body md" data-path="README.md" id="readme"><article class="markdown-body entry-content" itemprop="mainContentOfPage"><h1>
<a name="user-content-haskell-kaleidoscope-tutorial-httpwwwstephendiehlcomllvm" class="anchor" href="#haskell-kaleidoscope-tutorial-httpwwwstephendiehlcomllvm" aria-hidden="true"><span class="octicon octicon-link"></span></a>Haskell Kaleidoscope Tutorial <a href="http://www.stephendiehl.com/llvm">http://www.stephendiehl.com/llvm</a>
</h1>

<p>This is an open source project, patches and corrections always welcome.</p>

<h2>
<a name="user-content-installing-with-nix" class="anchor" href="#installing-with-nix" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installing with Nix</h2>

<p>The easiest way (if you are currently using Nix package manager or NixOS) is to install all dependencies, both
Haskell and system libraries, is to use the <code>default.nix</code> configuration provided. From the source directory
simply run:</p>

<div class="highlight highlight-bash"><pre><span class="nv">$ </span>nix-shell --pure
</pre></div>

<p>This will install binary packages for all dependencies including <code>ghc</code>, <code>llvm</code>, <code>haskeline</code> and
<code>llvm-general</code> in a self-contained environment that is very likely to work out of the box.</p>

<h2>
<a name="user-content-installing-with-cabal" class="anchor" href="#installing-with-cabal" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installing with Cabal</h2>

<p>Install the dependencies:</p>

<div class="highlight highlight-bash"><pre><span class="nv">$ </span>cabal sandbox init
</pre></div>

<p>If you just want to compile the examples then configure with the following command. Ensure that
<code>llvm-config</code> is on your <code>$PATH</code>.</p>

<div class="highlight highlight-bash"><pre><span class="nv">$ </span>cabal configure
</pre></div>

<p>If you want to build the tutorial text locally configure with the following. This will install pandoc from
source which will take a while.</p>

<div class="highlight highlight-bash"><pre><span class="nv">$ </span>cabal configure --flags<span class="o">=</span>tutorial
</pre></div>

<p>Then install the dependencies:</p>

<div class="highlight highlight-bash"><pre><span class="nv">$ </span>cabal install --only-dependencies
</pre></div>

<h2>
<a name="user-content-source-code" class="anchor" href="#source-code" aria-hidden="true"><span class="octicon octicon-link"></span></a>Source Code</h2>

<p>The source code for the example compiler of each chapter is included in
the <code>/src</code> folder. With the dependencies installed these can be built
using the Makefile at the root level.</p>

<div class="highlight highlight-bash"><pre><span class="nv">$ </span>make chapter1
<span class="nv">$ </span>make chapter6
</pre></div>

<h2>
<a name="user-content-editing" class="anchor" href="#editing" aria-hidden="true"><span class="octicon octicon-link"></span></a>Editing</h2>

<p>To generate the HTML page:</p>

<div class="highlight highlight-bash"><pre><span class="nv">$ </span>make tutorial.html
</pre></div>

<p>A standalone PDF can also be generated with:</p>

<div class="highlight highlight-bash"><pre><span class="nv">$ </span>make tutorial.pdf
</pre></div>

<h2>
<a name="user-content-license" class="anchor" href="#license" aria-hidden="true"><span class="octicon octicon-link"></span></a>License</h2>

<p>LLVM + MIT License</p></article></div>