<div class="announce instapaper_body md" data-path="README.md" id="readme"><article class="markdown-body entry-content" itemprop="mainContentOfPage"><p>Maktaba is a vimscript plugin library. It is designed for plugin authors.
Features include:</p>

<ul class="task-list">
<li>Plugin objects (for manipulating plugins in vimscript)</li>
<li>Plugin flags (used to configure plugins without global settings)</li>
<li>Universal logger interface</li>
<li>Dependency management tools</li>
<li>Real closures</li>
</ul><p>Maktaba advocates a plugin structure that, when adhered to, gives the plugin
access to many powerful tools such as configuration flags. Within Google, these
conventions standardize behavior across a wide variety of plugins.</p>

<p>Also contained are many utility functions that ease the pain of working with
vimscript. This includes, among other things:</p>

<ul class="task-list">
<li>Exception handling</li>
<li>Variable type enforcement</li>
<li>Filepath manipulation</li>
</ul><h1>
<a name="user-content-usage-example" class="anchor" href="#usage-example" aria-hidden="true"><span class="octicon octicon-link"></span></a>Usage example</h1>

<p>Maktaba plugins can be installed using any plugin manager. However, maktaba
plugins make heavy use of dependency management, so it's recommended to use a
plugin manager with dependency management capabilities, like
<a href="https://github.com/MarcWeber/vim-addon-manager">VAM</a>.</p>

<p>Installation of a few plugins using VAM looks something like</p>

<div class="highlight highlight-vim"><pre><span class="k">set</span> <span class="nb">runtimepath</span><span class="p">+=~</span><span class="sr">/.vim/</span>bundle<span class="sr">/vim-addon-manager/</span>
<span class="c">" Loads glaive, vtd, and their maktaba dependency.</span>
<span class="k">call</span> vam#ActivateAddons<span class="p">(</span>[<span class="s1">'glaive'</span><span class="p">,</span> <span class="s1">'vtd'</span>]<span class="p">)</span>
<span class="c">" Initializes all maktaba plugins.</span>
<span class="k">call</span> maktaba#plugin#Detect<span class="p">()</span>
</pre></div>

<h1>
<a name="user-content-plugins-using-maktaba" class="anchor" href="#plugins-using-maktaba" aria-hidden="true"><span class="octicon octicon-link"></span></a>Plugins Using Maktaba</h1>

<p>Several vim plugins are
<a href="https://github.com/google/maktaba/wiki/Plugins-Using-Maktaba">already using maktaba</a>.
As a user, you can generally expect these plugins to be configurable using
<a href="https://github.com/google/glaive">Glaive</a> and be more well-behaved in terms of
things like defining unwanted global mappings and variables and avoiding
annoying side-effects like moving your cursor.</p>

<p>Plugin authors should consider developing plugins using maktaba to simplify
code, support modular plugins with hassle-free dependency management, and avoid
common pitfalls. If you've written a plugin using maktaba, please add it to the
list above and share feedback.</p>

<h1>
<a name="user-content-further-reading" class="anchor" href="#further-reading" aria-hidden="true"><span class="octicon octicon-link"></span></a>Further reading</h1>

<p>In the <code>vroom/</code> directory you'll find literate test files that walk you through
maktaba features in depth. <code>vroom/main.vroom</code> is a good place to start.</p>

<p>In the <code>examples/</code> directory you can find an example maktaba plugin to give you
a feel for how maktaba plugins look.</p>

<p>In the <code>doc/</code> directory you'll find helpfiles for maktaba. These are also
available via <code>:help maktaba</code> if maktaba has been installed and helptags have
been generated. The help files document the maktaba API in its entirety.</p></article></div>