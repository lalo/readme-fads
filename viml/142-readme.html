<div class="announce instapaper_body md" data-path="README.md" id="readme"><article class="markdown-body entry-content" itemprop="mainContentOfPage"><h1>
<a name="user-content-tmuxlinevim" class="anchor" href="#tmuxlinevim" aria-hidden="true"><span class="octicon octicon-link"></span></a>tmuxline.vim</h1>

<p>Simple tmux statusline generator with support for powerline symbols and vim/airline/lightline statusline integration</p>

<ul class="task-list">
<li>colors from <a href="https://github.com/bling/vim-airline">vim-airline</a>/<a href="https://github.com/itchyny/lightline.vim">lightline.vim</a>
</li>
</ul><p><a href="https://camo.githubusercontent.com/5f029f9c94dc587dc8ecc93a72fb7a2611255f11/68747470733a2f2f662e636c6f75642e6769746875622e636f6d2f6173736574732f313533323037312f313535363035382f64323334376565612d346561372d313165332d393339332d3636306232653263313433612e706e67" target="_blank"><img src="https://camo.githubusercontent.com/5f029f9c94dc587dc8ecc93a72fb7a2611255f11/68747470733a2f2f662e636c6f75642e6769746875622e636f6d2f6173736574732f313533323037312f313535363035382f64323334376565612d346561372d313165332d393339332d3636306232653263313433612e706e67" alt="img" data-canonical-src="https://f.cloud.github.com/assets/1532071/1556058/d2347eea-4ea7-11e3-9393-660b2e2c143a.png" style="max-width:100%;"></a></p>

<ul class="task-list">
<li>colors from vim's own <a href="http://vimdoc.sourceforge.net/htmldoc/options.html#'statusline'">statusline</a>
</li>
</ul><p><a href="https://cloud.githubusercontent.com/assets/1532071/3634460/5b2858f4-0f30-11e4-925c-bf555bb65806.png" target="_blank"><img src="https://cloud.githubusercontent.com/assets/1532071/3634460/5b2858f4-0f30-11e4-925c-bf555bb65806.png" alt="img" style="max-width:100%;"></a></p>

<h2>
<a name="user-content-features" class="anchor" href="#features" aria-hidden="true"><span class="octicon octicon-link"></span></a>Features</h2>

<ul class="task-list">
<li>use <a href="http://vimdoc.sourceforge.net/htmldoc/options.html#'statusline'">vim</a>/<a href="https://github.com/bling/vim-airline">vim-airline</a>/<a href="https://github.com/itchyny/lightline.vim">lightline.vim</a> colors, so tmux and vim share the same statusline colortheme</li>
<li>preloaded with stock themes and presets, which can be combined anyway you want</li>
<li>configure tmux statusline using a simple hash, in case stock presets don't meet your needs</li>
<li>create a snapshot .conf file which can be sourced by tmux, no need to open vim to set your tmux statusline</li>
</ul><h2>
<a name="user-content-quickstart" class="anchor" href="#quickstart" aria-hidden="true"><span class="octicon octicon-link"></span></a>Quickstart</h2>

<h4>
<a name="user-content-use-vims-statusline-colors" class="anchor" href="#use-vims-statusline-colors" aria-hidden="true"><span class="octicon octicon-link"></span></a>use vim's statusline colors</h4>

<p>Use one of the <code>vim_statusline_*</code> themes (and optionally set in vimrc <code>let g:tmuxline_powerline_separators = 0</code>):</p>

<pre><code>:Tmuxline vim_statusline_1
" or
:Tmuxline vim_statusline_2
" or
:Tmuxline vim_statusline_3
</code></pre>

<p><a href="https://cloud.githubusercontent.com/assets/1532071/3787457/dc6ef76c-1a19-11e4-8d77-964e7db87337.png" target="_blank"><img src="https://cloud.githubusercontent.com/assets/1532071/3787457/dc6ef76c-1a19-11e4-8d77-964e7db87337.png" alt="img" style="max-width:100%;"></a></p>

<h4>
<a name="user-content-use-vim-airline-colors" class="anchor" href="#use-vim-airline-colors" aria-hidden="true"><span class="octicon octicon-link"></span></a>use vim-airline colors</h4>

<p>Just start vim inside of tmux. airline's colors will be applied to tmux's statusline</p>

<p><a href="https://camo.githubusercontent.com/5c9236384e1596198af835aaafe9b95631790eea/68747470733a2f2f662e636c6f75642e6769746875622e636f6d2f6173736574732f313533323037312f313535363035392f64323461356334322d346561372d313165332d393936352d6331333431386438383961312e706e67" target="_blank"><img src="https://camo.githubusercontent.com/5c9236384e1596198af835aaafe9b95631790eea/68747470733a2f2f662e636c6f75642e6769746875622e636f6d2f6173736574732f313533323037312f313535363035392f64323461356334322d346561372d313165332d393936352d6331333431386438383961312e706e67" alt="img" data-canonical-src="https://f.cloud.github.com/assets/1532071/1556059/d24a5c42-4ea7-11e3-9965-c13418d889a1.png" style="max-width:100%;"></a></p>

<p>Alternatively, you can set it manually using <code>airline_*</code> themes:</p>

<pre><code>:Tmuxline airline
" or
:Tmuxline airline_insert
" or
:Tmuxline airline_visual
</code></pre>

<p>If you set airline theme manually, make sure the <a href="https://github.com/bling/vim-airline#tmuxline">airline-tmuxline</a> extension  is disabled, so it doesn't overwrite the theme:</p>

<p><code>let g:airline#extensions#tmuxline#enabled = 0</code></p>

<h4>
<a name="user-content-use-lightlinevim-colors" class="anchor" href="#use-lightlinevim-colors" aria-hidden="true"><span class="octicon octicon-link"></span></a>use lightline.vim colors</h4>

<p>Use one of the <code>lightline_*</code> themes:</p>

<pre><code>:Tmuxline lightline
" or
:Tmuxline lightline_insert
" or
:Tmuxline lightline_visual
</code></pre>

<p><a href="https://camo.githubusercontent.com/101dbabd2172f9123129f484ae75464e21aed332/68747470733a2f2f662e636c6f75642e6769746875622e636f6d2f6173736574732f313533323037312f323035383536362f65633634626637302d386237372d313165332d383833662d3832623431613833663661632e706e67" target="_blank"><img src="https://camo.githubusercontent.com/101dbabd2172f9123129f484ae75464e21aed332/68747470733a2f2f662e636c6f75642e6769746875622e636f6d2f6173736574732f313533323037312f323035383536362f65633634626637302d386237372d313165332d383833662d3832623431613833663661632e706e67" alt="img" data-canonical-src="https://f.cloud.github.com/assets/1532071/2058566/ec64bf70-8b77-11e3-883f-82b41a83f6ac.png" style="max-width:100%;"></a></p>

<h2>
<a name="user-content-usage" class="anchor" href="#usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Usage</h2>

<p>Set a a colortheme and a preset, both arguments are optional</p>

<pre><code>:Tmuxline [theme] [preset]
</code></pre>

<p>After running :Tmuxline, create a snapshot file which can be sourced by tmux.conf on startup</p>

<pre><code>:TmuxlineSnapshot [file]
</code></pre>

<p>Source the created snapshot in tmux.conf</p>

<pre><code># in tmux.conf
source-file [file]

# alternatively, check file exists before sourcing it in tmux.conf
if-shell "test -f [file]" "source [file]"
</code></pre>

<p>Note that <code>:Tmuxline</code> and <code>:TmuxlineSnapshot</code> are available only when vim is inside a tmux session.</p>

<h2>
<a name="user-content-configuration" class="anchor" href="#configuration" aria-hidden="true"><span class="octicon octicon-link"></span></a>Configuration</h2>

<h3>
<a name="user-content-stock-preset" class="anchor" href="#stock-preset" aria-hidden="true"><span class="octicon octicon-link"></span></a>Stock preset</h3>

<p>Set <code>g:tmuxline_preset</code> to a stock preset and run <code>:Tmuxline</code></p>

<pre><code>let g:tmuxline_preset = 'nightly_fox'
" or
let g:tmuxline_preset = 'full'
" or
let g:tmuxline_preset = 'tmux'
" other presets available in autoload/tmuxline/presets/*
</code></pre>

<h3>
<a name="user-content-custom-preset" class="anchor" href="#custom-preset" aria-hidden="true"><span class="octicon octicon-link"></span></a>Custom preset</h3>

<p>Contents of the statusline are configured with a simple hash.
Left section is configured with <code>a, b, c</code>, right with <code>x, y, z</code>. <code>cwin</code> and <code>win</code> affect the current (active) window and the in-active windows respectively.</p>

<pre><code>let g:tmuxline_preset = {
      \'a'    : '#S',
      \'b'    : '#W',
      \'c'    : '#H',
      \'win'  : '#I #W',
      \'cwin' : '#I #W',
      \'x'    : '%a',
      \'y'    : '#W %R',
      \'z'    : '#H'}
</code></pre>

<p><a href="https://camo.githubusercontent.com/bb4104516bcef874e00a9fccf0f1d3b464706a25/68747470733a2f2f662e636c6f75642e6769746875622e636f6d2f6173736574732f313533323037312f313535363036302f64383066323461302d346561372d313165332d393763322d3065356664333964626632622e706e67" target="_blank"><img src="https://camo.githubusercontent.com/bb4104516bcef874e00a9fccf0f1d3b464706a25/68747470733a2f2f662e636c6f75642e6769746875622e636f6d2f6173736574732f313533323037312f313535363036302f64383066323461302d346561372d313165332d393763322d3065356664333964626632622e706e67" alt="img" data-canonical-src="https://f.cloud.github.com/assets/1532071/1556060/d80f24a0-4ea7-11e3-97c2-0e5fd39dbf2b.png" style="max-width:100%;"></a></p>

<p>tmux will replace #X and %X. Excerpts from tmux man page:</p>

<pre><code>#H    Hostname of local host
#h    Hostname of local host without the domain name
#F    Current window flag
#I    Current window index
#S    Session name
#W    Current window name
#(shell-command)  First line of the command's output

string will be passed through strftime(3) before being used.
</code></pre>

<p>If the values of the hash <code>g:tmuxline_preset</code> hold an array, a powerline separator will be placed.</p>

<pre><code>let g:tmuxline_preset = {
      \'a'    : '#S',
      \'win'  : ['#I', '#W'],
      \'cwin' : ['#I', '#W', '#F'],
      \'y'    : ['%R', '%a', '%Y'],
      \'z'    : '#H'}
</code></pre>

<p><a href="https://camo.githubusercontent.com/8d5ac8f30d3a246dab43246927acfe65678c4ac4/68747470733a2f2f662e636c6f75642e6769746875622e636f6d2f6173736574732f313533323037312f313535363036312f64383161623131322d346561372d313165332d396265372d3436653431636334376365662e706e67" target="_blank"><img src="https://camo.githubusercontent.com/8d5ac8f30d3a246dab43246927acfe65678c4ac4/68747470733a2f2f662e636c6f75642e6769746875622e636f6d2f6173736574732f313533323037312f313535363036312f64383161623131322d346561372d313165332d396265372d3436653431636334376365662e706e67" alt="img" data-canonical-src="https://f.cloud.github.com/assets/1532071/1556061/d81ab112-4ea7-11e3-9be7-46e41cc47cef.png" style="max-width:100%;"></a></p>

<p>tmux allows using any command in the statusline.</p>

<pre><code>let g:tmuxline_preset = {
      \'a'    : '#S',
      \'c'    : ['#(whoami)', '#(uptime | cud -d " " -f 1,2,3)'],
      \'win'  : ['#I', '#W'],
      \'cwin' : ['#I', '#W', '#F'],
      \'x'    : '#(date)',
      \'y'    : ['%R', '%a', '%Y'],
      \'z'    : '#H'}
</code></pre>

<p><a href="https://camo.githubusercontent.com/369cd5b86d7f6dae0c36de4b5fdb84fa1cd1c648/68747470733a2f2f662e636c6f75642e6769746875622e636f6d2f6173736574732f313533323037312f313535363036322f64383236363063612d346561372d313165332d396466332d3462303834613939326330632e706e67" target="_blank"><img src="https://camo.githubusercontent.com/369cd5b86d7f6dae0c36de4b5fdb84fa1cd1c648/68747470733a2f2f662e636c6f75642e6769746875622e636f6d2f6173736574732f313533323037312f313535363036322f64383236363063612d346561372d313165332d396466332d3462303834613939326330632e706e67" alt="img" data-canonical-src="https://f.cloud.github.com/assets/1532071/1556062/d82660ca-4ea7-11e3-9df3-4b084a992c0c.png" style="max-width:100%;"></a></p>

<h3>
<a name="user-content-separators" class="anchor" href="#separators" aria-hidden="true"><span class="octicon octicon-link"></span></a>Separators</h3>

<p>Use <code>let g:tmuxline_powerline_separators = 0</code> to disable using powerline symbols</p>

<p>To fine-tune the separators, use <code>g:tmuxline_separators</code>:</p>

<pre><code>let g:tmuxline_separators = {
    \ 'left' : '',
    \ 'left_alt': '&gt;',
    \ 'right' : '',
    \ 'right_alt' : '&lt;',
    \ 'space' : ' '}
</code></pre>

<h3>
<a name="user-content-theme" class="anchor" href="#theme" aria-hidden="true"><span class="octicon octicon-link"></span></a>Theme</h3>

<p>Note that <a href="https://github.com/bling/vim-airline">vim-airline</a> has a <a href="https://github.com/bling/vim-airline#tmuxline">tmuxline extenstion</a> which by default sets airline's color theme onto tmuxline.
If you don't want airline colors in tmuxline, set <code>let g:airline#extensions#tmuxline#enabled = 0</code> in vimrc.</p>

<p>Modifying <code>g:tmuxline_theme</code> (details below) makes sense only if the airline-tmuxline is not enabled.</p>

<p>Use <code>g:tmuxline_theme</code> to configure the theme. <code>g:tmuxline_theme</code> can hold either a string (stock theme) or a hash (custom theme).</p>

<pre><code>let g:tmuxline_theme = 'icebert'
" or
let g:tmuxline_theme = 'zenburn'
" or
let g:tmuxline_theme = 'jellybeans'
" other themes available in autoload/tmuxline/themes/*
</code></pre>

<p>Alternatively, <code>g:tmuxline_theme</code> can be used to fine tune a custom theme:</p>

<pre><code>let g:tmuxline_theme = {
    \   'a'    : [ 236, 103 ],
    \   'b'    : [ 253, 239 ],
    \   'c'    : [ 244, 236 ],
    \   'x'    : [ 244, 236 ],
    \   'y'    : [ 253, 239 ],
    \   'z'    : [ 236, 103 ]
    \   'win'  : [ 103, 236 ],
    \   'cwin' : [ 236, 103 ],
    \   'bg'   : [ 244, 236 ],
    \ }
" values represent: [ FG, BG, ATTR ]
"   FG ang BG are color codes
"   ATTR (optional) is a comme-delimited string of one or more of bold, dim, underscore, etc. For details refer to 'message-attr attributes' in tmux man page
</code></pre>

<h2>
<a name="user-content-installation" class="anchor" href="#installation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installation</h2>

<p>The plugin's files follow the standard layout for vim plugins.</p>

<ul class="task-list">
<li>
<a href="https://github.com/tpope/vim-pathogen">Pathogen</a> <code>git clone https://github.com/edkolev/tmuxline.vim ~/.vim/bundle/tmuxline.vim</code>
</li>
<li>
<a href="https://github.com/gmarik/vundle">Vundle</a> <code>Bundle 'edkolev/tmuxline.vim'</code>
</li>
<li>
<a href="https://github.com/Shougo/neobundle.vim">NeoBundle</a> <code>NeoBundle 'edkolev/tmuxline.vim'</code>
</li>
</ul><h2>
<a name="user-content-inspired-by" class="anchor" href="#inspired-by" aria-hidden="true"><span class="octicon octicon-link"></span></a>Inspired by</h2>

<ul class="task-list">
<li>Paul Rouget's <a href="http://paulrouget.com/e/myconf/">desktop setup</a>
</li>
<li>Bailey Ling's <a href="https://github.com/bling/vim-airline">vim-airline</a>
</li>
</ul><h2>
<a name="user-content-rationale" class="anchor" href="#rationale" aria-hidden="true"><span class="octicon octicon-link"></span></a>Rationale</h2>

<p>Vimscript wasn't my first choice of language for this plugin. Arguably, bash would have been better suited for this task. I chose vimscript because:</p>

<ul class="task-list">
<li>its data scructures (arrays, hashes) are better than their bash counterparts (easier to write, to maintain). So maintaining your tmux statusline as a vim hash would be easier</li>
<li>vim has (better) package managers</li>
</ul><p>Somewhat-similar plugins:</p>

<ul class="task-list">
<li>
<a href="https://github.com/Lokaltog/powerline">powerline</a> is a great project. Still, my <a href="http://www.raspberrypi.org/">Raspberri Pi</a> chokes while executing python every <a href="https://github.com/Lokaltog/powerline/blob/82842e015cda89fb48b1256d34c53f964e2fa151/powerline/bindings/tmux/powerline.conf#L4">2 seconds</a> (I haven't tried powerline's daemon mode). I also find it a bit hard to personalize</li>
<li>
<a href="https://github.com/erikw/tmux-powerline">tmux-powerline</a> doesn't focus on easy customization but on adding extra information (segments) in tmux (gmail, weather, earthquake warnings, etc)</li>
</ul><h2>
<a name="user-content-license" class="anchor" href="#license" aria-hidden="true"><span class="octicon octicon-link"></span></a>License</h2>

<p>MIT License. Copyright (c) 2013-2014 Evgeni Kolev.</p></article></div>