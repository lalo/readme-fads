<div class="announce instapaper_body md" data-path="README.md" id="readme"><article class="markdown-body entry-content" itemprop="mainContentOfPage"><h1>
<a name="user-content-lightlinevim" class="anchor" href="#lightlinevim" aria-hidden="true"><span class="octicon octicon-link"></span></a>lightline.vim</h1>

<p>A light and configurable statusline/tabline for Vim</p>

<p><a href="https://github.com/itchyny/lightline.vim">https://github.com/itchyny/lightline.vim</a></p>

<h3>
<a name="user-content-powerline-theme-default" class="anchor" href="#powerline-theme-default" aria-hidden="true"><span class="octicon octicon-link"></span></a>powerline theme (default)</h3>

<p><a href="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/powerline/1.png" target="_blank"><img src="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/powerline/1.png" alt="lightline.vim - powerline - normal" style="max-width:100%;"></a><a href="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/powerline/2.png" target="_blank"><img src="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/powerline/2.png" alt="lightline.vim - powerline - insert" style="max-width:100%;"></a><a href="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/powerline/3.png" target="_blank"><img src="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/powerline/3.png" alt="lightline.vim - powerline - visual" style="max-width:100%;"></a><a href="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/powerline/4.png" target="_blank"><img src="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/powerline/4.png" alt="lightline.vim - powerline - replace" style="max-width:100%;"></a></p>

<h3>
<a name="user-content-wombat-with-the-patched-font" class="anchor" href="#wombat-with-the-patched-font" aria-hidden="true"><span class="octicon octicon-link"></span></a>wombat (with the patched font)</h3>

<p><a href="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/wombat/1.png" target="_blank"><img src="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/wombat/1.png" alt="lightline.vim - wombat - normal" style="max-width:100%;"></a><a href="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/wombat/2.png" target="_blank"><img src="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/wombat/2.png" alt="lightline.vim - wombat - insert" style="max-width:100%;"></a><a href="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/wombat/3.png" target="_blank"><img src="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/wombat/3.png" alt="lightline.vim - wombat - visual" style="max-width:100%;"></a><a href="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/wombat/4.png" target="_blank"><img src="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/wombat/4.png" alt="lightline.vim - wombat - replace" style="max-width:100%;"></a></p>

<h3>
<a name="user-content-jellybeans-with-the-patched-font" class="anchor" href="#jellybeans-with-the-patched-font" aria-hidden="true"><span class="octicon octicon-link"></span></a>jellybeans (with the patched font)</h3>

<p><a href="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/jellybeans/1.png" target="_blank"><img src="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/jellybeans/1.png" alt="lightline.vim - jellybeans - normal" style="max-width:100%;"></a><a href="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/jellybeans/2.png" target="_blank"><img src="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/jellybeans/2.png" alt="lightline.vim - jellybeans - insert" style="max-width:100%;"></a><a href="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/jellybeans/3.png" target="_blank"><img src="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/jellybeans/3.png" alt="lightline.vim - jellybeans - visual" style="max-width:100%;"></a><a href="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/jellybeans/4.png" target="_blank"><img src="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/jellybeans/4.png" alt="lightline.vim - jellybeans - replace" style="max-width:100%;"></a></p>

<h3>
<a name="user-content-solarized-theme-dark" class="anchor" href="#solarized-theme-dark" aria-hidden="true"><span class="octicon octicon-link"></span></a>solarized theme (dark)</h3>

<p><a href="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/solarized_dark/1.png" target="_blank"><img src="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/solarized_dark/1.png" alt="lightline.vim - solarized_dark - normal" style="max-width:100%;"></a><a href="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/solarized_dark/2.png" target="_blank"><img src="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/solarized_dark/2.png" alt="lightline.vim - solarized_dark - insert" style="max-width:100%;"></a><a href="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/solarized_dark/3.png" target="_blank"><img src="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/solarized_dark/3.png" alt="lightline.vim - solarized_dark - visual" style="max-width:100%;"></a><a href="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/solarized_dark/4.png" target="_blank"><img src="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/solarized_dark/4.png" alt="lightline.vim - solarized_dark - replace" style="max-width:100%;"></a></p>

<h3>
<a name="user-content-solarized-theme-light" class="anchor" href="#solarized-theme-light" aria-hidden="true"><span class="octicon octicon-link"></span></a>solarized theme (light)</h3>

<p><a href="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/solarized_light/1.png" target="_blank"><img src="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/solarized_light/1.png" alt="lightline.vim - solarized_light - normal" style="max-width:100%;"></a><a href="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/solarized_light/2.png" target="_blank"><img src="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/solarized_light/2.png" alt="lightline.vim - solarized_light - insert" style="max-width:100%;"></a><a href="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/solarized_light/3.png" target="_blank"><img src="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/solarized_light/3.png" alt="lightline.vim - solarized_light - visual" style="max-width:100%;"></a><a href="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/solarized_light/4.png" target="_blank"><img src="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/solarized_light/4.png" alt="lightline.vim - solarized_light - replace" style="max-width:100%;"></a></p>

<h3>
<a name="user-content-landscape-theme-with-the-patched-font" class="anchor" href="#landscape-theme-with-the-patched-font" aria-hidden="true"><span class="octicon octicon-link"></span></a>landscape theme (with the patched font)</h3>

<p><a href="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/landscape/1.png" target="_blank"><img src="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/landscape/1.png" alt="lightline.vim - landscape - normal" style="max-width:100%;"></a><a href="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/landscape/2.png" target="_blank"><img src="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/landscape/2.png" alt="lightline.vim - landscape - insert" style="max-width:100%;"></a><a href="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/landscape/3.png" target="_blank"><img src="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/landscape/3.png" alt="lightline.vim - landscape - visual" style="max-width:100%;"></a><a href="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/landscape/4.png" target="_blank"><img src="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/landscape/4.png" alt="lightline.vim - landscape - replace" style="max-width:100%;"></a></p>

<p>With branch name, read-only mark and modified mark.
<a href="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/landscape/5.png" target="_blank"><img src="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/landscape/5.png" alt="lightline.vim - landscape - fugitive" style="max-width:100%;"></a></p>

<p>landscape is my colorscheme, which is a high-contrast cui-supported colorscheme, available at <a href="https://github.com/itchyny/landscape.vim">https://github.com/itchyny/landscape.vim</a></p>

<h2>
<a name="user-content-why-yet-another-clone-of-powerline" class="anchor" href="#why-yet-another-clone-of-powerline" aria-hidden="true"><span class="octicon octicon-link"></span></a>Why yet another clone of powerline?</h2>

<ul class="task-list">
<li>
<a href="https://github.com/Lokaltog/vim-powerline">vim-powerline</a> is a nice plugin, but deprecated.</li>
<li>
<a href="https://github.com/Lokaltog/powerline">powerline</a> is a nice plugin, but difficult to configure.</li>
<li>
<a href="https://github.com/bling/vim-airline">vim-airline</a> is a nice plugin, but it uses too much functions of other plugins, which should be done by users in <code>.vimrc</code>.</li>
</ul><h2>
<a name="user-content-spirit-of-this-plugin" class="anchor" href="#spirit-of-this-plugin" aria-hidden="true"><span class="octicon octicon-link"></span></a>Spirit of this plugin</h2>

<ul class="task-list">
<li>Minimalism. The core script is very small.</li>
<li>Configurability. You can create your own component and easily add to the statusline/tabline.</li>
<li>Orthogonality. Any plugin should not change the settings of another plugin. Such plugin-crossing settings should be written by users in <code>.vimrc</code>.</li>
</ul><h2>
<a name="user-content-author" class="anchor" href="#author" aria-hidden="true"><span class="octicon octicon-link"></span></a>Author</h2>

<p>itchyny (<a href="https://github.com/itchyny">https://github.com/itchyny</a>)</p>

<h2>
<a name="user-content-license" class="anchor" href="#license" aria-hidden="true"><span class="octicon octicon-link"></span></a>License</h2>

<p>This software is released under the MIT License, see LICENSE.</p>

<h2>
<a name="user-content-installation" class="anchor" href="#installation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installation</h2>

<h3>
<a name="user-content-manually" class="anchor" href="#manually" aria-hidden="true"><span class="octicon octicon-link"></span></a>Manually</h3>

<ol class="task-list">
<li>Put all files under $VIM.</li>
</ol><h3>
<a name="user-content-pathogen" class="anchor" href="#pathogen" aria-hidden="true"><span class="octicon octicon-link"></span></a>Pathogen</h3>

<ol class="task-list">
<li>
<p>Install with the following command.</p>

<pre><code>git clone https://github.com/itchyny/lightline.vim ~/.vim/bundle/lightline.vim
</code></pre>
</li>
</ol><h3>
<a name="user-content-vundle-httpsgithubcomgmarikvundlevim" class="anchor" href="#vundle-httpsgithubcomgmarikvundlevim" aria-hidden="true"><span class="octicon octicon-link"></span></a>Vundle (<a href="https://github.com/gmarik/Vundle.vim">https://github.com/gmarik/Vundle.vim</a>)</h3>

<ol class="task-list">
<li>
<p>Add the following configuration to your <code>.vimrc</code>.</p>

<pre><code>Plugin 'itchyny/lightline.vim'
</code></pre>
</li>
<li><p>Install with <code>:PluginInstall</code>.</p></li>
</ol><h3>
<a name="user-content-neobundle-httpsgithubcomshougoneobundlevim" class="anchor" href="#neobundle-httpsgithubcomshougoneobundlevim" aria-hidden="true"><span class="octicon octicon-link"></span></a>NeoBundle (<a href="https://github.com/Shougo/neobundle.vim">https://github.com/Shougo/neobundle.vim</a>)</h3>

<ol class="task-list">
<li>
<p>Add the following configuration to your <code>.vimrc</code>.</p>

<pre><code>NeoBundle 'itchyny/lightline.vim'
</code></pre>
</li>
<li><p>Install with <code>:NeoBundleInstall</code>.</p></li>
</ol><h2>
<a name="user-content-configuration-tutorial" class="anchor" href="#configuration-tutorial" aria-hidden="true"><span class="octicon octicon-link"></span></a>Configuration tutorial</h2>

<p>By default, the statusline looks like:
<a href="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/tutorial/1.png" target="_blank"><img src="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/tutorial/1.png" alt="lightline.vim - tutorial" style="max-width:100%;"></a></p>

<p>If you use the wombat colorscheme, add the following settings to your <code>.vimrc</code> (or _vimrc on Windows):</p>

<div class="highlight highlight-vim"><pre><span class="k">let</span> <span class="k">g</span>:lightline <span class="p">=</span> {
      \ <span class="s1">'colorscheme'</span>: <span class="s1">'wombat'</span><span class="p">,</span>
      \ }
</pre></div>

<p>to get:
<a href="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/tutorial/2.png" target="_blank"><img src="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/tutorial/2.png" alt="lightline.vim - tutorial" style="max-width:100%;"></a></p>

<p>If your statusline looks like
<a href="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/tutorial/21.png" target="_blank"><img src="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/tutorial/21.png" alt="lightline.vim - tutorial" style="max-width:100%;"></a></p>

<p>and the cool statuslines appear only on <code>:vsp</code>, add</p>

<div class="highlight highlight-vim"><pre><span class="k">set</span> <span class="nb">laststatus</span><span class="p">=</span><span class="m">2</span>
</pre></div>

<p>to your <code>.vimrc</code>.</p>

<p>If you have problem like
<a href="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/tutorial/20.png" target="_blank"><img src="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/tutorial/20.png" alt="lightline.vim - tutorial" style="max-width:100%;"></a></p>

<p>then add</p>

<div class="highlight highlight-sh"><pre><span class="nb">export </span><span class="nv">TERM</span><span class="o">=</span>xterm-256color
</pre></div>

<p>to your <code>.*shrc</code> and add</p>

<div class="highlight highlight-vim"><pre><span class="k">if</span> <span class="p">!</span>has<span class="p">(</span><span class="s1">'gui_running'</span><span class="p">)</span>
  <span class="k">set</span> <span class="nb">t_Co</span><span class="p">=</span><span class="m">256</span>
<span class="k">endif</span>
</pre></div>

<p>to your <code>.vimrc</code>.</p>

<p>If the colors of the statusline do not change from the default colors, move the settings of <code>g:lightline</code> before setting the colorscheme.</p>

<p>Colors appear correctly? Now let's see how to change the appearance.</p>

<p>You may think that the default read-only mark is not so cool:
<a href="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/tutorial/3.png" target="_blank"><img src="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/tutorial/3.png" alt="lightline.vim - tutorial" style="max-width:100%;"></a></p>

<p>Then edit the read-only component.
The lightline components are stored in <code>g:lightline.component</code>.
So you add the settings of <code>g:lightline.component.readonly</code> in your <code>.vimrc</code>. (the following settings are effective with the patched font for vim-powerline):</p>

<div class="highlight highlight-vim"><pre><span class="k">let</span> <span class="k">g</span>:lightline <span class="p">=</span> {
      \ <span class="s1">'colorscheme'</span>: <span class="s1">'wombat'</span><span class="p">,</span>
      \ <span class="s1">'component'</span>: {
      \   <span class="s1">'readonly'</span>: <span class="s1">'%{&amp;readonly?"⭤":""}'</span><span class="p">,</span>
      \ }
      \ }
</pre></div>

<p><a href="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/tutorial/4.png" target="_blank"><img src="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/tutorial/4.png" alt="lightline.vim - tutorial" style="max-width:100%;"></a></p>

<p>How nice!</p>

<p>But the boundaries are quadrilateral. You may miss the powerline.
You have installed a cool font for powerlines, so you can use it.</p>

<div class="highlight highlight-vim"><pre><span class="k">let</span> <span class="k">g</span>:lightline <span class="p">=</span> {
      \ <span class="s1">'colorscheme'</span>: <span class="s1">'wombat'</span><span class="p">,</span>
      \ <span class="s1">'component'</span>: {
      \   <span class="s1">'readonly'</span>: <span class="s1">'%{&amp;readonly?"⭤":""}'</span><span class="p">,</span>
      \ }<span class="p">,</span>
      \ <span class="s1">'separator'</span>: { <span class="s1">'left'</span>: <span class="s1">'⮀'</span><span class="p">,</span> <span class="s1">'right'</span>: <span class="s1">'⮂'</span> }<span class="p">,</span>
      \ <span class="s1">'subseparator'</span>: { <span class="s1">'left'</span>: <span class="s1">'⮁'</span><span class="p">,</span> <span class="s1">'right'</span>: <span class="s1">'⮃'</span> }
      \ }
</pre></div>

<p><a href="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/tutorial/5.png" target="_blank"><img src="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/tutorial/5.png" alt="lightline.vim - tutorial" style="max-width:100%;"></a></p>

<p>Hurrah! Cool!</p>

<p>If your statusline looks like:
<a href="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/tutorial/16.png" target="_blank"><img src="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/tutorial/16.png" alt="lightline.vim - tutorial" style="max-width:100%;"></a></p>

<p>the patched font is not installed.</p>

<p>There are two kinds of patched fonts:</p>

<ul class="task-list">
<li>The patched fonts for <a href="https://github.com/Lokaltog/vim-powerline">vim-powerline</a>: see <a href="https://github.com/Lokaltog/vim-powerline/tree/develop/fontpatcher">https://github.com/Lokaltog/vim-powerline/tree/develop/fontpatcher</a>
</li>
<li>The patched fonts for <a href="https://github.com/Lokaltog/powerline">powerline</a>: see <a href="https://github.com/Lokaltog/powerline-fonts">https://github.com/Lokaltog/powerline-fonts</a>
</li>
</ul><p>Create or download a font and install it.
And add the <code>guifont</code> setting to your <code>.vimrc</code> (see <code>:help 'guifont'</code> for more detail).
If you are using the vim in a terminal, the font cannot be controlled in <code>.vimrc</code>.
Open the setting of the terminal and select the patched font.</p>

<p>This tutorial is based on the former, the font for vim-powerline (Inconsolata for Powerline).
If you have installed the patched font for powerline, use the following settings instead.</p>

<div class="highlight highlight-vim"><pre><span class="k">let</span> <span class="k">g</span>:lightline <span class="p">=</span> {
      \ <span class="s1">'colorscheme'</span>: <span class="s1">'wombat'</span><span class="p">,</span>
      \ <span class="s1">'component'</span>: {
      \   <span class="s1">'readonly'</span>: <span class="s1">'%{&amp;readonly?"":""}'</span><span class="p">,</span>
      \ }<span class="p">,</span>
      \ <span class="s1">'separator'</span>: { <span class="s1">'left'</span>: <span class="s1">''</span><span class="p">,</span> <span class="s1">'right'</span>: <span class="s1">''</span> }<span class="p">,</span>
      \ <span class="s1">'subseparator'</span>: { <span class="s1">'left'</span>: <span class="s1">''</span><span class="p">,</span> <span class="s1">'right'</span>: <span class="s1">''</span> }
      \ }
</pre></div>

<p><a href="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/tutorial/19.png" target="_blank"><img src="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/tutorial/19.png" alt="lightline.vim - tutorial" style="max-width:100%;"></a></p>

<p>If you have installed the font for powerline and your statusline looks like
<a href="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/tutorial/18.png" target="_blank"><img src="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/tutorial/18.png" alt="lightline.vim - tutorial" style="max-width:100%;"></a></p>

<p>remove</p>

<div class="highlight highlight-vim"><pre><span class="k">set</span> <span class="nb">ambiwidth</span><span class="p">=</span>double
</pre></div>

<p>from your <code>.vimrc</code>. If you want to keep this setting, use the patched font for vim-powerline.</p>

<ul class="task-list">
<li><a href="https://github.com/Lokaltog/vim-powerline/tree/develop/fontpatcher">https://github.com/Lokaltog/vim-powerline/tree/develop/fontpatcher</a></li>
</ul><p>If you will not install a patched font, use ascii characters like:</p>

<div class="highlight highlight-vim"><pre><span class="k">let</span> <span class="k">g</span>:lightline <span class="p">=</span> {
      \ <span class="s1">'colorscheme'</span>: <span class="s1">'wombat'</span><span class="p">,</span>
      \ <span class="s1">'component'</span>: {
      \   <span class="s1">'readonly'</span>: <span class="s1">'%{&amp;readonly?"x":""}'</span><span class="p">,</span>
      \ }<span class="p">,</span>
      \ <span class="s1">'separator'</span>: { <span class="s1">'left'</span>: <span class="s1">''</span><span class="p">,</span> <span class="s1">'right'</span>: <span class="s1">''</span> }<span class="p">,</span>
      \ <span class="s1">'subseparator'</span>: { <span class="s1">'left'</span>: <span class="s1">'|'</span><span class="p">,</span> <span class="s1">'right'</span>: <span class="s1">'|'</span> }
      \ }
</pre></div>

<p><a href="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/tutorial/17.png" target="_blank"><img src="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/tutorial/17.png" alt="lightline.vim - tutorial" style="max-width:100%;"></a></p>

<p>If the triangles do not appear (but you get some spaces or weird characters like &lt;bf&gt; or ¿), firstly try adding</p>

<div class="highlight highlight-vim"><pre><span class="k">scriptencoding</span> utf<span class="m">-8</span>
<span class="k">set</span> <span class="nb">encoding</span><span class="p">=</span>utf<span class="m">-8</span>
</pre></div>

<p>to the head of your <code>.vimrc</code>.
Still you have weird characters, use the unicode numbers. For powerline font
users:</p>

<div class="highlight highlight-vim"><pre>      \ <span class="s1">'separator'</span>: { <span class="s1">'left'</span>: <span class="s2">"\ue0b0"</span><span class="p">,</span> <span class="s1">'right'</span>: <span class="s2">"\ue0b2"</span> }<span class="p">,</span>
      \ <span class="s1">'subseparator'</span>: { <span class="s1">'left'</span>: <span class="s2">"\ue0b1"</span><span class="p">,</span> <span class="s1">'right'</span>: <span class="s2">"\ue0b3"</span> }
</pre></div>

<p>For vim-powerline font users:</p>

<div class="highlight highlight-vim"><pre>      \ <span class="s1">'separator'</span>: { <span class="s1">'left'</span>: <span class="s2">"\u2b80"</span><span class="p">,</span> <span class="s1">'right'</span>: <span class="s2">"\u2b82"</span> }<span class="p">,</span>
      \ <span class="s1">'subseparator'</span>: { <span class="s1">'left'</span>: <span class="s2">"\u2b81"</span><span class="p">,</span> <span class="s1">'right'</span>: <span class="s2">"\u2b83"</span> }
</pre></div>

<p>Almost all of things go well with the patched font but if the triangle looks weird:
<a href="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/tutorial/22.png" target="_blank"><img src="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/tutorial/22.png" alt="lightline.vim - tutorial" style="max-width:100%;"></a></p>

<p>If you are using iTerm2, change the following settings of iTerm2:</p>

<ul class="task-list">
<li>set <code>Profiles&gt;Colors&gt;Minimum contrast</code> to the Lowest.</li>
<li>set <code>Profiles&gt;Window&gt;Transparency</code> to the Opaquest.</li>
</ul><p>For other terminals, this weird-triangle problem will be resolved by disabling transparency or contrast adjustment.</p>

<p>If you want to get rid of the extraneous default vim mode information that is now provided by lightline:
<a href="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/showmode.png" target="_blank"><img src="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/showmode.png" alt="lightline.vim - showmode" style="max-width:100%;"></a></p>

<div class="highlight highlight-vim"><pre><span class="k">set</span> <span class="nb">noshowmode</span>
</pre></div>

<p>Now, let us get back to the tutorial (with the patched font for vim-powerline).
You look into a help file to find the marks annoying.
<a href="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/tutorial/6.png" target="_blank"><img src="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/tutorial/6.png" alt="lightline.vim - tutorial" style="max-width:100%;"></a></p>

<p>Help files are read-only and no-modifiable? We know that!
OK, so you again edit the components.</p>

<div class="highlight highlight-vim"><pre><span class="k">let</span> <span class="k">g</span>:lightline <span class="p">=</span> {
      \ <span class="s1">'colorscheme'</span>: <span class="s1">'wombat'</span><span class="p">,</span>
      \ <span class="s1">'component'</span>: {
      \   <span class="s1">'readonly'</span>: <span class="s1">'%{&amp;filetype=="help"?"":&amp;readonly?"⭤":""}'</span><span class="p">,</span>
      \   <span class="s1">'modified'</span>: <span class="s1">'%{&amp;filetype=="help"?"":&amp;modified?"+":&amp;modifiable?"":"-"}'</span>
      \ }<span class="p">,</span>
      \ <span class="s1">'separator'</span>: { <span class="s1">'left'</span>: <span class="s1">'⮀'</span><span class="p">,</span> <span class="s1">'right'</span>: <span class="s1">'⮂'</span> }<span class="p">,</span>
      \ <span class="s1">'subseparator'</span>: { <span class="s1">'left'</span>: <span class="s1">'⮁'</span><span class="p">,</span> <span class="s1">'right'</span>: <span class="s1">'⮃'</span> }
      \ }
</pre></div>

<p><a href="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/tutorial/7.png" target="_blank"><img src="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/tutorial/7.png" alt="lightline.vim - tutorial" style="max-width:100%;"></a></p>

<p>Huh? Weird!
The components do not collapse even if they have no information!
In order to avoid this situation, you set expressions to <code>g:lightline.component_visible_condition</code>, which should become 1 only when the corresponding components have information.</p>

<div class="highlight highlight-vim"><pre><span class="k">let</span> <span class="k">g</span>:lightline <span class="p">=</span> {
      \ <span class="s1">'colorscheme'</span>: <span class="s1">'wombat'</span><span class="p">,</span>
      \ <span class="s1">'component'</span>: {
      \   <span class="s1">'readonly'</span>: <span class="s1">'%{&amp;filetype=="help"?"":&amp;readonly?"⭤":""}'</span><span class="p">,</span>
      \   <span class="s1">'modified'</span>: <span class="s1">'%{&amp;filetype=="help"?"":&amp;modified?"+":&amp;modifiable?"":"-"}'</span>
      \ }<span class="p">,</span>
      \ <span class="s1">'component_visible_condition'</span>: {
      \   <span class="s1">'readonly'</span>: <span class="s1">'(&amp;filetype!="help"&amp;&amp; &amp;readonly)'</span><span class="p">,</span>
      \   <span class="s1">'modified'</span>: <span class="s1">'(&amp;filetype!="help"&amp;&amp;(&amp;modified||!&amp;modifiable))'</span>
      \ }<span class="p">,</span>
      \ <span class="s1">'separator'</span>: { <span class="s1">'left'</span>: <span class="s1">'⮀'</span><span class="p">,</span> <span class="s1">'right'</span>: <span class="s1">'⮂'</span> }<span class="p">,</span>
      \ <span class="s1">'subseparator'</span>: { <span class="s1">'left'</span>: <span class="s1">'⮁'</span><span class="p">,</span> <span class="s1">'right'</span>: <span class="s1">'⮃'</span> }
      \ }
</pre></div>

<p><a href="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/tutorial/8.png" target="_blank"><img src="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/tutorial/8.png" alt="lightline.vim - tutorial" style="max-width:100%;"></a></p>

<p>Okay. It works nice.</p>

<p>How does lightline decide the components to show in the statusline?
It's very simple.
The variables to select components are <code>g:lightline.active.left</code> and <code>g:lightline.active.right</code>.
For example, you add the <code>g:lightline.active.left</code> in <code>.vimrc</code>.</p>

<div class="highlight highlight-vim"><pre><span class="k">let</span> <span class="k">g</span>:lightline <span class="p">=</span> {
      \ <span class="s1">'colorscheme'</span>: <span class="s1">'wombat'</span><span class="p">,</span>
      \ <span class="s1">'active'</span>: {
      \   <span class="s1">'left'</span>: [ [ <span class="s1">'mode'</span><span class="p">,</span> <span class="s1">'paste'</span> ]<span class="p">,</span>
      \             [ <span class="s1">'readonly'</span><span class="p">,</span> <span class="s1">'filename'</span><span class="p">,</span> <span class="s1">'modified'</span> ] ]
      \ }<span class="p">,</span>
      \ <span class="s1">'component'</span>: {
      \   <span class="s1">'readonly'</span>: <span class="s1">'%{&amp;filetype=="help"?"":&amp;readonly?"⭤":""}'</span><span class="p">,</span>
      \   <span class="s1">'modified'</span>: <span class="s1">'%{&amp;filetype=="help"?"":&amp;modified?"+":&amp;modifiable?"":"-"}'</span>
      \ }<span class="p">,</span>
      \ <span class="s1">'component_visible_condition'</span>: {
      \   <span class="s1">'readonly'</span>: <span class="s1">'(&amp;filetype!="help"&amp;&amp; &amp;readonly)'</span><span class="p">,</span>
      \   <span class="s1">'modified'</span>: <span class="s1">'(&amp;filetype!="help"&amp;&amp;(&amp;modified||!&amp;modifiable))'</span>
      \ }<span class="p">,</span>
      \ <span class="s1">'separator'</span>: { <span class="s1">'left'</span>: <span class="s1">'⮀'</span><span class="p">,</span> <span class="s1">'right'</span>: <span class="s1">'⮂'</span> }<span class="p">,</span>
      \ <span class="s1">'subseparator'</span>: { <span class="s1">'left'</span>: <span class="s1">'⮁'</span><span class="p">,</span> <span class="s1">'right'</span>: <span class="s1">'⮃'</span> }
      \ }
</pre></div>

<p>If the plugin arranges all the components (in a situation you <code>set paste</code> and the file <code>.vimrc</code> is read-only, try to modify):
<a href="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/tutorial/9.png" target="_blank"><img src="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/tutorial/9.png" alt="lightline.vim - tutorial" style="max-width:100%;"></a></p>

<p>The mode component, the paste component, read-only component, filename component and modified component in a row.
Normally, the paste component does not show up.
<a href="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/tutorial/10.png" target="_blank"><img src="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/tutorial/10.png" alt="lightline.vim - tutorial" style="max-width:100%;"></a></p>

<p>If the file is not read-only (more common cases), the read-only component does not show up.
<a href="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/tutorial/11.png" target="_blank"><img src="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/tutorial/11.png" alt="lightline.vim - tutorial" style="max-width:100%;"></a></p>

<p>Again look into <code>g:lightline.active.left</code>.</p>

<div class="highlight highlight-vim"><pre><span class="k">let</span> <span class="k">g</span>:lightline <span class="p">=</span> {
      \ <span class="s1">'active'</span>: {
      \   <span class="s1">'left'</span>: [ [ <span class="s1">'mode'</span><span class="p">,</span> <span class="s1">'paste'</span> ]<span class="p">,</span>
      \             [ <span class="s1">'readonly'</span><span class="p">,</span> <span class="s1">'filename'</span><span class="p">,</span> <span class="s1">'modified'</span> ] ] ...
</pre></div>

<p>And the screen shot of all the components.
<a href="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/tutorial/9.png" target="_blank"><img src="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/tutorial/9.png" alt="lightline.vim - tutorial" style="max-width:100%;"></a></p>

<p>The mode and paste component are displayed in the same group.
The read-only, filename and modified component are in the second group.
It corresponds to the structure of <code>g:lightline.active.left</code>.
You can configure the components in the statusline by the following four variables:</p>

<ul class="task-list">
<li><code>g:lightline.active.left</code></li>
<li><code>g:lightline.active.right</code></li>
<li><code>g:lightline.inactive.left</code></li>
<li><code>g:lightline.inactive.right</code></li>
</ul><p>Of course, your settings in <code>.vimrc</code> have priority over the default settings in lightline.</p>

<p>GitHub branch is important for us.
And it is a default component in <a href="https://github.com/Lokaltog/powerline">powerline</a> and <a href="https://github.com/Lokaltog/vim-powerline">vim-powerline</a>.
However, lightline does not provide the branch feature by default.</p>

<p>In order to show the branch in the statusline, you firstly install the <a href="https://github.com/tpope/vim-fugitive">vim-fugitive</a> plugin.
Then edit the <code>g:lightline</code> in your <code>.vimrc</code>.</p>

<ul class="task-list">
<li>Add your fugitive component to <code>g:lightline.component</code>.</li>
<li>Add the condition when the fugitive component has information to <code>g:lightline.component_visible_condition</code>.</li>
<li>Add the component by inserting <code>'fugitive'</code> to <code>g:lightline.active.left</code>.</li>
</ul><div class="highlight highlight-vim"><pre><span class="k">let</span> <span class="k">g</span>:lightline <span class="p">=</span> {
      \ <span class="s1">'colorscheme'</span>: <span class="s1">'wombat'</span><span class="p">,</span>
      \ <span class="s1">'active'</span>: {
      \   <span class="s1">'left'</span>: [ [ <span class="s1">'mode'</span><span class="p">,</span> <span class="s1">'paste'</span> ]<span class="p">,</span>
      \             [ <span class="s1">'fugitive'</span><span class="p">,</span> <span class="s1">'readonly'</span><span class="p">,</span> <span class="s1">'filename'</span><span class="p">,</span> <span class="s1">'modified'</span> ] ]
      \ }<span class="p">,</span>
      \ <span class="s1">'component'</span>: {
      \   <span class="s1">'readonly'</span>: <span class="s1">'%{&amp;filetype=="help"?"":&amp;readonly?"⭤":""}'</span><span class="p">,</span>
      \   <span class="s1">'modified'</span>: <span class="s1">'%{&amp;filetype=="help"?"":&amp;modified?"+":&amp;modifiable?"":"-"}'</span><span class="p">,</span>
      \   <span class="s1">'fugitive'</span>: <span class="s1">'%{exists("*fugitive#head")?fugitive#head():""}'</span>
      \ }<span class="p">,</span>
      \ <span class="s1">'component_visible_condition'</span>: {
      \   <span class="s1">'readonly'</span>: <span class="s1">'(&amp;filetype!="help"&amp;&amp; &amp;readonly)'</span><span class="p">,</span>
      \   <span class="s1">'modified'</span>: <span class="s1">'(&amp;filetype!="help"&amp;&amp;(&amp;modified||!&amp;modifiable))'</span><span class="p">,</span>
      \   <span class="s1">'fugitive'</span>: <span class="s1">'(exists("*fugitive#head") &amp;&amp; ""!=fugitive#head())'</span>
      \ }<span class="p">,</span>
      \ <span class="s1">'separator'</span>: { <span class="s1">'left'</span>: <span class="s1">'⮀'</span><span class="p">,</span> <span class="s1">'right'</span>: <span class="s1">'⮂'</span> }<span class="p">,</span>
      \ <span class="s1">'subseparator'</span>: { <span class="s1">'left'</span>: <span class="s1">'⮁'</span><span class="p">,</span> <span class="s1">'right'</span>: <span class="s1">'⮃'</span> }
      \ }
</pre></div>

<p><a href="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/tutorial/12.png" target="_blank"><img src="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/tutorial/12.png" alt="lightline.vim - tutorial" style="max-width:100%;"></a></p>

<p>Okay, the branch component is added!</p>

<p>Now, you might get tired of setting both <code>'component'</code> and <code>'component_visible_condition'</code>.
Or if you want to do something more complicated?</p>

<p>In fact, the components can be created using functions.
Add your function names for components to <code>g:lightline.component_function</code>.</p>

<div class="highlight highlight-vim"><pre><span class="k">let</span> <span class="k">g</span>:lightline <span class="p">=</span> {
      \ <span class="s1">'colorscheme'</span>: <span class="s1">'wombat'</span><span class="p">,</span>
      \ <span class="s1">'active'</span>: {
      \   <span class="s1">'left'</span>: [ [ <span class="s1">'mode'</span><span class="p">,</span> <span class="s1">'paste'</span> ]<span class="p">,</span>
      \             [ <span class="s1">'fugitive'</span><span class="p">,</span> <span class="s1">'readonly'</span><span class="p">,</span> <span class="s1">'filename'</span><span class="p">,</span> <span class="s1">'modified'</span> ] ]
      \ }<span class="p">,</span>
      \ <span class="s1">'component_function'</span>: {
      \   <span class="s1">'fugitive'</span>: <span class="s1">'MyFugitive'</span><span class="p">,</span>
      \   <span class="s1">'readonly'</span>: <span class="s1">'MyReadonly'</span><span class="p">,</span>
      \   <span class="s1">'modified'</span>: <span class="s1">'MyModified'</span>
      \ }<span class="p">,</span>
      \ <span class="s1">'separator'</span>: { <span class="s1">'left'</span>: <span class="s1">'⮀'</span><span class="p">,</span> <span class="s1">'right'</span>: <span class="s1">'⮂'</span> }<span class="p">,</span>
      \ <span class="s1">'subseparator'</span>: { <span class="s1">'left'</span>: <span class="s1">'⮁'</span><span class="p">,</span> <span class="s1">'right'</span>: <span class="s1">'⮃'</span> }
      \ }

<span class="k">function</span><span class="p">!</span> MyModified<span class="p">()</span>
  <span class="k">if</span> &amp;<span class="k">filetype</span> <span class="p">==</span> <span class="s2">"help"</span>
    <span class="k">return</span> <span class="s2">""</span>
  <span class="k">elseif</span> &amp;<span class="nb">modified</span>
    <span class="k">return</span> <span class="s2">"+"</span>
  <span class="k">elseif</span> &amp;<span class="nb">modifiable</span>
    <span class="k">return</span> <span class="s2">""</span>
  <span class="k">else</span>
    <span class="k">return</span> <span class="s2">""</span>
  <span class="k">endif</span>
<span class="k">endfunction</span>

<span class="k">function</span><span class="p">!</span> MyReadonly<span class="p">()</span>
  <span class="k">if</span> &amp;<span class="k">filetype</span> <span class="p">==</span> <span class="s2">"help"</span>
    <span class="k">return</span> <span class="s2">""</span>
  <span class="k">elseif</span> &amp;<span class="nb">readonly</span>
    <span class="k">return</span> <span class="s2">"⭤"</span>
  <span class="k">else</span>
    <span class="k">return</span> <span class="s2">""</span>
  <span class="k">endif</span>
<span class="k">endfunction</span>

<span class="k">function</span><span class="p">!</span> MyFugitive<span class="p">()</span>
  <span class="k">return</span> exists<span class="p">(</span><span class="s1">'*fugitive#head'</span><span class="p">)</span> ? fugitive#head<span class="p">()</span> : <span class="s1">''</span>
<span class="k">endfunction</span>
</pre></div>

<p><a href="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/tutorial/13.png" target="_blank"><img src="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/tutorial/13.png" alt="lightline.vim - tutorial" style="max-width:100%;"></a></p>

<p>Fine and readable! </p>

<p>Finally, you come up with concatenating the three components: the read-only mark, the filename and the modified mark.
Now you may know what to do.</p>

<div class="highlight highlight-vim"><pre><span class="k">let</span> <span class="k">g</span>:lightline <span class="p">=</span> {
      \ <span class="s1">'colorscheme'</span>: <span class="s1">'wombat'</span><span class="p">,</span>
      \ <span class="s1">'active'</span>: {
      \   <span class="s1">'left'</span>: [ [ <span class="s1">'mode'</span><span class="p">,</span> <span class="s1">'paste'</span> ]<span class="p">,</span>
      \             [ <span class="s1">'fugitive'</span><span class="p">,</span> <span class="s1">'filename'</span> ] ]
      \ }<span class="p">,</span>
      \ <span class="s1">'component_function'</span>: {
      \   <span class="s1">'fugitive'</span>: <span class="s1">'MyFugitive'</span><span class="p">,</span>
      \   <span class="s1">'readonly'</span>: <span class="s1">'MyReadonly'</span><span class="p">,</span>
      \   <span class="s1">'modified'</span>: <span class="s1">'MyModified'</span><span class="p">,</span>
      \   <span class="s1">'filename'</span>: <span class="s1">'MyFilename'</span>
      \ }<span class="p">,</span>
      \ <span class="s1">'separator'</span>: { <span class="s1">'left'</span>: <span class="s1">'⮀'</span><span class="p">,</span> <span class="s1">'right'</span>: <span class="s1">'⮂'</span> }<span class="p">,</span>
      \ <span class="s1">'subseparator'</span>: { <span class="s1">'left'</span>: <span class="s1">'⮁'</span><span class="p">,</span> <span class="s1">'right'</span>: <span class="s1">'⮃'</span> }
      \ }

<span class="k">function</span><span class="p">!</span> MyModified<span class="p">()</span>
  <span class="k">if</span> &amp;<span class="k">filetype</span> <span class="p">==</span> <span class="s2">"help"</span>
    <span class="k">return</span> <span class="s2">""</span>
  <span class="k">elseif</span> &amp;<span class="nb">modified</span>
    <span class="k">return</span> <span class="s2">"+"</span>
  <span class="k">elseif</span> &amp;<span class="nb">modifiable</span>
    <span class="k">return</span> <span class="s2">""</span>
  <span class="k">else</span>
    <span class="k">return</span> <span class="s2">""</span>
  <span class="k">endif</span>
<span class="k">endfunction</span>

<span class="k">function</span><span class="p">!</span> MyReadonly<span class="p">()</span>
  <span class="k">if</span> &amp;<span class="k">filetype</span> <span class="p">==</span> <span class="s2">"help"</span>
    <span class="k">return</span> <span class="s2">""</span>
  <span class="k">elseif</span> &amp;<span class="nb">readonly</span>
    <span class="k">return</span> <span class="s2">"⭤"</span>
  <span class="k">else</span>
    <span class="k">return</span> <span class="s2">""</span>
  <span class="k">endif</span>
<span class="k">endfunction</span>

<span class="k">function</span><span class="p">!</span> MyFugitive<span class="p">()</span>
  <span class="k">return</span> exists<span class="p">(</span><span class="s1">'*fugitive#head'</span><span class="p">)</span> ? fugitive#head<span class="p">()</span> : <span class="s1">''</span>
<span class="k">endfunction</span>

<span class="k">function</span><span class="p">!</span> MyFilename<span class="p">()</span>
  <span class="k">return</span> <span class="p">(</span><span class="s1">''</span> <span class="p">!=</span> MyReadonly<span class="p">()</span> ? MyReadonly<span class="p">()</span> . <span class="s1">' '</span> : <span class="s1">''</span><span class="p">)</span> .
       \ <span class="p">(</span><span class="s1">''</span> <span class="p">!=</span> expand<span class="p">(</span><span class="s1">'%:t'</span><span class="p">)</span> ? expand<span class="p">(</span><span class="s1">'%:t'</span><span class="p">)</span> : <span class="s1">'[No Name]'</span><span class="p">)</span> .
       \ <span class="p">(</span><span class="s1">''</span> <span class="p">!=</span> MyModified<span class="p">()</span> ? <span class="s1">' '</span> . MyModified<span class="p">()</span> : <span class="s1">''</span><span class="p">)</span>
<span class="k">endfunction</span>
</pre></div>

<p><a href="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/tutorial/14.png" target="_blank"><img src="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/tutorial/14.png" alt="lightline.vim - tutorial" style="max-width:100%;"></a></p>

<p>Oops! We forgot the cool mark for the branch component! (work with the patched font for vim-powerline)</p>

<div class="highlight highlight-vim"><pre><span class="k">function</span><span class="p">!</span> MyFugitive<span class="p">()</span>
  <span class="k">if</span> exists<span class="p">(</span><span class="s2">"*fugitive#head"</span><span class="p">)</span>
    <span class="k">let</span> _ <span class="p">=</span> fugitive#head<span class="p">()</span>
    <span class="k">return</span> strlen<span class="p">(</span>_<span class="p">)</span> ? <span class="s1">'⭠ '</span>._ : <span class="s1">''</span>
  <span class="k">endif</span>
  <span class="k">return</span> <span class="s1">''</span>
<span class="k">endfunction</span>
</pre></div>

<p><a href="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/tutorial/15.png" target="_blank"><img src="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/tutorial/15.png" alt="lightline.vim - tutorial" style="max-width:100%;"></a></p>

<p>How cool!!!</p>

<p>Of course, you can name your component as you wish.</p>

<div class="highlight highlight-vim"><pre><span class="k">let</span> <span class="k">g</span>:lightline <span class="p">=</span> {
    \ <span class="s1">'active'</span>: {
    \   <span class="s1">'left'</span>: [ [ <span class="s1">'mode'</span><span class="p">,</span> <span class="s1">'paste'</span> ]<span class="p">,</span>
    \             [ <span class="s1">'my_component'</span> ] ] }<span class="p">,</span>
    \ <span class="s1">'component_function'</span>: {
    \   <span class="s1">'my_component'</span>: <span class="s1">'MyComponent'</span><span class="p">,</span> ...
</pre></div>

<p>This is the end of the tutorial. For more information, see <code>:help lightline</code>. Good luck with your nice statuslines.</p>

<h3>
<a name="user-content-my-settings" class="anchor" href="#my-settings" aria-hidden="true"><span class="octicon octicon-link"></span></a>My settings</h3>

<p>I show my settings. I use the patched font for vim-powerline.</p>

<div class="highlight highlight-vim"><pre><span class="k">let</span> <span class="k">g</span>:lightline <span class="p">=</span> {
      \ <span class="s1">'colorscheme'</span>: <span class="s1">'landscape'</span><span class="p">,</span>
      \ <span class="s1">'mode_map'</span>: { <span class="s1">'c'</span>: <span class="s1">'NORMAL'</span> }<span class="p">,</span>
      \ <span class="s1">'active'</span>: {
      \   <span class="s1">'left'</span>: [ [ <span class="s1">'mode'</span><span class="p">,</span> <span class="s1">'paste'</span> ]<span class="p">,</span> [ <span class="s1">'fugitive'</span><span class="p">,</span> <span class="s1">'filename'</span> ] ]
      \ }<span class="p">,</span>
      \ <span class="s1">'component_function'</span>: {
      \   <span class="s1">'modified'</span>: <span class="s1">'MyModified'</span><span class="p">,</span>
      \   <span class="s1">'readonly'</span>: <span class="s1">'MyReadonly'</span><span class="p">,</span>
      \   <span class="s1">'fugitive'</span>: <span class="s1">'MyFugitive'</span><span class="p">,</span>
      \   <span class="s1">'filename'</span>: <span class="s1">'MyFilename'</span><span class="p">,</span>
      \   <span class="s1">'fileformat'</span>: <span class="s1">'MyFileformat'</span><span class="p">,</span>
      \   <span class="s1">'filetype'</span>: <span class="s1">'MyFiletype'</span><span class="p">,</span>
      \   <span class="s1">'fileencoding'</span>: <span class="s1">'MyFileencoding'</span><span class="p">,</span>
      \   <span class="s1">'mode'</span>: <span class="s1">'MyMode'</span><span class="p">,</span>
      \ }<span class="p">,</span>
      \ <span class="s1">'separator'</span>: { <span class="s1">'left'</span>: <span class="s1">'⮀'</span><span class="p">,</span> <span class="s1">'right'</span>: <span class="s1">'⮂'</span> }<span class="p">,</span>
      \ <span class="s1">'subseparator'</span>: { <span class="s1">'left'</span>: <span class="s1">'⮁'</span><span class="p">,</span> <span class="s1">'right'</span>: <span class="s1">'⮃'</span> }
      \ }

<span class="k">function</span><span class="p">!</span> MyModified<span class="p">()</span>
  <span class="k">return</span> &amp;<span class="nb">ft</span> <span class="p">=~</span> <span class="s1">'help\|vimfiler\|gundo'</span> ? <span class="s1">''</span> : &amp;<span class="nb">modified</span> ? <span class="s1">'+'</span> : &amp;<span class="nb">modifiable</span> ? <span class="s1">''</span> : <span class="s1">'-'</span>
<span class="k">endfunction</span>

<span class="k">function</span><span class="p">!</span> MyReadonly<span class="p">()</span>
  <span class="k">return</span> &amp;<span class="nb">ft</span> <span class="p">!~</span>? <span class="s1">'help\|vimfiler\|gundo'</span> &amp;&amp; &amp;<span class="nb">readonly</span> ? <span class="s1">'⭤'</span> : <span class="s1">''</span>
<span class="k">endfunction</span>

<span class="k">function</span><span class="p">!</span> MyFilename<span class="p">()</span>
  <span class="k">return</span> <span class="p">(</span><span class="s1">''</span> <span class="p">!=</span> MyReadonly<span class="p">()</span> ? MyReadonly<span class="p">()</span> . <span class="s1">' '</span> : <span class="s1">''</span><span class="p">)</span> .
        \ <span class="p">(</span>&amp;<span class="nb">ft</span> <span class="p">==</span> <span class="s1">'vimfiler'</span> ? vimfiler#get_status_string<span class="p">()</span> : 
        \  &amp;<span class="nb">ft</span> <span class="p">==</span> <span class="s1">'unite'</span> ? unite#get_status_string<span class="p">()</span> : 
        \  &amp;<span class="nb">ft</span> <span class="p">==</span> <span class="s1">'vimshell'</span> ? vimshell#get_status_string<span class="p">()</span> :
        \ <span class="s1">''</span> <span class="p">!=</span> expand<span class="p">(</span><span class="s1">'%:t'</span><span class="p">)</span> ? expand<span class="p">(</span><span class="s1">'%:t'</span><span class="p">)</span> : <span class="s1">'[No Name]'</span><span class="p">)</span> .
        \ <span class="p">(</span><span class="s1">''</span> <span class="p">!=</span> MyModified<span class="p">()</span> ? <span class="s1">' '</span> . MyModified<span class="p">()</span> : <span class="s1">''</span><span class="p">)</span>
<span class="k">endfunction</span>

<span class="k">function</span><span class="p">!</span> MyFugitive<span class="p">()</span>
  <span class="k">if</span> &amp;<span class="nb">ft</span> <span class="p">!~</span>? <span class="s1">'vimfiler\|gundo'</span> &amp;&amp; exists<span class="p">(</span><span class="s2">"*fugitive#head"</span><span class="p">)</span>
    <span class="k">let</span> _ <span class="p">=</span> fugitive#head<span class="p">()</span>
    <span class="k">return</span> strlen<span class="p">(</span>_<span class="p">)</span> ? <span class="s1">'⭠ '</span>._ : <span class="s1">''</span>
  <span class="k">endif</span>
  <span class="k">return</span> <span class="s1">''</span>
<span class="k">endfunction</span>

<span class="k">function</span><span class="p">!</span> MyFileformat<span class="p">()</span>
  <span class="k">return</span> <span class="nb">winwidth</span><span class="p">(</span><span class="m">0</span><span class="p">)</span> <span class="p">&gt;</span> <span class="m">70</span> ? &amp;<span class="nb">fileformat</span> : <span class="s1">''</span>
<span class="k">endfunction</span>

<span class="k">function</span><span class="p">!</span> MyFiletype<span class="p">()</span>
  <span class="k">return</span> <span class="nb">winwidth</span><span class="p">(</span><span class="m">0</span><span class="p">)</span> <span class="p">&gt;</span> <span class="m">70</span> ? <span class="p">(</span>strlen<span class="p">(</span>&amp;<span class="k">filetype</span><span class="p">)</span> ? &amp;<span class="k">filetype</span> : <span class="s1">'no ft'</span><span class="p">)</span> : <span class="s1">''</span>
<span class="k">endfunction</span>

<span class="k">function</span><span class="p">!</span> MyFileencoding<span class="p">()</span>
  <span class="k">return</span> <span class="nb">winwidth</span><span class="p">(</span><span class="m">0</span><span class="p">)</span> <span class="p">&gt;</span> <span class="m">70</span> ? <span class="p">(</span>strlen<span class="p">(</span>&amp;<span class="nb">fenc</span><span class="p">)</span> ? &amp;<span class="nb">fenc</span> : &amp;<span class="nb">enc</span><span class="p">)</span> : <span class="s1">''</span>
<span class="k">endfunction</span>

<span class="k">function</span><span class="p">!</span> MyMode<span class="p">()</span>
  <span class="k">return</span> <span class="nb">winwidth</span><span class="p">(</span><span class="m">0</span><span class="p">)</span> <span class="p">&gt;</span> <span class="m">60</span> ? lightline#<span class="k">mode</span><span class="p">()</span> : <span class="s1">''</span>
<span class="k">endfunction</span>
</pre></div>

<p>When the current window width is narrow, the mode component and the file information component collapse.
For example, the <a href="https://github.com/sjl/gundo.vim">gundo</a> buffer is narrow.</p>

<p>Before:
<a href="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/gundo0.png" target="_blank"><img src="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/gundo0.png" alt="lightline.vim - gundo" style="max-width:100%;"></a></p>

<p>After:
<a href="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/gundo1.png" target="_blank"><img src="https://raw.githubusercontent.com/wiki/itchyny/lightline.vim/image/gundo1.png" alt="lightline.vim - gundo" style="max-width:100%;"></a></p>

<p>Nice looking, isn't it?</p>

<h3>
<a name="user-content-for-power-users" class="anchor" href="#for-power-users" aria-hidden="true"><span class="octicon octicon-link"></span></a>For power users</h3>

<p>For users who uses following plugins.</p>

<ul class="task-list">
<li><a href="https://github.com/kien/ctrlp.vim">CtrlP</a></li>
<li><a href="https://github.com/majutsushi/tagbar">Tagbar</a></li>
<li><a href="http://github.com/sjl/gundo.vim">Gundo</a></li>
<li><a href="http://github.com/scrooloose/nerdtree">NERDtree</a></li>
<li><a href="https://github.com/scrooloose/syntastic">Syntastic</a></li>
<li><a href="https://github.com/Shougo/unite.vim">unite.vim</a></li>
<li><a href="https://github.com/Shougo/vimfiler.vim">vimfiler.vim</a></li>
<li><a href="https://github.com/Shougo/vimshell.vim">vimshell.vim</a></li>
</ul><div class="highlight highlight-vim"><pre><span class="k">let</span> <span class="k">g</span>:lightline <span class="p">=</span> {
      \ <span class="s1">'colorscheme'</span>: <span class="s1">'wombat'</span><span class="p">,</span>
      \ <span class="s1">'active'</span>: {
      \   <span class="s1">'left'</span>: [ [ <span class="s1">'mode'</span><span class="p">,</span> <span class="s1">'paste'</span> ]<span class="p">,</span> [ <span class="s1">'fugitive'</span><span class="p">,</span> <span class="s1">'filename'</span> ]<span class="p">,</span> [<span class="s1">'ctrlpmark'</span>] ]<span class="p">,</span>
      \   <span class="s1">'right'</span>: [ [ <span class="s1">'syntastic'</span><span class="p">,</span> <span class="s1">'lineinfo'</span> ]<span class="p">,</span> [<span class="s1">'percent'</span>]<span class="p">,</span> [ <span class="s1">'fileformat'</span><span class="p">,</span> <span class="s1">'fileencoding'</span><span class="p">,</span> <span class="s1">'filetype'</span> ] ]
      \ }<span class="p">,</span>
      \ <span class="s1">'component_function'</span>: {
      \   <span class="s1">'fugitive'</span>: <span class="s1">'MyFugitive'</span><span class="p">,</span>
      \   <span class="s1">'filename'</span>: <span class="s1">'MyFilename'</span><span class="p">,</span>
      \   <span class="s1">'fileformat'</span>: <span class="s1">'MyFileformat'</span><span class="p">,</span>
      \   <span class="s1">'filetype'</span>: <span class="s1">'MyFiletype'</span><span class="p">,</span>
      \   <span class="s1">'fileencoding'</span>: <span class="s1">'MyFileencoding'</span><span class="p">,</span>
      \   <span class="s1">'mode'</span>: <span class="s1">'MyMode'</span><span class="p">,</span>
      \   <span class="s1">'ctrlpmark'</span>: <span class="s1">'CtrlPMark'</span><span class="p">,</span>
      \ }<span class="p">,</span>
      \ <span class="s1">'component_expand'</span>: {
      \   <span class="s1">'syntastic'</span>: <span class="s1">'SyntasticStatuslineFlag'</span><span class="p">,</span>
      \ }<span class="p">,</span>
      \ <span class="s1">'component_type'</span>: {
      \   <span class="s1">'syntastic'</span>: <span class="s1">'error'</span><span class="p">,</span>
      \ }<span class="p">,</span>
      \ <span class="s1">'subseparator'</span>: { <span class="s1">'left'</span>: <span class="s1">'|'</span><span class="p">,</span> <span class="s1">'right'</span>: <span class="s1">'|'</span> }
      \ }

<span class="k">function</span><span class="p">!</span> MyModified<span class="p">()</span>
  <span class="k">return</span> &amp;<span class="nb">ft</span> <span class="p">=~</span> <span class="s1">'help'</span> ? <span class="s1">''</span> : &amp;<span class="nb">modified</span> ? <span class="s1">'+'</span> : &amp;<span class="nb">modifiable</span> ? <span class="s1">''</span> : <span class="s1">'-'</span>
<span class="k">endfunction</span>

<span class="k">function</span><span class="p">!</span> MyReadonly<span class="p">()</span>
  <span class="k">return</span> &amp;<span class="nb">ft</span> <span class="p">!~</span>? <span class="s1">'help'</span> &amp;&amp; &amp;<span class="nb">readonly</span> ? <span class="s1">'RO'</span> : <span class="s1">''</span>
<span class="k">endfunction</span>

<span class="k">function</span><span class="p">!</span> MyFilename<span class="p">()</span>
  <span class="k">let</span> fname <span class="p">=</span> expand<span class="p">(</span><span class="s1">'%:t'</span><span class="p">)</span>
  <span class="k">return</span> fname <span class="p">==</span> <span class="s1">'ControlP'</span> ? <span class="k">g</span>:lightline.ctrlp_item :
        \ fname <span class="p">==</span> <span class="s1">'__Tagbar__'</span> ? <span class="k">g</span>:lightline.fname :
        \ fname <span class="p">=~</span> <span class="s1">'__Gundo\|NERD_tree'</span> ? <span class="s1">''</span> :
        \ &amp;<span class="nb">ft</span> <span class="p">==</span> <span class="s1">'vimfiler'</span> ? vimfiler#get_status_string<span class="p">()</span> :
        \ &amp;<span class="nb">ft</span> <span class="p">==</span> <span class="s1">'unite'</span> ? unite#get_status_string<span class="p">()</span> :
        \ &amp;<span class="nb">ft</span> <span class="p">==</span> <span class="s1">'vimshell'</span> ? vimshell#get_status_string<span class="p">()</span> :
        \ <span class="p">(</span><span class="s1">''</span> <span class="p">!=</span> MyReadonly<span class="p">()</span> ? MyReadonly<span class="p">()</span> . <span class="s1">' '</span> : <span class="s1">''</span><span class="p">)</span> .
        \ <span class="p">(</span><span class="s1">''</span> <span class="p">!=</span> fname ? fname : <span class="s1">'[No Name]'</span><span class="p">)</span> .
        \ <span class="p">(</span><span class="s1">''</span> <span class="p">!=</span> MyModified<span class="p">()</span> ? <span class="s1">' '</span> . MyModified<span class="p">()</span> : <span class="s1">''</span><span class="p">)</span>
<span class="k">endfunction</span>

<span class="k">function</span><span class="p">!</span> MyFugitive<span class="p">()</span>
  <span class="k">try</span>
    <span class="k">if</span> expand<span class="p">(</span><span class="s1">'%:t'</span><span class="p">)</span> <span class="p">!~</span>? <span class="s1">'Tagbar\|Gundo\|NERD'</span> &amp;&amp; &amp;<span class="nb">ft</span> <span class="p">!~</span>? <span class="s1">'vimfiler'</span> &amp;&amp; exists<span class="p">(</span><span class="s1">'*fugitive#head'</span><span class="p">)</span>
      <span class="k">let</span> mark <span class="p">=</span> <span class="s1">''</span>  <span class="c">" edit here for cool mark</span>
      <span class="k">let</span> _ <span class="p">=</span> fugitive#head<span class="p">()</span>
      <span class="k">return</span> strlen<span class="p">(</span>_<span class="p">)</span> ? mark._ : <span class="s1">''</span>
    <span class="k">endif</span>
  <span class="k">catch</span>
  <span class="k">endtry</span>
  <span class="k">return</span> <span class="s1">''</span>
<span class="k">endfunction</span>

<span class="k">function</span><span class="p">!</span> MyFileformat<span class="p">()</span>
  <span class="k">return</span> <span class="nb">winwidth</span><span class="p">(</span><span class="m">0</span><span class="p">)</span> <span class="p">&gt;</span> <span class="m">70</span> ? &amp;<span class="nb">fileformat</span> : <span class="s1">''</span>
<span class="k">endfunction</span>

<span class="k">function</span><span class="p">!</span> MyFiletype<span class="p">()</span>
  <span class="k">return</span> <span class="nb">winwidth</span><span class="p">(</span><span class="m">0</span><span class="p">)</span> <span class="p">&gt;</span> <span class="m">70</span> ? <span class="p">(</span>strlen<span class="p">(</span>&amp;<span class="k">filetype</span><span class="p">)</span> ? &amp;<span class="k">filetype</span> : <span class="s1">'no ft'</span><span class="p">)</span> : <span class="s1">''</span>
<span class="k">endfunction</span>

<span class="k">function</span><span class="p">!</span> MyFileencoding<span class="p">()</span>
  <span class="k">return</span> <span class="nb">winwidth</span><span class="p">(</span><span class="m">0</span><span class="p">)</span> <span class="p">&gt;</span> <span class="m">70</span> ? <span class="p">(</span>strlen<span class="p">(</span>&amp;<span class="nb">fenc</span><span class="p">)</span> ? &amp;<span class="nb">fenc</span> : &amp;<span class="nb">enc</span><span class="p">)</span> : <span class="s1">''</span>
<span class="k">endfunction</span>

<span class="k">function</span><span class="p">!</span> MyMode<span class="p">()</span>
  <span class="k">let</span> fname <span class="p">=</span> expand<span class="p">(</span><span class="s1">'%:t'</span><span class="p">)</span>
  <span class="k">return</span> fname <span class="p">==</span> <span class="s1">'__Tagbar__'</span> ? <span class="s1">'Tagbar'</span> :
        \ fname <span class="p">==</span> <span class="s1">'ControlP'</span> ? <span class="s1">'CtrlP'</span> :
        \ fname <span class="p">==</span> <span class="s1">'__Gundo__'</span> ? <span class="s1">'Gundo'</span> :
        \ fname <span class="p">==</span> <span class="s1">'__Gundo_Preview__'</span> ? <span class="s1">'Gundo Preview'</span> :
        \ fname <span class="p">=~</span> <span class="s1">'NERD_tree'</span> ? <span class="s1">'NERDTree'</span> :
        \ &amp;<span class="nb">ft</span> <span class="p">==</span> <span class="s1">'unite'</span> ? <span class="s1">'Unite'</span> :
        \ &amp;<span class="nb">ft</span> <span class="p">==</span> <span class="s1">'vimfiler'</span> ? <span class="s1">'VimFiler'</span> :
        \ &amp;<span class="nb">ft</span> <span class="p">==</span> <span class="s1">'vimshell'</span> ? <span class="s1">'VimShell'</span> :
        \ <span class="nb">winwidth</span><span class="p">(</span><span class="m">0</span><span class="p">)</span> <span class="p">&gt;</span> <span class="m">60</span> ? lightline#<span class="k">mode</span><span class="p">()</span> : <span class="s1">''</span>
<span class="k">endfunction</span>

<span class="k">function</span><span class="p">!</span> CtrlPMark<span class="p">()</span>
  <span class="k">if</span> expand<span class="p">(</span><span class="s1">'%:t'</span><span class="p">)</span> <span class="p">=~</span> <span class="s1">'ControlP'</span>
    <span class="k">call</span> lightline#link<span class="p">(</span><span class="s1">'iR'</span>[<span class="k">g</span>:lightline.ctrlp_regex]<span class="p">)</span>
    <span class="k">return</span> lightline#concatenate<span class="p">(</span>[<span class="k">g</span>:lightline.ctrlp_prev<span class="p">,</span> <span class="k">g</span>:lightline.ctrlp_item
          \ <span class="p">,</span> <span class="k">g</span>:lightline.ctrlp_next]<span class="p">,</span> <span class="m">0</span><span class="p">)</span>
  <span class="k">else</span>
    <span class="k">return</span> <span class="s1">''</span>
  <span class="k">endif</span>
<span class="k">endfunction</span>

<span class="k">let</span> <span class="k">g</span>:ctrlp_status_func <span class="p">=</span> {
  \ <span class="s1">'main'</span>: <span class="s1">'CtrlPStatusFunc_1'</span><span class="p">,</span>
  \ <span class="s1">'prog'</span>: <span class="s1">'CtrlPStatusFunc_2'</span><span class="p">,</span>
  \ }

<span class="k">function</span><span class="p">!</span> CtrlPStatusFunc_1<span class="p">(</span>focus<span class="p">,</span> byfname<span class="p">,</span> regex<span class="p">,</span> <span class="k">prev</span><span class="p">,</span> item<span class="p">,</span> next<span class="p">,</span> marked<span class="p">)</span>
  <span class="k">let</span> <span class="k">g</span>:lightline.ctrlp_regex <span class="p">=</span> <span class="k">a</span>:regex
  <span class="k">let</span> <span class="k">g</span>:lightline.ctrlp_prev <span class="p">=</span> <span class="k">a</span>:<span class="k">prev</span>
  <span class="k">let</span> <span class="k">g</span>:lightline.ctrlp_item <span class="p">=</span> <span class="k">a</span>:item
  <span class="k">let</span> <span class="k">g</span>:lightline.ctrlp_next <span class="p">=</span> <span class="k">a</span>:next
  <span class="k">return</span> lightline#<span class="nb">statusline</span><span class="p">(</span><span class="m">0</span><span class="p">)</span>
<span class="k">endfunction</span>

<span class="k">function</span><span class="p">!</span> CtrlPStatusFunc_2<span class="p">(</span>str<span class="p">)</span>
  <span class="k">return</span> lightline#<span class="nb">statusline</span><span class="p">(</span><span class="m">0</span><span class="p">)</span>
<span class="k">endfunction</span>

<span class="k">let</span> <span class="k">g</span>:tagbar_status_func <span class="p">=</span> <span class="s1">'TagbarStatusFunc'</span>

<span class="k">function</span><span class="p">!</span> TagbarStatusFunc<span class="p">(</span>current<span class="p">,</span> <span class="k">sort</span><span class="p">,</span> fname<span class="p">,</span> ...<span class="p">)</span> abort
    <span class="k">let</span> <span class="k">g</span>:lightline.fname <span class="p">=</span> <span class="k">a</span>:fname
  <span class="k">return</span> lightline#<span class="nb">statusline</span><span class="p">(</span><span class="m">0</span><span class="p">)</span>
<span class="k">endfunction</span>

augroup AutoSyntastic
  <span class="k">autocmd</span><span class="p">!</span>
  <span class="k">autocmd</span> <span class="nb">BufWritePost</span> *.<span class="k">c</span><span class="p">,</span>*.cpp <span class="k">call</span> <span class="k">s</span>:syntastic<span class="p">()</span>
augroup END
<span class="k">function</span><span class="p">!</span> <span class="k">s</span>:syntastic<span class="p">()</span>
  SyntasticCheck
  <span class="k">call</span> lightline#<span class="k">update</span><span class="p">()</span>
<span class="k">endfunction</span>

<span class="k">let</span> <span class="k">g</span>:unite_force_overwrite_statusline <span class="p">=</span> <span class="m">0</span>
<span class="k">let</span> <span class="k">g</span>:vimfiler_force_overwrite_statusline <span class="p">=</span> <span class="m">0</span>
<span class="k">let</span> <span class="k">g</span>:vimshell_force_overwrite_statusline <span class="p">=</span> <span class="m">0</span>
</pre></div>

<h3>
<a name="user-content-note-for-developers-of-other-plugins" class="anchor" href="#note-for-developers-of-other-plugins" aria-hidden="true"><span class="octicon octicon-link"></span></a>Note for developers of other plugins</h3>

<p>Appearance consistency matters.</p>

<p>The statusline is an important space for Vim users.
Overwriting the statusline forcibly in your plugin is not a good idea.
It is not hospitality, but just an annoying feature.
If your plugin has such a feature, add an option to be modest.</p>

<p>A good design is the following.
Firstly, give the users a clue to judge which buffer is the one your plugin creates.
The filename is a manner and the filetype is another.
Then, export a function which is useful to be shown in the statusline.
Lastly, for advanced users, set important information in buffer variables.
So that the users can obtain the condition of the plugin easily.</p></article></div>