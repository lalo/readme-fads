<div class="announce instapaper_body md" data-path="README.md" id="readme"><article class="markdown-body entry-content" itemprop="mainContentOfPage"><h1>
<a name="user-content-ruby-refactoring-tool-for-vim" class="anchor" href="#ruby-refactoring-tool-for-vim" aria-hidden="true"><span class="octicon octicon-link"></span></a>Ruby Refactoring Tool for Vim</h1>

<p>I love vim! It's my editor of choice when I am developing software.</p>

<p>Currently (for the last 4 years at least) I have been working mainly
with the Ruby Programming Language.</p>

<p>I have been missing a refactoring tool for a while (like the ones you
can find in IDE's) while I am developing, but I never had the nerve
to dwell into vim script to actually code my own.</p>

<p>Recently (a couple of weeks ago) Gary Bernhardt presented his vim
configuration in the Software Craftsmanship User Group UK and he
showed us the two refactoring patterns he has written in vim script.</p>

<p>Initially I just thought "cool", but it didn't really sink in until
a couple of weeks later.</p>

<p>So now I have decided to code this in vim script, but I am not sure how far
I will go with it (clone at your own risk).</p>

<p>N.B. 'Rename Local Variable', 'Rename Instance Variable' and 'ExtractMethod' require matchit.vim:</p>

<p><a href="http://relishapp.com/despo/vim-ruby-refactoring">http://www.vim.org/scripts/script.php?script_id=39</a></p>

<h2>
<a name="user-content-implemented-commandspatterns" class="anchor" href="#implemented-commandspatterns" aria-hidden="true"><span class="octicon octicon-link"></span></a>Implemented commands/patterns:</h2>

<pre><code>:RAddParameter           - Add Parameter 
:RInlineTemp             - Inline Temp
:RConvertPostConditional - Convert Post Conditional
:RExtractConstant        - Extract Constant          (visual selection)
:RExtractLet             - Extract to Let (Rspec)
:RExtractLocalVariable   - Extract Local Variable    (visual selection)
:RRenameLocalVariable    - Rename Local Variable     (visual selection/variable under the cursor, *REQUIRES matchit.vim*)
:RRenameInstanceVariable - Rename Instance Variable  (visual selection, *REQUIRES matchit.vim*)
:RExtractMethod          - Extract Method            (visual selection, *REQUIRES matchit.vim*)
</code></pre>

<h2>
<a name="user-content-default-bindings" class="anchor" href="#default-bindings" aria-hidden="true"><span class="octicon octicon-link"></span></a>Default bindings:</h2>

<pre><code>:nnoremap &lt;leader&gt;rap  :RAddParameter&lt;cr&gt;
:nnoremap &lt;leader&gt;rcpc :RConvertPostConditional&lt;cr&gt;
:nnoremap &lt;leader&gt;rel  :RExtractLet&lt;cr&gt;
:vnoremap &lt;leader&gt;rec  :RExtractConstant&lt;cr&gt;
:vnoremap &lt;leader&gt;relv :RExtractLocalVariable&lt;cr&gt;
:nnoremap &lt;leader&gt;rit  :RInlineTemp&lt;cr&gt;
:vnoremap &lt;leader&gt;rrlv :RRenameLocalVariable&lt;cr&gt;
:vnoremap &lt;leader&gt;rriv :RRenameInstanceVariable&lt;cr&gt;
:vnoremap &lt;leader&gt;rem  :RExtractMethod&lt;cr&gt;
</code></pre>

<p>Additional usage examples (thanks Justin!):
<a href="http://justinram.wordpress.com/2010/12/30/vim-ruby-refactoring-series/">http://justinram.wordpress.com/2010/12/30/vim-ruby-refactoring-series/</a></p>

<h2>
<a name="user-content-documentation" class="anchor" href="#documentation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Documentation</h2>

<p><a href="http://relishapp.com/despo/vim-ruby-refactoring">http://relishapp.com/despo/vim-ruby-refactoring</a></p>

<p>Enrique Comba Riepenhausen &amp; Paul King</p></article></div>