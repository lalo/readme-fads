<div class="announce instapaper_body md" data-path="README.md" id="readme"><article class="markdown-body entry-content" itemprop="mainContentOfPage"><h1>
<a name="user-content-avgrund" class="anchor" href="#avgrund" aria-hidden="true"><span class="octicon octicon-link"></span></a>Avgrund</h1>

<p><a href="https://koding.com/Teamwork?import=https://github.com/voronianski/jquery.avgrund.js/archive/master.zip&amp;c=git3"><img src="https://camo.githubusercontent.com/509d29a589e3e27001ed03cd4e76f90df335ce22/687474703a2f2f6c6561726e2e6b6f64696e672e636f6d2f62746e2f636c6f6e655f642e706e67" alt="Clone in Koding" data-canonical-src="http://learn.koding.com/btn/clone_d.png" style="max-width:100%;"></a></p>

<p><a href="https://bitdeli.com/free" title="Bitdeli Badge"><img src="https://camo.githubusercontent.com/e0a725237160a74f8705a9a6876c1bcfdbd150ff/68747470733a2f2f64327765637a68766c38323376302e636c6f756466726f6e742e6e65742f766f726f6e69616e736b692f6a71756572792e61766772756e642e6a732f7472656e642e706e67" alt="Bitdeli Badge" data-canonical-src="https://d2weczhvl823v0.cloudfront.net/voronianski/jquery.avgrund.js/trend.png" style="max-width:100%;"></a></p>

<p>Avgrund is a jQuery plugin for your modal boxes and popups. It uses new concept showing depth between popup and page.</p>

<p>It works in all modern browsers and gracefully degrade in those that do not support CSS transitions and transformations.</p>

<p>Tested with jQuery versions 1.4+</p>

<p>File size of minified version is <code>~1Kb</code>.</p>

<h2>
<a name="user-content-usage" class="anchor" href="#usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Usage</h2>

<p>You can simply include javascript file and init Avgrund with one line:</p>

<div class="highlight highlight-javascript"><pre><span class="nx">$</span><span class="p">(</span><span class="s1">'element'</span><span class="p">).</span><span class="nx">avgrund</span><span class="p">();</span>
</pre></div>

<p>and linking <code>avgrund.css</code> file to the project:</p>

<div class="highlight highlight-html"><pre><span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">href=</span><span class="s">"path/to/your/avgrund.css"</span><span class="nt">&gt;</span>
</pre></div>

<p>If you use <a href="https://github.com/bower/bower">bower</a> then you can simply install it as:</p>

<div class="highlight highlight-bash"><pre>bower install jquery.avgrund
</pre></div>

<h3>
<a name="user-content-using-plugin-with-browserify" class="anchor" href="#using-plugin-with-browserify" aria-hidden="true"><span class="octicon octicon-link"></span></a>Using plugin with <a href="http://browserify.org/">Browserify</a>
</h3>

<p>At first install plugin via NPM:</p>

<div class="highlight highlight-bash"><pre>npm install jquery.avgrund
npm install jquery-browserify
</pre></div>

<p>In your server-side node.js (e.g. <a href="http://expressjs.com/">express</a> app):</p>

<div class="highlight highlight-javascript"><pre><span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">require</span><span class="p">(</span><span class="s1">'browserify'</span><span class="p">)({</span>
    <span class="nx">require</span> <span class="o">:</span> <span class="p">[</span><span class="s1">'jquery-browserify'</span><span class="p">,</span> <span class="s1">'jquery.avgrund'</span><span class="p">]</span>
<span class="p">}));</span>
</pre></div>

<p>And in your browser-side you can init plugin now:</p>

<div class="highlight highlight-javascript"><pre><span class="kd">var</span> <span class="nx">$</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'jquery-browserify'</span><span class="p">);</span>
<span class="nx">require</span><span class="p">(</span><span class="s1">'jquery.avgrund'</span><span class="p">)(</span><span class="nx">$</span><span class="p">);</span>
</pre></div>

<h3>
<a name="user-content-options" class="anchor" href="#options" aria-hidden="true"><span class="octicon octicon-link"></span></a>Options</h3>

<p>You're also able to use some of the options that let you customize it as you wish:</p>

<div class="highlight highlight-javascript"><pre><span class="nx">$</span><span class="p">(</span><span class="s1">'element'</span><span class="p">).</span><span class="nx">avgrund</span><span class="p">({</span>
    <span class="nx">width</span><span class="o">:</span> <span class="mi">380</span><span class="p">,</span> <span class="c1">// max is 640px</span>
    <span class="nx">height</span><span class="o">:</span> <span class="mi">280</span><span class="p">,</span> <span class="c1">// max is 350px</span>
    <span class="nx">showClose</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span> <span class="c1">// switch to 'true' for enabling close button</span>
    <span class="nx">showCloseText</span><span class="o">:</span> <span class="s1">''</span><span class="p">,</span> <span class="c1">// type your text for close button</span>
    <span class="nx">closeByEscape</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="c1">// enables closing popup by 'Esc'..</span>
    <span class="nx">closeByDocument</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="c1">// ..and by clicking document itself</span>
    <span class="nx">holderClass</span><span class="o">:</span> <span class="s1">''</span><span class="p">,</span> <span class="c1">// lets you name custom class for popin holder..</span>
    <span class="nx">overlayClass</span><span class="o">:</span> <span class="s1">''</span><span class="p">,</span> <span class="c1">// ..and overlay block</span>
    <span class="nx">enableStackAnimation</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span> <span class="c1">// enables different type of popin's animation</span>
    <span class="nx">onBlurContainer</span><span class="o">:</span> <span class="s1">''</span><span class="p">,</span> <span class="c1">// enables blur filter for specified block</span>
    <span class="nx">openOnEvent</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="c1">// set to 'false' to init on load</span>
    <span class="nx">setEvent</span><span class="o">:</span> <span class="s1">'click'</span><span class="p">,</span> <span class="c1">// use your event like 'mouseover', 'touchmove', etc.</span>
    <span class="nx">onLoad</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">elem</span><span class="p">)</span> <span class="p">{</span> <span class="p">...</span> <span class="p">},</span> <span class="c1">// set custom call before popin is inited..</span>
    <span class="nx">onUnload</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">elem</span><span class="p">)</span> <span class="p">{</span> <span class="p">...</span> <span class="p">},</span> <span class="c1">// ..and after it was closed</span>
    <span class="nx">template</span><span class="o">:</span> <span class="s1">'Your string content goes here..'</span> <span class="c1">// or function (elem) { ... }, or selector $('.content')</span>
<span class="p">});</span>
</pre></div>

<p>More detailed information on every option you can find <a href="https://github.com/voronianski/jquery.avgrund.js#Documentation">here</a>.</p>

<h2>
<a name="user-content-documentation" class="anchor" href="#documentation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Documentation</h2>

<p>Here is the list of available avgrund options:</p>

<h5>
<a name="user-content-width---string--number-default-380px" class="anchor" href="#width---string--number-default-380px" aria-hidden="true"><span class="octicon octicon-link"></span></a>width - string | number, default: '380px'</h5>

<p>Set popup width (currently stict to max <code>640px</code>).</p>

<h5>
<a name="user-content-height---string--number-default-280px" class="anchor" href="#height---string--number-default-280px" aria-hidden="true"><span class="octicon octicon-link"></span></a>height - string | number, default: '280px'</h5>

<p>Set popup height (currently strict to max <code>350px</code>).</p>

<h5>
<a name="user-content-showclose---boolean-default-false" class="anchor" href="#showclose---boolean-default-false" aria-hidden="true"><span class="octicon octicon-link"></span></a>showClose - boolean, default: false</h5>

<p>Show/hide close button.</p>

<h5>
<a name="user-content-showclosetext---string" class="anchor" href="#showclosetext---string" aria-hidden="true"><span class="octicon octicon-link"></span></a>showCloseText - string</h5>

<p>If you decided to show close button then you probably want to add close text to it.</p>

<h5>
<a name="user-content-closebyescape---boolean-default-true" class="anchor" href="#closebyescape---boolean-default-true" aria-hidden="true"><span class="octicon octicon-link"></span></a>closeByEscape - boolean, default: true</h5>

<p>Allow users to close popup by clicking <code>Esc</code> button.</p>

<h5>
<a name="user-content-closebydocument----boolean-default-true" class="anchor" href="#closebydocument----boolean-default-true" aria-hidden="true"><span class="octicon octicon-link"></span></a>closeByDocument -  boolean, default: true</h5>

<p>Allow users to close popup by clicking everywhere on <code>document</code> (except popup of course).</p>

<h5>
<a name="user-content-holderclass---string" class="anchor" href="#holderclass---string" aria-hidden="true"><span class="octicon octicon-link"></span></a>holderClass - string</h5>

<p>Adds custom css classes to avgrund popup, example:</p>

<div class="highlight highlight-javascript"><pre><span class="nx">$</span><span class="p">(</span><span class="nx">element</span><span class="p">).</span><span class="nx">avgrund</span><span class="p">({</span>
    <span class="nx">holderClass</span><span class="o">:</span> <span class="s1">'my-custom-class'</span>
<span class="p">});</span>
</pre></div>

<p>results in adding this class to avgrund container:</p>

<div class="highlight highlight-html"><pre><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"avgrund-popin my-custom-class"</span><span class="nt">&gt;</span>...<span class="nt">&lt;/div&gt;</span>
</pre></div>

<h5>
<a name="user-content-overlayclass---string" class="anchor" href="#overlayclass---string" aria-hidden="true"><span class="octicon octicon-link"></span></a>overlayClass - string</h5>

<p>Adds custom css classes to avgrund overlay container.</p>

<h5>
<a name="user-content-enablestackanimation---boolean-default-false" class="anchor" href="#enablestackanimation---boolean-default-false" aria-hidden="true"><span class="octicon octicon-link"></span></a>enableStackAnimation - boolean, default: false</h5>

<p>Possibility to add a bit different popup hiding animation type.</p>

<h5>
<a name="user-content-onblurcontainer---string" class="anchor" href="#onblurcontainer---string" aria-hidden="true"><span class="octicon octicon-link"></span></a>onBlurContainer - string</h5>

<p>Class name for container element that will be blurred when popup appears, example:</p>

<div class="highlight highlight-javascript"><pre><span class="nx">$</span><span class="p">(</span><span class="nx">element</span><span class="p">).</span><span class="nx">avgrund</span><span class="p">({</span>
    <span class="nx">onBlurContainer</span><span class="o">:</span> <span class="s1">'#my-container'</span>
<span class="p">});</span>
</pre></div>

<p>Please note that currently css <code>blur</code> is not supported in all modern browsers.</p>

<h5>
<a name="user-content-openonevent---boolean-default-true" class="anchor" href="#openonevent---boolean-default-true" aria-hidden="true"><span class="octicon octicon-link"></span></a>openOnEvent - boolean, default: true</h5>

<p>If you want to show avgrund on page load set this option value to <code>false</code>, example:</p>

<div class="highlight highlight-javascript"><pre><span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">avgrund</span><span class="p">({</span>
    <span class="nx">openOnEvent</span><span class="o">:</span> <span class="kc">false</span>
<span class="p">});</span>
</pre></div>

<h5>
<a name="user-content-setevent---string-default-click" class="anchor" href="#setevent---string-default-click" aria-hidden="true"><span class="octicon octicon-link"></span></a>setEvent - string, default: 'click'</h5>

<p>With this option you can manage events that will open popup on certain element:</p>

<div class="highlight highlight-javascript"><pre><span class="nx">$</span><span class="p">(</span><span class="nx">element</span><span class="p">).</span><span class="nx">avgrund</span><span class="p">({</span>
    <span class="nx">setEvent</span><span class="o">:</span> <span class="s1">'mouseover'</span> <span class="c1">// will open popin on element's mouseover</span>
<span class="p">});</span>
</pre></div>

<h5>
<a name="user-content-onload---function" class="anchor" href="#onload---function" aria-hidden="true"><span class="octicon octicon-link"></span></a>onLoad - function</h5>

<p>If you need to make some preparations or whatever before avgrund popup will be shown, example:</p>

<div class="highlight highlight-javascript"><pre><span class="nx">$</span><span class="p">(</span><span class="nx">element</span><span class="p">).</span><span class="nx">avgrund</span><span class="p">({</span>
    <span class="nx">onLoad</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">element</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'This function will be called before dialog is initialized'</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">});</span>
</pre></div>

<h5>
<a name="user-content-onunload---function" class="anchor" href="#onunload---function" aria-hidden="true"><span class="octicon octicon-link"></span></a>onUnload - function</h5>

<p>This function will be executed after popup was closed, example:</p>

<div class="highlight highlight-javascript"><pre><span class="nx">$</span><span class="p">(</span><span class="nx">element</span><span class="p">).</span><span class="nx">avgrund</span><span class="p">({</span>
    <span class="nx">onUnload</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">element</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'This message will be shown after dialog is closed'</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">});</span>
</pre></div>

<h5>
<a name="user-content-template---string--function--jquery-object" class="anchor" href="#template---string--function--jquery-object" aria-hidden="true"><span class="octicon octicon-link"></span></a>template - string | function | jQuery object</h5>

<p>Specify your content for popin here, it can be <code>string</code> value:</p>

<div class="highlight highlight-javascript"><pre><span class="nx">$</span><span class="p">(</span><span class="nx">element</span><span class="p">).</span><span class="nx">avgrund</span><span class="p">({</span>
    <span class="nx">template</span><span class="o">:</span> <span class="s1">'&lt;p&gt;This is popin content!&lt;/p&gt;'</span>
<span class="p">});</span>
</pre></div>

<p>or <code>function</code> that returns content itself:</p>

<div class="highlight highlight-javascript"><pre><span class="nx">$</span><span class="p">(</span><span class="nx">element</span><span class="p">).</span><span class="nx">avgrund</span><span class="p">({</span>
    <span class="nx">template</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">element</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// return 'your content..'</span>
    <span class="p">}</span>
<span class="p">});</span>
</pre></div>

<p>Also it accepts jQuery objects (dynamic as well), so you can create element with content inside your app:</p>

<div class="highlight highlight-html"><pre><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"content"</span> <span class="na">style=</span><span class="s">"display: none;"</span><span class="nt">&gt;</span>
    My content for popin!
<span class="nt">&lt;/div&gt;</span>
</pre></div>

<p>and use it in <code>template</code> of popin:</p>

<div class="highlight highlight-javascript"><pre><span class="nx">$</span><span class="p">(</span><span class="s1">'element'</span><span class="p">).</span><span class="nx">avgrund</span><span class="p">({</span>
    <span class="nx">template</span><span class="o">:</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'.content'</span><span class="p">)</span>
<span class="p">});</span>
</pre></div>

<h2>
<a name="user-content-demo" class="anchor" href="#demo" aria-hidden="true"><span class="octicon octicon-link"></span></a>Demo</h2>

<p>Check the example here: <a href="http://labs.voronianski.com/jquery.avgrund.js/">http://labs.voronianski.com/jquery.avgrund.js/</a></p>

<p>Inspired by Hakim's demo: <a href="https://github.com/hakimel/avgrund/">https://github.com/hakimel/avgrund/</a></p>

<h2>
<a name="user-content-changelog" class="anchor" href="#changelog" aria-hidden="true"><span class="octicon octicon-link"></span></a>Changelog</h2>

<h3>
<a name="user-content-update-sep-28-2013" class="anchor" href="#update-sep-28-2013" aria-hidden="true"><span class="octicon octicon-link"></span></a>Update (Sep 28, 2013)</h3>

<p>Added AMD and CommonJS styles support.</p>

<h3>
<a name="user-content-update-sep-22-2013" class="anchor" href="#update-sep-22-2013" aria-hidden="true"><span class="octicon octicon-link"></span></a>Update (Sep 22, 2013)</h3>

<p>Added support jQuery selectors in template option.</p>

<h3>
<a name="user-content-update-june-15-2013" class="anchor" href="#update-june-15-2013" aria-hidden="true"><span class="octicon octicon-link"></span></a>Update (June 15, 2013)</h3>

<p>Better fix for overlay and long content pages, minor add-ons.</p>

<h3>
<a name="user-content-update-may-26-2013" class="anchor" href="#update-may-26-2013" aria-hidden="true"><span class="octicon octicon-link"></span></a>Update (May 26, 2013)</h3>

<p>Few fixes, and plugin is available as bower package now. So you can simply install it as:</p>

<h3>
<a name="user-content-update-feb-25-2013" class="anchor" href="#update-feb-25-2013" aria-hidden="true"><span class="octicon octicon-link"></span></a>Update (Feb 25, 2013)</h3>

<p>A bunch of small but very useful fixes and updates, including multiple avgrund popins on a page, removing popins from DOM after deactivation (also fixed an issue to make sure avgrund close effect works) and position:fixed/transform/overflow issue for scrolled pages in -webkit.</p>

<h3>
<a name="user-content-update-nov-18-2012" class="anchor" href="#update-nov-18-2012" aria-hidden="true"><span class="octicon octicon-link"></span></a>Update (Nov 18, 2012)</h3>

<p>Get 2 new useful options for popin that were missed before. Now you can set your custom functions before Avgrund dialog is open and after it was closed.</p>

<h3>
<a name="user-content-update-sep-30-2012" class="anchor" href="#update-sep-30-2012" aria-hidden="true"><span class="octicon octicon-link"></span></a>Update (Sep 30, 2012)</h3>

<p>Some new updates include initializing popin without event. Also now you can set up your own event for an element. Added ability to use a custom function inside avgrund's template option. Thanks to <a href="https://github.com/juice49">juice49</a> for pull request.</p>

<h3>
<a name="user-content-update-aug-31-2012" class="anchor" href="#update-aug-31-2012" aria-hidden="true"><span class="octicon octicon-link"></span></a>Update (Aug 31, 2012)</h3>

<p>New options added - disable closing popup by 'Esc' and 'Document click'. Blur css filter for browsers that support it (seems only webkit ones for now).</p>

<h2>
<a name="user-content-contribution" class="anchor" href="#contribution" aria-hidden="true"><span class="octicon octicon-link"></span></a>Contribution</h2>

<p>We still have some issues to fix and make avgrund better, if you have any suggestions raise them in <a href="https://github.com/voronianski/jquery.avgrund.js/issues">issues</a> please.</p>

<hr><p>MIT Licensed</p>

<p><strong>enjoy!</strong></p></article></div>