<div class="announce instapaper_body rdoc" data-path="README.rdoc" id="readme"><article class="markdown-body entry-content" itemprop="mainContentOfPage">
<h1>
<a name="user-content-rack-a-modular-ruby-webserver-interface--" class="anchor" href="#rack-a-modular-ruby-webserver-interface--" aria-hidden="true"><span class="octicon octicon-link"></span></a>Rack, a modular Ruby webserver interface <a href="http://travis-ci.org/rack/rack"><img src="https://camo.githubusercontent.com/28e130503fc2077003062a08b51b3c5b5d9d3ae9/68747470733a2f2f7365637572652e7472617669732d63692e6f72672f7261636b2f7261636b2e737667" alt="Build Status" data-canonical-src="https://secure.travis-ci.org/rack/rack.svg" style="max-width:100%;"></a> <a href="https://gemnasium.com/rack/rack"><img src="https://camo.githubusercontent.com/9edfefa57ea2d5f70d097a8a641dfc9d0bce2d9a/68747470733a2f2f67656d6e617369756d2e636f6d2f7261636b2f7261636b2e737667" alt="Dependency Status" data-canonical-src="https://gemnasium.com/rack/rack.svg" style="max-width:100%;"></a>
</h1>

<p>Rack provides a minimal, modular and adaptable interface for developing web
applications in Ruby.  By wrapping HTTP requests and responses in the
simplest way possible, it unifies and distills the API for web servers, web
frameworks, and software in between (the so-called middleware) into a
single method call.</p>

<p>The exact details of this are described in the Rack specification, which
all Rack applications should conform to.</p>

<h2>
<a name="user-content-supported-web-servers" class="anchor" href="#supported-web-servers" aria-hidden="true"><span class="octicon octicon-link"></span></a>Supported web servers</h2>

<p>The included <b>handlers</b> connect all kinds of web servers to Rack:</p>
<ul>
<li>
<p>Mongrel</p>
</li>
<li>
<p>EventedMongrel</p>
</li>
<li>
<p>SwiftipliedMongrel</p>
</li>
<li>
<p>WEBrick</p>
</li>
<li>
<p>FCGI</p>
</li>
<li>
<p>CGI</p>
</li>
<li>
<p>SCGI</p>
</li>
<li>
<p>LiteSpeed</p>
</li>
<li>
<p>Thin</p>
</li>
</ul><p>These web servers include Rack handlers in their distributions:</p>
<ul>
<li>
<p>Ebb</p>
</li>
<li>
<p>Fuzed</p>
</li>
<li>
<p>Glassfish v3</p>
</li>
<li>
<p>Phusion Passenger (which is mod_rack for Apache and for nginx)</p>
</li>
<li>
<p>Puma</p>
</li>
<li>
<p>Rainbows!</p>
</li>
<li>
<p>Reel</p>
</li>
<li>
<p>Unicorn</p>
</li>
<li>
<p>unixrack</p>
</li>
<li>
<p>uWSGI</p>
</li>
<li>
<p>yahns</p>
</li>
<li>
<p>Zbatery</p>
</li>
</ul><p>Any valid Rack app will run the same on all these handlers, without
changing anything.</p>

<h2>
<a name="user-content-supported-web-frameworks" class="anchor" href="#supported-web-frameworks" aria-hidden="true"><span class="octicon octicon-link"></span></a>Supported web frameworks</h2>

<p>These frameworks include Rack adapters in their distributions:</p>
<ul>
<li>
<p>Camping</p>
</li>
<li>
<p>Coset</p>
</li>
<li>
<p>Espresso</p>
</li>
<li>
<p>Halcyon</p>
</li>
<li>
<p>Mack</p>
</li>
<li>
<p>Maveric</p>
</li>
<li>
<p>Merb</p>
</li>
<li>
<p>Racktools::SimpleApplication</p>
</li>
<li>
<p>Ramaze</p>
</li>
<li>
<p>Ruby on Rails</p>
</li>
<li>
<p>Rum</p>
</li>
<li>
<p>Sinatra</p>
</li>
<li>
<p>Sin</p>
</li>
<li>
<p>Vintage</p>
</li>
<li>
<p>Waves</p>
</li>
<li>
<p>Wee</p>
</li>
<li>
<p>… and many others.</p>
</li>
</ul><h2>
<a name="user-content-available-middleware" class="anchor" href="#available-middleware" aria-hidden="true"><span class="octicon octicon-link"></span></a>Available middleware</h2>

<p>Between the server and the framework, Rack can be customized to your
applications needs using middleware, for example:</p>
<ul>
<li>
<p>Rack::URLMap, to route to multiple applications inside the same process.</p>
</li>
<li>
<p>Rack::CommonLogger, for creating Apache-style logfiles.</p>
</li>
<li>
<p>Rack::ShowException, for catching unhandled exceptions and presenting them
in a nice and helpful way with clickable backtrace.</p>
</li>
<li>
<p>Rack::File, for serving static files.</p>
</li>
<li>
<p>…many others!</p>
</li>
</ul><p>All these components use the same interface, which is described in detail
in the Rack specification.  These optional components can be used in any
way you wish.</p>

<h2>
<a name="user-content-convenience" class="anchor" href="#convenience" aria-hidden="true"><span class="octicon octicon-link"></span></a>Convenience</h2>

<p>If you want to develop outside of existing frameworks, implement your own
ones, or develop middleware, Rack provides many helpers to create Rack
applications quickly and without doing the same web stuff all over:</p>
<ul>
<li>
<p>Rack::Request, which also provides query string parsing and multipart
handling.</p>
</li>
<li>
<p>Rack::Response, for convenient generation of HTTP replies and cookie
handling.</p>
</li>
<li>
<p>Rack::MockRequest and Rack::MockResponse for efficient and quick testing of
Rack application without real HTTP round-trips.</p>
</li>
</ul><h2>
<a name="user-content-rack-contrib" class="anchor" href="#rack-contrib" aria-hidden="true"><span class="octicon octicon-link"></span></a>rack-contrib</h2>

<p>The plethora of useful middleware created the need for a project that
collects fresh Rack middleware.  rack-contrib includes a variety of add-on
components for Rack and it is easy to contribute new modules.</p>
<ul><li>
<p><a href="http://github.com/rack/rack-contrib">github.com/rack/rack-contrib</a></p>
</li></ul><h2>
<a name="user-content-rackup" class="anchor" href="#rackup" aria-hidden="true"><span class="octicon octicon-link"></span></a>rackup</h2>

<p>rackup is a useful tool for running Rack applications, which uses the
Rack::Builder DSL to configure middleware and build up applications easily.</p>

<p>rackup automatically figures out the environment it is run in, and runs
your application as FastCGI, CGI, or standalone with Mongrel or WEBrick—all
from the same configuration.</p>

<h2>
<a name="user-content-quick-start" class="anchor" href="#quick-start" aria-hidden="true"><span class="octicon octicon-link"></span></a>Quick start</h2>

<p>Try the lobster!</p>

<p>Either with the embedded WEBrick starter:</p>

<pre>ruby -Ilib lib/rack/lobster.rb</pre>

<p>Or with rackup:</p>

<pre>bin/rackup -Ilib example/lobster.ru</pre>

<p>By default, the lobster is found at <a href="http://localhost:9292">localhost:9292</a>.</p>

<h2>
<a name="user-content-installing-with-rubygems" class="anchor" href="#installing-with-rubygems" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installing with RubyGems</h2>

<p>A Gem of Rack is available at rubygems.org.  You can install it with:</p>

<pre>gem install rack</pre>

<p>I also provide a local mirror of the gems (and development snapshots) at my
site:</p>

<pre>gem install rack --source http://chneukirchen.org/releases/gems/</pre>

<h2>
<a name="user-content-running-the-tests" class="anchor" href="#running-the-tests" aria-hidden="true"><span class="octicon octicon-link"></span></a>Running the tests</h2>

<p>Testing Rack requires the bacon testing framework:</p>

<pre>bundle install --without extra # to be able to run the fast tests</pre>

<p>Or:</p>

<pre>bundle install # this assumes that you have installed native extensions!</pre>

<p>There are two rake-based test tasks:</p>

<pre>rake test       tests all the fast tests (no Handlers or Adapters)
rake fulltest   runs all the tests</pre>

<p>The fast testsuite has no dependencies outside of the core Ruby
installation and bacon.</p>

<p>To run the test suite completely, you need:</p>

<pre>* fcgi
* memcache-client
* mongrel
* thin</pre>

<p>The full set of tests test FCGI access with lighttpd (on port 9203) so you
will need lighttpd installed as well as the FCGI libraries and the fcgi
gem:</p>

<p>Download and install lighttpd:</p>

<pre>http://www.lighttpd.net/download</pre>

<p>Installing the FCGI libraries:</p>

<pre>curl -O http://www.fastcgi.com/dist/fcgi-2.4.0.tar.gz
tar xzvf fcgi-2.4.0.tar.gz
cd fcgi-2.4.0
./configure --prefix=/usr/local
make
sudo make install
cd ..</pre>

<p>Installing the Ruby fcgi gem:</p>

<pre>gem install fcgi</pre>

<p>Furthermore, to test Memcache sessions, you need memcached (will be run on
port 11211) and memcache-client installed.</p>

<h2>
<a name="user-content-history" class="anchor" href="#history" aria-hidden="true"><span class="octicon octicon-link"></span></a>History</h2>
<ul>
<li>
<p>March 3rd, 2007: First public release 0.1.</p>
</li>
<li>
<p>May 16th, 2007: Second public release 0.2.</p>
<ul>
<li>
<p>HTTP Basic authentication.</p>
</li>
<li>
<p>Cookie Sessions.</p>
</li>
<li>
<p>Static file handler.</p>
</li>
<li>
<p>Improved Rack::Request.</p>
</li>
<li>
<p>Improved Rack::Response.</p>
</li>
<li>
<p>Added Rack::ShowStatus, for better default error messages.</p>
</li>
<li>
<p>Bug fixes in the Camping adapter.</p>
</li>
<li>
<p>Removed Rails adapter, was too alpha.</p>
</li>
</ul>
</li>
<li>
<p>February 26th, 2008: Third public release 0.3.</p>
<ul>
<li>
<p>LiteSpeed handler, by Adrian Madrid.</p>
</li>
<li>
<p>SCGI handler, by Jeremy Evans.</p>
</li>
<li>
<p>Pool sessions, by blink.</p>
</li>
<li>
<p>OpenID authentication, by blink.</p>
</li>
<li>
<p>:Port and :File options for opening FastCGI sockets, by blink.</p>
</li>
<li>
<p>Last-Modified HTTP header for Rack::File, by blink.</p>
</li>
<li>
<p>Rack::Builder#use now accepts blocks, by Corey Jewett. (See
example/protectedlobster.ru)</p>
</li>
<li>
<p>HTTP status 201 can contain a Content-Type and a body now.</p>
</li>
<li>
<p>Many bugfixes, especially related to Cookie handling.</p>
</li>
</ul>
</li>
<li>
<p>August 21st, 2008: Fourth public release 0.4.</p>
<ul>
<li>
<p>New middleware, Rack::Deflater, by Christoffer Sawicki.</p>
</li>
<li>
<p>OpenID authentication now needs ruby-openid 2.</p>
</li>
<li>
<p>New Memcache sessions, by blink.</p>
</li>
<li>
<p>Explicit EventedMongrel handler, by Joshua Peek &lt;josh@joshpeek.com&gt;</p>
</li>
<li>
<p>Rack::Reloader is not loaded in rackup development mode.</p>
</li>
<li>
<p>rackup can daemonize with -D.</p>
</li>
<li>
<p>Many bugfixes, especially for pool sessions, URLMap, thread safety and
tempfile handling.</p>
</li>
<li>
<p>Improved tests.</p>
</li>
<li>
<p>Rack moved to Git.</p>
</li>
</ul>
</li>
<li>
<p>January 6th, 2009: Fifth public release 0.9.</p>
<ul>
<li>
<p>Rack is now managed by the Rack Core Team.</p>
</li>
<li>
<p>Rack::Lint is stricter and follows the HTTP RFCs more closely.</p>
</li>
<li>
<p>Added ConditionalGet middleware.</p>
</li>
<li>
<p>Added ContentLength middleware.</p>
</li>
<li>
<p>Added Deflater middleware.</p>
</li>
<li>
<p>Added Head middleware.</p>
</li>
<li>
<p>Added MethodOverride middleware.</p>
</li>
<li>
<p>Rack::Mime now provides popular MIME-types and their extension.</p>
</li>
<li>
<p>Mongrel Header now streams.</p>
</li>
<li>
<p>Added Thin handler.</p>
</li>
<li>
<p>Official support for swiftiplied Mongrel.</p>
</li>
<li>
<p>Secure cookies.</p>
</li>
<li>
<p>Made HeaderHash case-preserving.</p>
</li>
<li>
<p>Many bugfixes and small improvements.</p>
</li>
</ul>
</li>
<li>
<p>January 9th, 2009: Sixth public release 0.9.1.</p>
<ul><li>
<p>Fix directory traversal exploits in Rack::File and Rack::Directory.</p>
</li></ul>
</li>
<li>
<p>April 25th, 2009: Seventh public release 1.0.0.</p>
<ul>
<li>
<p>SPEC change: Rack::VERSION has been pushed to [1,0].</p>
</li>
<li>
<p>SPEC change: header values must be Strings now, split on “n”.</p>
</li>
<li>
<p>SPEC change: Content-Length can be missing, in this case chunked transfer
encoding is used.</p>
</li>
<li>
<p>SPEC change: rack.input must be rewindable and support reading into a
buffer, wrap with Rack::RewindableInput if it isn't.</p>
</li>
<li>
<p>SPEC change: rack.session is now specified.</p>
</li>
<li>
<p>SPEC change: Bodies can now additionally respond to #to_path with a
filename to be served.</p>
</li>
<li>
<p>NOTE: String bodies break in 1.9, use an Array consisting of a single
String instead.</p>
</li>
<li>
<p>New middleware Rack::Lock.</p>
</li>
<li>
<p>New middleware Rack::ContentType.</p>
</li>
<li>
<p>Rack::Reloader has been rewritten.</p>
</li>
<li>
<p>Major update to Rack::Auth::OpenID.</p>
</li>
<li>
<p>Support for nested parameter parsing in Rack::Response.</p>
</li>
<li>
<p>Support for redirects in Rack::Response.</p>
</li>
<li>
<p>HttpOnly cookie support in Rack::Response.</p>
</li>
<li>
<p>The Rakefile has been rewritten.</p>
</li>
<li>
<p>Many bugfixes and small improvements.</p>
</li>
</ul>
</li>
<li>
<p>October 18th, 2009: Eighth public release 1.0.1.</p>
<ul>
<li>
<p>Bump remainder of rack.versions.</p>
</li>
<li>
<p>Support the pure Ruby FCGI implementation.</p>
</li>
<li>
<p>Fix for form names containing “=”: split first then unescape components</p>
</li>
<li>
<p>Fixes the handling of the filename parameter with semicolons in names.</p>
</li>
<li>
<p>Add anchor to nested params parsing regexp to prevent stack overflows</p>
</li>
<li>
<p>Use more compatible gzip write api instead of “&lt;&lt;”.</p>
</li>
<li>
<p>Make sure that Reloader doesn't break when executed via ruby -e</p>
</li>
<li>
<p>Make sure WEBrick respects the :Host option</p>
</li>
<li>
<p>Many Ruby 1.9 fixes.</p>
</li>
</ul>
</li>
<li>
<p>January 3rd, 2010: Ninth public release 1.1.0.</p>
<ul>
<li>
<p>Moved Auth::OpenID to rack-contrib.</p>
</li>
<li>
<p>SPEC change that relaxes Lint slightly to allow subclasses of the required
types</p>
</li>
<li>
<p>SPEC change to document rack.input binary mode in greator detail</p>
</li>
<li>
<p>SPEC define optional rack.logger specification</p>
</li>
<li>
<p>File servers support X-Cascade header</p>
</li>
<li>
<p>Imported Config middleware</p>
</li>
<li>
<p>Imported ETag middleware</p>
</li>
<li>
<p>Imported Runtime middleware</p>
</li>
<li>
<p>Imported Sendfile middleware</p>
</li>
<li>
<p>New Logger and NullLogger middlewares</p>
</li>
<li>
<p>Added mime type for .ogv and .manifest.</p>
</li>
<li>
<p>Don't squeeze PATH_INFO slashes</p>
</li>
<li>
<p>Use Content-Type to determine POST params parsing</p>
</li>
<li>
<p>Update Rack::Utils::HTTP_STATUS_CODES hash</p>
</li>
<li>
<p>Add status code lookup utility</p>
</li>
<li>
<p>Response should call #to_i on the status</p>
</li>
<li>
<p>Add Request#user_agent</p>
</li>
<li>
<p>Request#host knows about forwared host</p>
</li>
<li>
<p>Return an empty string for Request#host if HTTP_HOST and SERVER_NAME are
both missing</p>
</li>
<li>
<p>Allow MockRequest to accept hash params</p>
</li>
<li>
<p>Optimizations to HeaderHash</p>
</li>
<li>
<p>Refactored rackup into Rack::Server</p>
</li>
<li>
<p>Added Utils.build_nested_query to complement Utils.parse_nested_query</p>
</li>
<li>
<p>Added Utils::Multipart.build_multipart to complement
Utils::Multipart.parse_multipart</p>
</li>
<li>
<p>Extracted set and delete cookie helpers into Utils so they can be used
outside Response</p>
</li>
<li>
<p>Extract parse_query and parse_multipart in Request so subclasses can change
their behavior</p>
</li>
<li>
<p>Enforce binary encoding in RewindableInput</p>
</li>
<li>
<p>Set correct external_encoding for handlers that don't use
RewindableInput</p>
</li>
</ul>
</li>
<li>
<p>June 13th, 2010: Tenth public release 1.2.0.</p>
<ul>
<li>
<p>Removed Camping adapter: Camping 2.0 supports Rack as-is</p>
</li>
<li>
<p>Removed parsing of quoted values</p>
</li>
<li>
<p>Add Request.trace? and Request.options?</p>
</li>
<li>
<p>Add mime-type for .webm and .htc</p>
</li>
<li>
<p>Fix HTTP_X_FORWARDED_FOR</p>
</li>
<li>
<p>Various multipart fixes</p>
</li>
<li>
<p>Switch test suite to bacon</p>
</li>
</ul>
</li>
<li>
<p>June 15th, 2010: Eleventh public release 1.2.1.</p>
<ul>
<li>
<p>Make CGI handler rewindable</p>
</li>
<li>
<p>Rename spec/ to test/ to not conflict with SPEC on lesser operating systems</p>
</li>
</ul>
</li>
<li>
<p>March 13th, 2011: Twelfth public release 1.2.2/1.1.2.</p>
<ul><li>
<p>Security fix in Rack::Auth::Digest::MD5: when authenticator returned nil,
permission was granted on empty password.</p>
</li></ul>
</li>
<li>
<p>May 22nd, 2011: Thirteenth public release 1.3.0</p>
<ul>
<li>
<p>Various performance optimizations</p>
</li>
<li>
<p>Various multipart fixes</p>
</li>
<li>
<p>Various multipart refactors</p>
</li>
<li>
<p>Infinite loop fix for multipart</p>
</li>
<li>
<p>Test coverage for Rack::Server returns</p>
</li>
<li>
<p>Allow files with '..', but not path components that are
'..'</p>
</li>
<li>
<p>rackup accepts handler-specific options on the command line</p>
</li>
<li>
<p>Request#params no longer merges POST into GET (but returns the same)</p>
</li>
<li>
<p>Use URI.encode_www_form_component instead. Use core methods for escaping.</p>
</li>
<li>
<p>Allow multi-line comments in the config file</p>
</li>
<li>
<p>Bug L#94 reported by Nikolai Lugovoi, query parameter unescaping.</p>
</li>
<li>
<p>Rack::Response now deletes Content-Length when appropriate</p>
</li>
<li>
<p>Rack::Deflater now supports streaming</p>
</li>
<li>
<p>Improved Rack::Handler loading and searching</p>
</li>
<li>
<p>Support for the PATCH verb</p>
</li>
<li>
<p><a href="http://'rack.session.options'">env</a> now contains session
options</p>
</li>
<li>
<p>Cookies respect renew</p>
</li>
<li>
<p>Session middleware uses SecureRandom.hex</p>
</li>
</ul>
</li>
<li>
<p>May 22nd, 2011: Fourteenth public release 1.2.3</p>
<ul>
<li>
<p>Pulled in relevant bug fixes from 1.3</p>
</li>
<li>
<p>Fixed 1.8.6 support</p>
</li>
</ul>
</li>
<li>
<p>July 13, 2011: Fifteenth public release 1.3.1</p>
<ul>
<li>
<p>Fix 1.9.1 support</p>
</li>
<li>
<p>Fix JRuby support</p>
</li>
<li>
<p>Properly handle $KCODE in Rack::Utils.escape</p>
</li>
<li>
<p>Make method_missing/respond_to behavior consistent for Rack::Lock,
Rack::Auth::Digest::Request and Rack::Multipart::UploadedFile</p>
</li>
<li>
<p>Reenable passing rack.session to session middleware</p>
</li>
<li>
<p>Rack::CommonLogger handles streaming responses correctly</p>
</li>
<li>
<p>Rack::MockResponse calls close on the body object</p>
</li>
<li>
<p>Fix a DOS vector from MRI stdlib backport</p>
</li>
</ul>
</li>
<li>
<p>July 16, 2011: Sixteenth public release 1.3.2</p>
<ul><li>
<p>Fix for Rails and rack-test, Rack::Utils#escape calls to_s</p>
</li></ul>
</li>
<li>
<p>September 16, 2011: Seventeenth public release 1.3.3</p>
<ul>
<li>
<p>Fix bug with broken query parameters in Rack::ShowExceptions</p>
</li>
<li>
<p>Rack::Request#cookies no longer swallows exceptions on broken input</p>
</li>
<li>
<p>Prevents XSS attacks enabled by bug in Ruby 1.8's regexp engine</p>
</li>
<li>
<p>Rack::ConditionalGet handles broken If-Modified-Since helpers</p>
</li>
</ul>
</li>
<li>
<p>September 16, 2011: Eighteenth public release 1.2.4</p>
<ul><li>
<p>Fix a bug with MRI regex engine to prevent XSS by malformed unicode</p>
</li></ul>
</li>
<li>
<p>October 1, 2011: Nineteenth public release 1.3.4</p>
<ul>
<li>
<p>Backport security fix from 1.9.3, also fixes some roundtrip issues in URI</p>
</li>
<li>
<p>Small documentation update</p>
</li>
<li>
<p>Fix an issue where BodyProxy could cause an infinite recursion</p>
</li>
<li>
<p>Add some supporting files for travis-ci</p>
</li>
</ul>
</li>
<li>
<p>October 17, 2011: Twentieth public release 1.3.5</p>
<ul><li>
<p>Fix annoying warnings caused by the backport in 1.3.4</p>
</li></ul>
</li>
<li>
<p>December 28th, 2011: Twenty first public release: 1.1.3.</p>
<ul><li>
<p>Security fix. <a href="http://www.ocert.org/advisories/ocert-2011-003.html">www.ocert.org/advisories/ocert-2011-003.html</a>
Further information here: <a href="http://jruby.org/2011/12/27/jruby-1-6-5-1">jruby.org/2011/12/27/jruby-1-6-5-1</a></p>
</li></ul>
</li>
<li>
<p>December 28th, 2011: Twenty fourth public release 1.4.0</p>
<ul>
<li>
<p>Ruby 1.8.6 support has officially been dropped. Not all tests pass.</p>
</li>
<li>
<p>Raise sane error messages for broken config.ru</p>
</li>
<li>
<p>Allow combining run and map in a config.ru</p>
</li>
<li>
<p>Rack::ContentType will not set Content-Type for responses without a body</p>
</li>
<li>
<p>Status code 205 does not send a response body</p>
</li>
<li>
<p>Rack::Response::Helpers will not rely on instance variables</p>
</li>
<li>
<p>Rack::Utils.build_query no longer outputs '=' for nil query values</p>
</li>
<li>
<p>Various mime types added</p>
</li>
<li>
<p>Rack::MockRequest now supports HEAD</p>
</li>
<li>
<p>Rack::Directory now supports files that contain RFC3986 reserved chars</p>
</li>
<li>
<p>Rack::File now only supports GET and HEAD requests</p>
</li>
<li>
<p>Rack::Server#start now passes the block to Rack::Handler::&lt;h&gt;#run</p>
</li>
<li>
<p>Rack::Static now supports an index option</p>
</li>
<li>
<p>Added the Teapot status code</p>
</li>
<li>
<p>rackup now defaults to Thin instead of Mongrel (if installed)</p>
</li>
<li>
<p>Support added for HTTP_X_FORWARDED_SCHEME</p>
</li>
<li>
<p>Numerous bug fixes, including many fixes for new and alternate rubies</p>
</li>
</ul>
</li>
<li>
<p>January 22nd, 2012: Twenty fifth public release 1.4.1</p>
<ul>
<li>
<p>Alter the keyspace limit calculations to reduce issues with nested params</p>
</li>
<li>
<p>Add a workaround for multipart parsing where files contain unescaped “%”</p>
</li>
<li>
<p>Added Rack::Response::Helpers#method_not_allowed? (code 405)</p>
</li>
<li>
<p>Rack::File now returns 404 for illegal directory traversals</p>
</li>
<li>
<p>Rack::File now returns 405 for illegal methods (non HEAD/GET)</p>
</li>
<li>
<p>Rack::Cascade now catches 405 by default, as well as 404</p>
</li>
<li>
<p>Cookies missing '–' no longer cause an exception to be raised</p>
</li>
<li>
<p>Various style changes and documentation spelling errors</p>
</li>
<li>
<p>Rack::BodyProxy always ensures to execute its block</p>
</li>
<li>
<p>Additional test coverage around cookies and secrets</p>
</li>
<li>
<p>Rack::Session::Cookie can now be supplied either secret or old_secret</p>
</li>
<li>
<p>Tests are no longer dependent on set order</p>
</li>
<li>
<p>Rack::Static no longer defaults to serving index files</p>
</li>
<li>
<p>Rack.release was fixed</p>
</li>
</ul>
</li>
<li>
<p>January 6th, 2013: Twenty sixth public release 1.1.4</p>
<ul><li>
<p>Add warnings when users do not provide a session secret</p>
</li></ul>
</li>
<li>
<p>January 6th, 2013: Twenty seventh public release 1.2.6</p>
<ul>
<li>
<p>Add warnings when users do not provide a session secret</p>
</li>
<li>
<p>Fix parsing performance for unquoted filenames</p>
</li>
</ul>
</li>
<li>
<p>January 6th, 2013: Twenty eighth public release 1.3.7</p>
<ul>
<li>
<p>Add warnings when users do not provide a session secret</p>
</li>
<li>
<p>Fix parsing performance for unquoted filenames</p>
</li>
<li>
<p>Updated URI backports</p>
</li>
<li>
<p>Fix URI backport version matching, and silence constant warnings</p>
</li>
<li>
<p>Correct parameter parsing with empty values</p>
</li>
<li>
<p>Correct rackup '-I' flag, to allow multiple uses</p>
</li>
<li>
<p>Correct rackup pidfile handling</p>
</li>
<li>
<p>Report rackup line numbers correctly</p>
</li>
<li>
<p>Fix request loops caused by non-stale nonces with time limits</p>
</li>
<li>
<p>Fix reloader on Windows</p>
</li>
<li>
<p>Prevent infinite recursions from Response#to_ary</p>
</li>
<li>
<p>Various middleware better conforms to the body close specification</p>
</li>
<li>
<p>Updated language for the body close specification</p>
</li>
<li>
<p>Additional notes regarding ECMA escape compatibility issues</p>
</li>
<li>
<p>Fix the parsing of multiple ranges in range headers</p>
</li>
</ul>
</li>
<li>
<p>January 6th, 2013: Twenty ninth public release 1.4.2</p>
<ul>
<li>
<p>Add warnings when users do not provide a session secret</p>
</li>
<li>
<p>Fix parsing performance for unquoted filenames</p>
</li>
<li>
<p>Updated URI backports</p>
</li>
<li>
<p>Fix URI backport version matching, and silence constant warnings</p>
</li>
<li>
<p>Correct parameter parsing with empty values</p>
</li>
<li>
<p>Correct rackup '-I' flag, to allow multiple uses</p>
</li>
<li>
<p>Correct rackup pidfile handling</p>
</li>
<li>
<p>Report rackup line numbers correctly</p>
</li>
<li>
<p>Fix request loops caused by non-stale nonces with time limits</p>
</li>
<li>
<p>Fix reloader on Windows</p>
</li>
<li>
<p>Prevent infinite recursions from Response#to_ary</p>
</li>
<li>
<p>Various middleware better conforms to the body close specification</p>
</li>
<li>
<p>Updated language for the body close specification</p>
</li>
<li>
<p>Additional notes regarding ECMA escape compatibility issues</p>
</li>
<li>
<p>Fix the parsing of multiple ranges in range headers</p>
</li>
<li>
<p>Prevent errors from empty parameter keys</p>
</li>
<li>
<p>Added PATCH verb to Rack::Request</p>
</li>
<li>
<p>Various documentation updates</p>
</li>
<li>
<p>Fix session merge semantics (fixes rack-test)</p>
</li>
<li>
<p>Rack::Static :index can now handle multiple directories</p>
</li>
<li>
<p>All tests now utilize Rack::Lint (special thanks to Lars Gierth)</p>
</li>
<li>
<p>Rack::File cache_control parameter is now deprecated, and removed by 1.5</p>
</li>
<li>
<p>Correct Rack::Directory script name escaping</p>
</li>
<li>
<p>Rack::Static supports header rules for sophisticated configurations</p>
</li>
<li>
<p>Multipart parsing now works without a Content-Length header</p>
</li>
<li>
<p>New logos courtesy of Zachary Scott!</p>
</li>
<li>
<p>Rack::BodyProxy now explicitly defines #each, useful for C extensions</p>
</li>
<li>
<p>Cookies that are not URI escaped no longer cause exceptions</p>
</li>
</ul>
</li>
<li>
<p>January 7th, 2013: Thirtieth public release 1.3.8</p>
<ul><li>
<p>Security: Prevent unbounded reads in large multipart boundaries</p>
</li></ul>
</li>
<li>
<p>January 7th, 2013: Thirty first public release 1.4.3</p>
<ul><li>
<p>Security: Prevent unbounded reads in large multipart boundaries</p>
</li></ul>
</li>
<li>
<p>January 13th, 2013: Thirty second public release 1.4.4, 1.3.9, 1.2.7, 1.1.5</p>
<ul>
<li><dl>
<dt>SEC</dt>
<dd>
<p>Rack::Auth::AbstractRequest no longer symbolizes arbitrary strings</p>
</dd>
</dl></li>
<li>
<p>Fixed erroneous test case in the 1.3.x series</p>
</li>
</ul>
</li>
<li>
<p>January 21st, 2013: Thirty third public release 1.5.0</p>
<ul>
<li>
<p>Introduced hijack SPEC, for before-response and after-response hijacking</p>
</li>
<li>
<p>SessionHash is no longer a Hash subclass</p>
</li>
<li>
<p>Rack::File cache_control parameter is removed, in place of headers options</p>
</li>
<li>
<p>Rack::Auth::AbstractRequest#scheme now yields strings, not symbols</p>
</li>
<li>
<p>Rack::Utils cookie functions now format expires in RFC 2822 format</p>
</li>
<li>
<p>Rack::File now has a default mime type</p>
</li>
<li>
<p>rackup -b 'run Rack::File.new(“.”)', option provides command line
configs</p>
</li>
<li>
<p>Rack::Deflater will no longer double encode bodies</p>
</li>
<li>
<p>Rack::Mime#match? provides convenience for Accept header matching</p>
</li>
<li>
<p>Rack::Utils#q_values provides splitting for Accept headers</p>
</li>
<li>
<p>Rack::Utils#best_q_match provides a helper for Accept headers</p>
</li>
<li>
<p>Rack::Handler.pick provides convenience for finding available servers</p>
</li>
<li>
<p>Puma added to the list of default servers (preferred over Webrick)</p>
</li>
<li>
<p>Various middleware now correctly close body when replacing it</p>
</li>
<li>
<p>Rack::Request#params is no longer persistent with only GET params</p>
</li>
<li>
<p>Rack::Request#update_param and #delete_param provide persistent operations</p>
</li>
<li>
<p>Rack::Request#trusted_proxy? now returns true for local unix sockets</p>
</li>
<li>
<p>Rack::Response no longer forces Content-Types</p>
</li>
<li>
<p>Rack::Sendfile provides local mapping configuration options</p>
</li>
<li>
<p>Rack::Utils#rfc2109 provides old netscape style time output</p>
</li>
<li>
<p>Updated HTTP status codes</p>
</li>
<li>
<p>Ruby 1.8.6 likely no longer passes tests, and is no longer fully supported</p>
</li>
</ul>
</li>
<li>
<p>January 28th, 2013: Thirty fourth public release 1.5.1</p>
<ul>
<li>
<p>Rack::Lint check_hijack now conforms to other parts of SPEC</p>
</li>
<li>
<p>Added hash-like methods to Abstract::ID::SessionHash for compatibility</p>
</li>
<li>
<p>Various documentation corrections</p>
</li>
</ul>
</li>
<li>
<p>February 7th, Thirty fifth public release 1.1.6, 1.2.8, 1.3.10</p>
<ul><li>
<p>Fix CVE-2013-0263, timing attack against Rack::Session::Cookie</p>
</li></ul>
</li>
<li>
<p>February 7th, Thirty fifth public release 1.4.5</p>
<ul>
<li>
<p>Fix CVE-2013-0263, timing attack against Rack::Session::Cookie</p>
</li>
<li>
<p>Fix CVE-2013-0262, symlink path traversal in Rack::File</p>
</li>
</ul>
</li>
<li>
<p>February 7th, Thirty fifth public release 1.5.2</p>
<ul>
<li>
<p>Fix CVE-2013-0263, timing attack against Rack::Session::Cookie</p>
</li>
<li>
<p>Fix CVE-2013-0262, symlink path traversal in Rack::File</p>
</li>
<li>
<p>Add various methods to Session for enhanced Rails compatibility</p>
</li>
<li>
<p>Request#trusted_proxy? now only matches whole stirngs</p>
</li>
<li>
<p>Add JSON cookie coder, to be default in Rack 1.6+ due to security concerns</p>
</li>
<li>
<p>URLMap host matching in environments that don't set the Host header
fixed</p>
</li>
<li>
<p>Fix a race condition that could result in overwritten pidfiles</p>
</li>
<li>
<p>Various documentation additions</p>
</li>
</ul>
</li>
</ul><h2>
<a name="user-content-contact" class="anchor" href="#contact" aria-hidden="true"><span class="octicon octicon-link"></span></a>Contact</h2>

<p>Please post bugs, suggestions and patches to the bug tracker at &lt;<a href="http://github.com/rack/rack/issues">github.com/rack/rack/issues</a>&gt;.</p>

<p>Please post security related bugs and suggestions to the core team at
&lt;<a href="https://groups.google.com/group/rack-core">groups.google.com/group/rack-core</a>&gt;
or rack-core@googlegroups.com. This list is not public. Due to wide usage
of the library, it is strongly preferred that we manage timing in order to
provide viable patches at the time of disclosure. Your assistance in this
matter is greatly appreciated.</p>

<p>Mailing list archives are available at &lt;<a href="http://groups.google.com/group/rack-devel">groups.google.com/group/rack-devel</a>&gt;.</p>

<p>Git repository (send Git patches to the mailing list):</p>
<ul>
<li>
<p><a href="http://github.com/rack/rack">github.com/rack/rack</a></p>
</li>
<li>
<p><a href="http://git.vuxu.org/cgi-bin/gitweb.cgi?p=rack-github.git">git.vuxu.org/cgi-bin/gitweb.cgi?p=rack-github.git</a></p>
</li>
</ul><p>You are also welcome to join the #rack channel on irc.freenode.net.</p>

<h2>
<a name="user-content-thanks" class="anchor" href="#thanks" aria-hidden="true"><span class="octicon octicon-link"></span></a>Thanks</h2>

<p>The Rack Core Team, consisting of</p>
<ul>
<li>
<p>Christian Neukirchen (chneukirchen)</p>
</li>
<li>
<p>James Tucker (raggi)</p>
</li>
<li>
<p>Josh Peek (josh)</p>
</li>
<li>
<p>José Valim (josevalim)</p>
</li>
<li>
<p>Michael Fellinger (manveru)</p>
</li>
<li>
<p>Aaron Patterson (tenderlove)</p>
</li>
<li>
<p>Santiago Pastorino (spastorino)</p>
</li>
<li>
<p>Konstantin Haase (rkh)</p>
</li>
</ul><p>and the Rack Alumnis</p>
<ul>
<li>
<p>Ryan Tomayko (rtomayko)</p>
</li>
<li>
<p>Scytrin dai Kinthra (scytrin)</p>
</li>
</ul><p>would like to thank:</p>
<ul>
<li>
<p>Adrian Madrid, for the LiteSpeed handler.</p>
</li>
<li>
<p>Christoffer Sawicki, for the first Rails adapter and Rack::Deflater.</p>
</li>
<li>
<p>Tim Fletcher, for the HTTP authentication code.</p>
</li>
<li>
<p>Luc Heinrich for the Cookie sessions, the static file handler and bugfixes.</p>
</li>
<li>
<p>Armin Ronacher, for the logo and racktools.</p>
</li>
<li>
<p>Alex Beregszaszi, Alexander Kahn, Anil Wadghule, Aredridel, Ben Alpert, Dan
Kubb, Daniel Roethlisberger, Matt Todd, Tom Robinson, Phil Hagelberg, S.
Brent Faulkner, Bosko Milekic, Daniel Rodríguez Troitiño, Genki Takiuchi,
Geoffrey Grosenbach, Julien Sanchez, Kamal Fariz Mahyuddin, Masayoshi
Takahashi, Patrick Aljordm, Mig, Kazuhiro Nishiyama, Jon Bardin, Konstantin
Haase, Larry Siden, Matias Korhonen, Sam Ruby, Simon Chiang, Tim Connor,
Timur Batyrshin, and Zach Brock for bug fixing and other improvements.</p>
</li>
<li>
<p>Eric Wong, Hongli Lai, Jeremy Kemper for their continuous support and API
improvements.</p>
</li>
<li>
<p>Yehuda Katz and Carl Lerche for refactoring rackup.</p>
</li>
<li>
<p>Brian Candler, for Rack::ContentType.</p>
</li>
<li>
<p>Graham Batty, for improved handler loading.</p>
</li>
<li>
<p>Stephen Bannasch, for bug reports and documentation.</p>
</li>
<li>
<p>Gary Wright, for proposing a better Rack::Response interface.</p>
</li>
<li>
<p>Jonathan Buch, for improvements regarding Rack::Response.</p>
</li>
<li>
<p>Armin Röhrl, for tracking down bugs in the Cookie generator.</p>
</li>
<li>
<p>Alexander Kellett for testing the Gem and reviewing the announcement.</p>
</li>
<li>
<p>Marcus Rückert, for help with configuring and debugging lighttpd.</p>
</li>
<li>
<p>The WSGI team for the well-done and documented work they've done and
Rack builds up on.</p>
</li>
<li>
<p>All bug reporters and patch contributors not mentioned above.</p>
</li>
</ul><h2>
<a name="user-content-copyright" class="anchor" href="#copyright" aria-hidden="true"><span class="octicon octicon-link"></span></a>Copyright</h2>

<p>Copyright (C) 2007, 2008, 2009, 2010 Christian Neukirchen &lt;<a href="http://purl.org/net/chneukirchen">purl.org/net/chneukirchen</a>&gt;</p>

<p>Permission is hereby granted, free of charge, to any person obtaining a
copy of this software and associated documentation files (the “Software”),
to deal in the Software without restriction, including without limitation
the rights to use, copy, modify, merge, publish, distribute, sublicense,
and/or sell copies of the Software, and to permit persons to whom the
Software is furnished to do so, subject to the following conditions:</p>

<p>The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.</p>

<p>THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN
ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>

<h2>
<a name="user-content-links" class="anchor" href="#links" aria-hidden="true"><span class="octicon octicon-link"></span></a>Links</h2>
<table>
<tr>
<td><p>Rack</p></td>
<td>
<p>&lt;<a href="http://rack.github.io">rack.github.io</a>/&gt;</p>
</td>
</tr>
<tr>
<td><p>Official Rack repositories</p></td>
<td>
<p>&lt;<a href="http://github.com/rack">github.com/rack</a>&gt;</p>
</td>
</tr>
<tr>
<td><p>Rack Bug Tracking</p></td>
<td>
<p>&lt;<a href="http://github.com/rack/rack/issues">github.com/rack/rack/issues</a>&gt;</p>
</td>
</tr>
<tr>
<td><p>rack-devel mailing list</p></td>
<td>
<p>&lt;<a href="http://groups.google.com/group/rack-devel">groups.google.com/group/rack-devel</a>&gt;</p>
</td>
</tr>
<tr>
<td><p>Rack's Rubyforge project</p></td>
<td>
<p>&lt;<a href="http://rubyforge.org/projects/rack">rubyforge.org/projects/rack</a>&gt;</p>
</td>
</tr>
<tr>
<td><p>Christian Neukirchen</p></td>
<td>
<p>&lt;<a href="http://chneukirchen.org">chneukirchen.org</a>/&gt;</p>
</td>
</tr>
</table></article></div>