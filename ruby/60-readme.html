<div class="announce instapaper_body md" data-path="README.md" id="readme"><article class="markdown-body entry-content" itemprop="mainContentOfPage"><p><a href="http://badge.fury.io/rb/rubocop"><img src="https://camo.githubusercontent.com/c5b282f25bb540509c4fd5aa91aee7c1f54074d4/68747470733a2f2f62616467652e667572792e696f2f72622f7275626f636f702e737667" alt="Gem Version" data-canonical-src="https://badge.fury.io/rb/rubocop.svg" style="max-width:100%;"></a>
<a href="https://gemnasium.com/bbatsov/rubocop"><img src="https://camo.githubusercontent.com/5ee3d9c941669516308aadd7a3849799eb1d4a8f/68747470733a2f2f67656d6e617369756d2e636f6d2f62626174736f762f7275626f636f702e737667" alt="Dependency Status" data-canonical-src="https://gemnasium.com/bbatsov/rubocop.svg" style="max-width:100%;"></a>
<a href="https://travis-ci.org/bbatsov/rubocop"><img src="https://camo.githubusercontent.com/588f0a0185ab6b2233f8f50c6eb20732f90e4c77/68747470733a2f2f7472617669732d63692e6f72672f62626174736f762f7275626f636f702e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/bbatsov/rubocop.svg?branch=master" style="max-width:100%;"></a>
<a href="https://coveralls.io/r/bbatsov/rubocop"><img src="https://camo.githubusercontent.com/a9fd57f80d70ed6d32bda3c85a7f049914e9e46d/687474703a2f2f696d672e736869656c64732e696f2f636f766572616c6c732f62626174736f762f7275626f636f702f6d61737465722e737667" alt="Coverage Status" data-canonical-src="http://img.shields.io/coveralls/bbatsov/rubocop/master.svg" style="max-width:100%;"></a>
<a href="https://codeclimate.com/github/bbatsov/rubocop"><img src="https://camo.githubusercontent.com/411ab339506397fc02acc62f0bf9cecc06bee2f5/687474703a2f2f696d672e736869656c64732e696f2f636f6465636c696d6174652f6769746875622f62626174736f762f7275626f636f702e737667" alt="Code Climate" data-canonical-src="http://img.shields.io/codeclimate/github/bbatsov/rubocop.svg" style="max-width:100%;"></a>
<a href="http://inch-ci.org/github/bbatsov/rubocop"><img src="https://camo.githubusercontent.com/478bef818850dc32b00006b454aa726d8f9aab40/687474703a2f2f696e63682d63692e6f72672f6769746875622f62626174736f762f7275626f636f702e737667" alt="Inline docs" data-canonical-src="http://inch-ci.org/github/bbatsov/rubocop.svg" style="max-width:100%;"></a></p>

<h1>
<a name="user-content-rubocop" class="anchor" href="#rubocop" aria-hidden="true"><span class="octicon octicon-link"></span></a>RuboCop</h1>

<blockquote>
<p>Role models are important. <br>
-- Officer Alex J. Murphy / RoboCop</p>
</blockquote>

<p><strong>RuboCop</strong> is a Ruby static code analyzer. Out of the box it will
enforce many of the guidelines outlined in the community
<a href="https://github.com/bbatsov/ruby-style-guide">Ruby Style Guide</a>.</p>

<p>Most aspects of its behavior can be tweaked via various
<a href="https://github.com/bbatsov/rubocop/blob/master/config/default.yml">configuration options</a>.</p>

<p>Apart from reporting problems in your code, RuboCop can also
automatically fix some of the problems for you.</p>

<p><strong>This documentation tracks the <code>master</code> branch of RuboCop. Some of
the features and settings discussed here might not be available in
older releases (including the current stable release). Please, consult
the relevant git repo branch if you need documentation for a specific RuboCop
release.</strong></p>

<ul class="task-list">
<li><a href="#installation">Installation</a></li>
<li>
<a href="#basic-usage">Basic Usage</a>

<ul class="task-list">
<li>
<a href="#cops">Cops</a>

<ul class="task-list">
<li><a href="#style">Style</a></li>
<li><a href="#lint">Lint</a></li>
<li><a href="#metrics">Metrics</a></li>
<li><a href="#rails">Rails</a></li>
</ul>
</li>
</ul>
</li>
<li>
<a href="#configuration">Configuration</a>

<ul class="task-list">
<li><a href="#inheritance">Inheritance</a></li>
<li><a href="#defaults">Defaults</a></li>
<li><a href="#includingexcluding-files">Including/Excluding files</a></li>
<li><a href="#automatically-generated-configuration">Automatically Generated Configuration</a></li>
</ul>
</li>
<li><a href="#disabling-cops-within-source-code">Disabling Cops within Source Code</a></li>
<li>
<a href="#formatters">Formatters</a>

<ul class="task-list">
<li><a href="#progress-formatter-default">Progress Formatter (default)</a></li>
<li><a href="#clang-style-formatter">Clang Style Formatter</a></li>
<li><a href="#fuubar-style-formatter">Fuubar Style Formatter</a></li>
<li><a href="#emacs-style-formatter">Emacs Style Formatter</a></li>
<li><a href="#simple-formatter">Simple Formatter</a></li>
<li><a href="#file-list-formatter">File List Formatter</a></li>
<li><a href="#json-formatter">JSON Formatter</a></li>
<li><a href="#offense-count-formatter">Offense Count Formatter</a></li>
</ul>
</li>
<li><a href="#compatibility">Compatibility</a></li>
<li>
<a href="#editor-integration">Editor integration</a>

<ul class="task-list">
<li><a href="#emacs">Emacs</a></li>
<li><a href="#vim">Vim</a></li>
<li><a href="#sublime-text">Sublime Text</a></li>
<li><a href="#brackets">Brackets</a></li>
<li><a href="#textmate2">TextMate2</a></li>
<li><a href="#atom">Atom</a></li>
<li><a href="#lighttable">LightTable</a></li>
<li><a href="#other-editors">Other Editors</a></li>
</ul>
</li>
<li><a href="#guard-integration">Guard integration</a></li>
<li><a href="#rake-integration">Rake integration</a></li>
<li>
<a href="#extensions">Extensions</a>

<ul class="task-list">
<li><a href="#loading-extensions">Loading Extensions</a></li>
<li>
<a href="#custom-cops">Custom Cops</a>

<ul class="task-list">
<li><a href="#known-custom-cops">Known Custom Cops</a></li>
</ul>
</li>
<li>
<a href="#custom-formatters">Custom Formatters</a>

<ul class="task-list">
<li><a href="#creating-custom-formatter">Creating Custom Formatter</a></li>
<li><a href="#using-custom-formatter-in-command-line">Using Custom Formatter in Command Line</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#team">Team</a></li>
<li><a href="#contributors">Contributors</a></li>
<li><a href="#mailing-list">Mailing List</a></li>
<li><a href="#changelog">Changelog</a></li>
<li><a href="#copyright">Copyright</a></li>
</ul><h2>
<a name="user-content-installation" class="anchor" href="#installation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installation</h2>

<p><strong>RuboCop</strong>'s installation is pretty standard:</p>

<pre><code>$ gem install rubocop
</code></pre>

<p>If you'd rather install RuboCop using <code>bundler</code>, don't require it in your <code>Gemfile</code>:</p>

<pre><code>gem 'rubocop', require: false
</code></pre>

<h2>
<a name="user-content-basic-usage" class="anchor" href="#basic-usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Basic Usage</h2>

<p>Running <code>rubocop</code> with no arguments will check all Ruby source files
in the current directory:</p>

<pre><code>$ rubocop
</code></pre>

<p>Alternatively you can pass <code>rubocop</code> a list of files and directories to check:</p>

<pre><code>$ rubocop app spec lib/something.rb
</code></pre>

<p>Here's RuboCop in action. Consider the following Ruby source code:</p>

<div class="highlight highlight-ruby"><pre><span class="k">def</span> <span class="nf">badName</span>
  <span class="k">if</span> <span class="n">something</span>
    <span class="nb">test</span>
    <span class="k">end</span>
<span class="k">end</span>
</pre></div>

<p>Running RuboCop on it (assuming it's in a file named <code>test.rb</code>) would produce the following report:</p>

<pre><code>Offenses:

test.rb:1:5: C: Use snake_case for methods and variables.
def badName
    ^^^^^^^
test.rb:2:3: C: Favor modifier if/unless usage when you have a single-line body. Another good alternative is the usage of control flow &amp;&amp;/||.
  if something
  ^^
test.rb:4:5: W: end at 4, 4 is not aligned with if at 2, 2
    end
    ^^^

1 file inspected, 3 offenses detected
</code></pre>

<p>For more details check the available command-line options:</p>

<pre><code>$ rubocop -h
</code></pre>

<table>
<thead><tr>
<th>Command flag</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr>
<td><code>-v/--version</code></td>
<td>Displays the current version and exits</td>
</tr>
<tr>
<td><code>-V/--verbose-version</code></td>
<td>Displays the current version plus the version of Parser and Ruby</td>
</tr>
<tr>
<td><code>-F/--fail-fast</code></td>
<td>Inspects in modification time order and stops after first file with offenses</td>
</tr>
<tr>
<td><code>-d/--debug</code></td>
<td>Displays some extra debug output</td>
</tr>
<tr>
<td><code>-D/--display-cop-names</code></td>
<td>Displays cop names in offense messages.</td>
</tr>
<tr>
<td><code>-c/--config</code></td>
<td>Run with specified config file</td>
</tr>
<tr>
<td><code>-f/--format</code></td>
<td>Choose a formatter</td>
</tr>
<tr>
<td><code>-o/--out</code></td>
<td>Write output to a file instead of STDOUT</td>
</tr>
<tr>
<td><code>-r/--require</code></td>
<td>Require Ruby file (see <a href="#loading-extensions">Loading Extensions</a>)</td>
</tr>
<tr>
<td><code>-R/--rails</code></td>
<td>Run extra Rails cops</td>
</tr>
<tr>
<td><code>-l/--lint</code></td>
<td>Run only lint cops</td>
</tr>
<tr>
<td><code>-a/--auto-correct</code></td>
<td>Auto-correct certain offenses <em>Note:</em> Experimental - use with caution</td>
</tr>
<tr>
<td><code>--only</code></td>
<td>Run only the specified cop(s)</td>
</tr>
<tr>
<td><code>--auto-gen-config</code></td>
<td>Generate a configuration file acting as a TODO list</td>
</tr>
<tr>
<td><code>--show-cops</code></td>
<td>Shows available cops and their configuration</td>
</tr>
<tr>
<td><code>--fail-level</code></td>
<td>Minimum severity for exit with error code</td>
</tr>
</tbody>
</table><h3>
<a name="user-content-cops" class="anchor" href="#cops" aria-hidden="true"><span class="octicon octicon-link"></span></a>Cops</h3>

<p>In RuboCop lingo the various checks performed on the code are called cops. There are several cop departments.</p>

<p>You can also load <a href="#custom-cops">custom cops</a>.</p>

<h4>
<a name="user-content-style" class="anchor" href="#style" aria-hidden="true"><span class="octicon octicon-link"></span></a>Style</h4>

<p>Most of the cops in RuboCop are so called style cops that check for
stylistics problems in your code. Almost all of the them are based on
the Ruby Style Guide. Many of the style cops have configurations
options allowing them to support different popular coding
conventions.</p>

<h4>
<a name="user-content-lint" class="anchor" href="#lint" aria-hidden="true"><span class="octicon octicon-link"></span></a>Lint</h4>

<p>Lint cops check for possible errors and very bad practices in your
code. RuboCop implements in a portable way all built-in MRI lint
checks (<code>ruby -wc</code>) and adds a lot of extra lint checks of its
own. You can run only the lint cops like this:</p>

<pre><code>$ rubocop -l
</code></pre>

<p>The <code>-l</code>/<code>--lint</code> option can be used together with <code>--only</code> to run all the
enabled lint cops plus a selection of other cops.</p>

<p>Disabling any of the lint cops is generally a bad idea.</p>

<h4>
<a name="user-content-metrics" class="anchor" href="#metrics" aria-hidden="true"><span class="octicon octicon-link"></span></a>Metrics</h4>

<p>Metrics cops deal with properties of the source code that can be measured,
such as class length, method length, etc. Generally speaking, they have a
configuration parameter called <code>Max</code> and when running
<code>rubocop --auto-gen-config</code>, this parameter will be set to the highest value
found for the inspected code.</p>

<h4>
<a name="user-content-rails" class="anchor" href="#rails" aria-hidden="true"><span class="octicon octicon-link"></span></a>Rails</h4>

<p>Rails cops are specific to the Ruby on Rails framework. Unlike style
and lint cops they are not used by default and you have to request them
specifically:</p>

<pre><code>$ rubocop -R
</code></pre>

<p>or add the following directive to your <code>.rubocop.yml</code>:</p>

<div class="highlight highlight-yaml"><pre><span class="l-Scalar-Plain">AllCops</span><span class="p-Indicator">:</span>
  <span class="l-Scalar-Plain">RunRailsCops</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">true</span>
</pre></div>

<h2>
<a name="user-content-configuration" class="anchor" href="#configuration" aria-hidden="true"><span class="octicon octicon-link"></span></a>Configuration</h2>

<p>The behavior of RuboCop can be controlled via the
<a href="https://github.com/bbatsov/rubocop/blob/master/.rubocop.yml">.rubocop.yml</a>
configuration file. It makes it possible to enable/disable certain cops
(checks) and to alter their behavior if they accept any parameters. The file
can be placed either in your home directory or in some project directory.</p>

<p>RuboCop will start looking for the configuration file in the directory
where the inspected file is and continue its way up to the root directory.</p>

<p>The file has the following format:</p>

<div class="highlight highlight-yaml"><pre><span class="l-Scalar-Plain">inherit_from</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">../.rubocop.yml</span>

<span class="l-Scalar-Plain">Style/Encoding</span><span class="p-Indicator">:</span>
  <span class="l-Scalar-Plain">Enabled</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">false</span>

<span class="l-Scalar-Plain">Metrics/LineLength</span><span class="p-Indicator">:</span>
  <span class="l-Scalar-Plain">Max</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">99</span>
</pre></div>

<p><strong>Note</strong>: Qualifying cop name with its type, e.g., <code>Style</code>, is recommended,
  but not necessary as long as the cop name is unique across all types.</p>

<h3>
<a name="user-content-inheritance" class="anchor" href="#inheritance" aria-hidden="true"><span class="octicon octicon-link"></span></a>Inheritance</h3>

<p>The optional <code>inherit_from</code> directive is used to include configuration
from one or more files. This makes it possible to have the common
project settings in the <code>.rubocop.yml</code> file at the project root, and
then only the deviations from those rules in the subdirectories. The
files can be given with absolute paths or paths relative to the file
where they are referenced. The settings after an <code>inherit_from</code>
directive override any settings in the file(s) inherited from. When
multiple files are included, the first file in the list has the lowest
precedence and the last one has the highest. The format for multiple
inheritance is:</p>

<div class="highlight highlight-yaml"><pre><span class="l-Scalar-Plain">inherit_from</span><span class="p-Indicator">:</span>
  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">../.rubocop.yml</span>
  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">../conf/.rubocop.yml</span>
</pre></div>

<h3>
<a name="user-content-defaults" class="anchor" href="#defaults" aria-hidden="true"><span class="octicon octicon-link"></span></a>Defaults</h3>

<p>The file
<a href="https://github.com/bbatsov/rubocop/blob/master/config/default.yml">config/default.yml</a>
under the RuboCop home directory contains the default settings that
all configurations inherit from. Project and personal <code>.rubocop.yml</code>
files need only make settings that are different from the default
ones. If there is no <code>.rubocop.yml</code> file in the project or home
directory, <code>config/default.yml</code> will be used.</p>

<h3>
<a name="user-content-includingexcluding-files" class="anchor" href="#includingexcluding-files" aria-hidden="true"><span class="octicon octicon-link"></span></a>Including/Excluding files</h3>

<p>RuboCop checks all files recursively within the directory it is run
on.  However, it only recognizes files ending with <code>.rb</code> or
extensionless files with a <code>#!.*ruby</code> declaration as Ruby files. If
you'd like it to check other files you'll need to manually pass them
in, or to add entries for them under <code>AllCops</code>/<code>Include</code>.  Files and
directories can also be ignored through <code>AllCops</code>/<code>Exclude</code>.</p>

<p>Here is an example that might be used for a Rails project:</p>

<div class="highlight highlight-yaml"><pre><span class="l-Scalar-Plain">AllCops</span><span class="p-Indicator">:</span>
  <span class="l-Scalar-Plain">Include</span><span class="p-Indicator">:</span>
    <span class="p-Indicator">-</span> <span class="s">'**/Rakefile'</span>
    <span class="p-Indicator">-</span> <span class="s">'**/config.ru'</span>
  <span class="l-Scalar-Plain">Exclude</span><span class="p-Indicator">:</span>
    <span class="p-Indicator">-</span> <span class="s">'db/**/*'</span>
    <span class="p-Indicator">-</span> <span class="s">'config/**/*'</span>
    <span class="p-Indicator">-</span> <span class="s">'script/**/*'</span>
    <span class="p-Indicator">-</span> <span class="kt">!ruby</span><span class="l-Scalar-Plain">/regexp /old_and_unused\.rb$/</span>

<span class="c1"># other configuration</span>
<span class="c1"># ...</span>
</pre></div>

<p>Files and directories are specified relative to the <code>.rubocop.yml</code> file.</p>

<p><strong>Note</strong>: Patterns that are just a file name, e.g. <code>Rakefile</code>, will match
that file name in any directory, but this pattern style deprecated. The
correct way to match the file in any directory, including the current, is
<code>**/Rakefile</code>.</p>

<p><strong>Note</strong>: The pattern <code>config/**</code> will match any file recursively under
<code>config</code>, but this pattern style is deprecated and should be replaced by
<code>config/**/*</code>.</p>

<p><strong>Note</strong>: The <code>Exclude</code> parameter is special. It is valid for the
directory tree starting where it is defined. It is not shadowed by the
setting of <code>Exclude</code> in other <code>.rubocop.yml</code> files in
subdirectories. This is different from all other parameters, who
follow RuboCop's general principle that configuration for an inspected
file is taken from the nearest <code>.rubocop.yml</code>, searching upwards.</p>

<p>Cops can be run only on specific sets of files when that's needed (for
instance you might want to run some Rails model checks only on files whose
paths match <code>app/models/*.rb</code>). All cops support the
<code>Include</code> param.</p>

<div class="highlight highlight-yaml"><pre><span class="l-Scalar-Plain">Rails/DefaultScope</span><span class="p-Indicator">:</span>
  <span class="l-Scalar-Plain">Include</span><span class="p-Indicator">:</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">app/models/*.rb</span>
</pre></div>

<p>Cops can also exclude only specific sets of files when that's needed (for
instance you might want to run some cop only on a specific file). All cops support the
<code>Exclude</code> param.</p>

<div class="highlight highlight-yaml"><pre><span class="l-Scalar-Plain">Rails/DefaultScope</span><span class="p-Indicator">:</span>
  <span class="l-Scalar-Plain">Exclude</span><span class="p-Indicator">:</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">app/models/problematic.rb</span>
</pre></div>

<p>Specific cops can be disabled by setting <code>Enabled</code> to <code>false</code> for that specific cop.</p>

<div class="highlight highlight-yaml"><pre><span class="l-Scalar-Plain">Metrics/LineLength</span><span class="p-Indicator">:</span>
  <span class="l-Scalar-Plain">Enabled</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">false</span>
</pre></div>

<p>Cops can customize their severity level. All cops support the <code>Severity</code> param.
Allowed params are <code>refactor</code>, <code>convention</code>, <code>warning</code>, <code>error</code> and <code>fatal</code>.</p>

<div class="highlight highlight-yaml"><pre><span class="l-Scalar-Plain">Metrics/CyclomaticComplexity</span><span class="p-Indicator">:</span>
  <span class="l-Scalar-Plain">Severity</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">warning</span>
</pre></div>

<h3>
<a name="user-content-automatically-generated-configuration" class="anchor" href="#automatically-generated-configuration" aria-hidden="true"><span class="octicon octicon-link"></span></a>Automatically Generated Configuration</h3>

<p>If you have a code base with an overwhelming amount of offenses, it can
be a good idea to use <code>rubocop --auto-gen-config</code> and add an
<code>inherit_from: .rubocop_todo.yml</code> in your <code>.rubocop.yml</code>. The generated
file <code>.rubocop_todo.yml</code> contains configuration to disable all cops that
currently detect an offense in the code. Then you can start removing the
entries in the generated file one by one as you work through all the
offenses in the code.</p>

<h2>
<a name="user-content-disabling-cops-within-source-code" class="anchor" href="#disabling-cops-within-source-code" aria-hidden="true"><span class="octicon octicon-link"></span></a>Disabling Cops within Source Code</h2>

<p>One or more individual cops can be disabled locally in a section of a
file by adding a comment such as</p>

<div class="highlight highlight-ruby"><pre><span class="c1"># rubocop:disable Metrics/LineLength, Style/StringLiterals</span>
<span class="o">[.</span><span class="n">.</span><span class="o">.]</span>
<span class="c1"># rubocop:enable Metrics/LineLength, Style/StringLiterals</span>
</pre></div>

<p>You can also disable <em>all</em> cops with</p>

<div class="highlight highlight-ruby"><pre><span class="c1"># rubocop:disable all</span>
<span class="o">[.</span><span class="n">.</span><span class="o">.]</span>
<span class="c1"># rubocop:enable all</span>
</pre></div>

<p>One or more cops can be disabled on a single line with an end-of-line
comment.</p>

<div class="highlight highlight-ruby"><pre><span class="k">for</span> <span class="n">x</span> <span class="k">in</span> <span class="p">(</span><span class="mi">0</span><span class="o">.</span><span class="n">.</span><span class="mi">19</span><span class="p">)</span> <span class="c1"># rubocop:disable Style/AvoidFor</span>
</pre></div>

<h2>
<a name="user-content-formatters" class="anchor" href="#formatters" aria-hidden="true"><span class="octicon octicon-link"></span></a>Formatters</h2>

<p>You can change the output format of RuboCop by specifying formatters with the <code>-f/--format</code> option.
RuboCop ships with several built-in formatters, and also you can create your custom formatter.</p>

<p>Additionaly the output can be redirected to a file instead of <code>$stdout</code> with the <code>-o/--out</code> option.</p>

<p>Some of the built-in formatters produce <strong>machine-parsable</strong> output
and they are considered public APIs.
The rest of the formatters are for humans, so parsing their outputs is discouraged.</p>

<p>You can enable multiple formatters at the same time by specifying <code>-f/--format</code> multiple times.
The <code>-o/--out</code> option applies to the previously specified <code>-f/--format</code>,
or the default <code>progress</code> format if no <code>-f/--format</code> is specified before the <code>-o/--out</code> option.</p>

<div class="highlight highlight-bash"><pre><span class="c"># Simple format to $stdout.</span>
<span class="nv">$ </span>rubocop --format simple

<span class="c"># Progress (default) format to the file result.txt.</span>
<span class="nv">$ </span>rubocop --out result.txt

<span class="c"># Both progress and offense count formats to $stdout.</span>
<span class="c"># The offense count formatter outputs only the final summary,</span>
<span class="c"># so you'll mostly see the outputs from the progress formatter,</span>
<span class="c"># and at the end the offense count summary will be outputted.</span>
<span class="nv">$ </span>rubocop --format progress --format offenses

<span class="c"># Progress format to $stdout, and JSON format to the file rubocop.json.</span>
<span class="nv">$ </span>rubocop --format progress --format json --out rubocop.json
<span class="c">#         ~~~~~~~~~~~~~~~~~ ~~~~~~~~~~~~~ ~~~~~~~~~~~~~~~~~~</span>
<span class="c">#                 |               |_______________|</span>
<span class="c">#              $stdout</span>

<span class="c"># Progress format to result.txt, and simple format to $stdout.</span>
<span class="nv">$ </span>rubocop --output result.txt --format simple
<span class="c">#         ~~~~~~~~~~~~~~~~~~~ ~~~~~~~~~~~~~~~</span>
<span class="c">#                  |                 |</span>
<span class="c">#           default format        $stdout</span>
</pre></div>

<p>You can also load <a href="#custom-formatters">custom formatters</a>.</p>

<h3>
<a name="user-content-progress-formatter-default" class="anchor" href="#progress-formatter-default" aria-hidden="true"><span class="octicon octicon-link"></span></a>Progress Formatter (default)</h3>

<p>The default <code>progress</code> formatter outputs a character for each inspected file,
and at the end it displays all detected offenses in the <code>clang</code> format.
A <code>.</code> represents a clean file, and each of the capital letters means
the severest offense (convention, warning, error or fatal) found in a file.</p>

<pre><code>$ rubocop
Inspecting 26 files
..W.C....C..CWCW.C...WC.CC

Offenses:

lib/foo.rb:6:5: C: Missing top-level class documentation comment.
    class Foo
    ^^^^^

...

26 files inspected, 46 offenses detected
</code></pre>

<h3>
<a name="user-content-clang-style-formatter" class="anchor" href="#clang-style-formatter" aria-hidden="true"><span class="octicon octicon-link"></span></a>Clang Style Formatter</h3>

<p>The <code>clang</code> formatter displays the offenses in a manner similar to <code>clang</code>:</p>

<pre><code>$ rubocop test.rb
test.rb:1:1: C: Use snake_case for methods and variables.
def badName
    ^^^^^^^
test.rb:2:3: C: Favor modifier if/unless usage when you have a single-line body. Another good alternative is the usage of control flow &amp;&amp;/||.
  if something
  ^^
test.rb:4:5: W: end at 4, 4 is not aligned with if at 2, 2
    end
    ^^^

1 file inspected, 3 offenses detected
</code></pre>

<h3>
<a name="user-content-fuubar-style-formatter" class="anchor" href="#fuubar-style-formatter" aria-hidden="true"><span class="octicon octicon-link"></span></a>Fuubar Style Formatter</h3>

<p>The <code>fuubar</code> style formatter displays a progress bar
and shows details of offenses in the <code>clang</code> format as soon as they are detected.
This is inspired by the <a href="https://github.com/jeffkreeftmeijer/fuubar">Fuubar</a> formatter for RSpec.</p>

<pre><code>$ rubocop --format fuubar
lib/foo.rb.rb:1:1: C: Use snake_case for methods and variables.
def badName
    ^^^^^^^
lib/bar.rb:13:14: W: File.exists? is deprecated in favor of File.exist?.
        File.exists?(path)
             ^^^^^^^
 22/53 files |======== 43 ========&gt;                           |  ETA: 00:00:02
</code></pre>

<h3>
<a name="user-content-emacs-style-formatter" class="anchor" href="#emacs-style-formatter" aria-hidden="true"><span class="octicon octicon-link"></span></a>Emacs Style Formatter</h3>

<p><strong>Machine-parsable</strong></p>

<p>The <code>emacs</code> formatter displays the offenses in a format suitable for consumption by <code>Emacs</code> (and possibly other tools).</p>

<pre><code>$ rubocop --format emacs test.rb
/Users/bozhidar/projects/test.rb:1:1: C: Use snake_case for methods and variables.
/Users/bozhidar/projects/test.rb:2:3: C: Favor modifier if/unless usage when you have a single-line body. Another good alternative is the usage of control flow &amp;&amp;/||.
/Users/bozhidar/projects/test.rb:4:5: W: end at 4, 4 is not aligned with if at 2, 2
</code></pre>

<h3>
<a name="user-content-simple-formatter" class="anchor" href="#simple-formatter" aria-hidden="true"><span class="octicon octicon-link"></span></a>Simple Formatter</h3>

<p>The name of the formatter says it all :-)</p>

<pre><code>$ rubocop --format simple test.rb
== test.rb ==
C:  1:  1: Use snake_case for methods and variables.
C:  2:  3: Favor modifier if/unless usage when you have a single-line body. Another good alternative is the usage of control flow &amp;&amp;/||.
W:  4:  5: end at 4, 4 is not aligned with if at 2, 2

1 file inspected, 3 offenses detected
</code></pre>

<h3>
<a name="user-content-file-list-formatter" class="anchor" href="#file-list-formatter" aria-hidden="true"><span class="octicon octicon-link"></span></a>File List Formatter</h3>

<p><strong>Machine-parsable</strong></p>

<p>Sometimes you might want to just open all files with offenses in your
favorite editor. This formatter outputs just the names of the files
with offenses in them and makes it possible to do something like:</p>

<pre><code>$ rubocop --format files | xargs vim
</code></pre>

<h3>
<a name="user-content-json-formatter" class="anchor" href="#json-formatter" aria-hidden="true"><span class="octicon octicon-link"></span></a>JSON Formatter</h3>

<p><strong>Machine-parsable</strong></p>

<p>You can get RuboCop's inspection result in JSON format by passing <code>--format json</code> option in command line.
The JSON structure is like the following example:</p>

<div class="highlight highlight-javascript"><pre><span class="p">{</span>
  <span class="s2">"metadata"</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">"rubocop_version"</span><span class="o">:</span> <span class="s2">"0.9.0"</span><span class="p">,</span>
    <span class="s2">"ruby_engine"</span><span class="o">:</span> <span class="s2">"ruby"</span><span class="p">,</span>
    <span class="s2">"ruby_version"</span><span class="o">:</span> <span class="s2">"2.0.0"</span><span class="p">,</span>
    <span class="s2">"ruby_patchlevel"</span><span class="o">:</span> <span class="s2">"195"</span><span class="p">,</span>
    <span class="s2">"ruby_platform"</span><span class="o">:</span> <span class="s2">"x86_64-darwin12.3.0"</span>
  <span class="p">},</span>
  <span class="s2">"files"</span><span class="o">:</span> <span class="p">[{</span>
      <span class="s2">"path"</span><span class="o">:</span> <span class="s2">"lib/foo.rb"</span><span class="p">,</span>
      <span class="s2">"offenses"</span><span class="o">:</span> <span class="p">[]</span>
    <span class="p">},</span> <span class="p">{</span>
      <span class="s2">"path"</span><span class="o">:</span> <span class="s2">"lib/bar.rb"</span><span class="p">,</span>
      <span class="s2">"offenses"</span><span class="o">:</span> <span class="p">[{</span>
          <span class="s2">"severity"</span><span class="o">:</span> <span class="s2">"convention"</span><span class="p">,</span>
          <span class="s2">"message"</span><span class="o">:</span> <span class="s2">"Line is too long. [81/80]"</span><span class="p">,</span>
          <span class="s2">"cop_name"</span><span class="o">:</span> <span class="s2">"LineLength"</span><span class="p">,</span>
          <span class="s2">"corrected"</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
          <span class="s2">"location"</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">"line"</span><span class="o">:</span> <span class="mi">546</span><span class="p">,</span>
            <span class="s2">"column"</span><span class="o">:</span> <span class="mi">80</span><span class="p">,</span>
            <span class="s2">"length"</span><span class="o">:</span> <span class="mi">4</span>
          <span class="p">}</span>
        <span class="p">},</span> <span class="p">{</span>
          <span class="s2">"severity"</span><span class="o">:</span> <span class="s2">"warning"</span><span class="p">,</span>
          <span class="s2">"message"</span><span class="o">:</span> <span class="s2">"Unreachable code detected."</span><span class="p">,</span>
          <span class="s2">"cop_name"</span><span class="o">:</span> <span class="s2">"UnreachableCode"</span><span class="p">,</span>
          <span class="s2">"corrected"</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
          <span class="s2">"location"</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">"line"</span><span class="o">:</span> <span class="mi">15</span><span class="p">,</span>
            <span class="s2">"column"</span><span class="o">:</span> <span class="mi">9</span><span class="p">,</span>
            <span class="s2">"length"</span><span class="o">:</span> <span class="mi">10</span>
          <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">]</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="s2">"summary"</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">"offense_count"</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="s2">"target_file_count"</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="s2">"inspected_file_count"</span><span class="o">:</span> <span class="mi">2</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>

<h3>
<a name="user-content-offense-count-formatter" class="anchor" href="#offense-count-formatter" aria-hidden="true"><span class="octicon octicon-link"></span></a>Offense Count Formatter</h3>

<p>Sometimes when first applying RuboCop to a codebase, it's nice to be able to
see where most of your style cleanup is going to be spent.</p>

<p>With this in mind, you can use the offense count formatter to outline the offended
cops and the number of offenses found for each by running:</p>

<pre><code>$ rubocop --format offenses

87   Documentation
12   DotPosition
8    AvoidGlobalVars
7    EmptyLines
6    AssignmentInCondition
4    Blocks
4    CommentAnnotation
3    BlockAlignment
1    IndentationWidth
1    AvoidPerlBackrefs
1    ColonMethodCall
--
134  Total
</code></pre>

<h2>
<a name="user-content-compatibility" class="anchor" href="#compatibility" aria-hidden="true"><span class="octicon octicon-link"></span></a>Compatibility</h2>

<p>RuboCop supports the following Ruby implementations:</p>

<ul class="task-list">
<li>MRI 1.9.3</li>
<li>MRI 2.0</li>
<li>MRI 2.1</li>
<li>JRuby in 1.9 mode</li>
<li>Rubinius 2.0+</li>
</ul><h2>
<a name="user-content-editor-integration" class="anchor" href="#editor-integration" aria-hidden="true"><span class="octicon octicon-link"></span></a>Editor integration</h2>

<h3>
<a name="user-content-emacs" class="anchor" href="#emacs" aria-hidden="true"><span class="octicon octicon-link"></span></a>Emacs</h3>

<p><a href="https://github.com/bbatsov/rubocop-emacs">rubocop.el</a> is a simple
Emacs interface for RuboCop. It allows you to run RuboCop inside Emacs
and quickly jump between problems in your code.</p>

<p><a href="https://github.com/lunaryorn/flycheck">flycheck</a> &gt; 0.9 also supports
RuboCop and uses it by default when available.</p>

<h3>
<a name="user-content-vim" class="anchor" href="#vim" aria-hidden="true"><span class="octicon octicon-link"></span></a>Vim</h3>

<p>The <a href="https://github.com/ngmy/vim-rubocop">vim-rubocop</a> plugin runs
RuboCop and displays the results in Vim.</p>

<p>There's also a RuboCop checker in
<a href="https://github.com/scrooloose/syntastic">syntastic</a>.</p>

<h3>
<a name="user-content-sublime-text" class="anchor" href="#sublime-text" aria-hidden="true"><span class="octicon octicon-link"></span></a>Sublime Text</h3>

<p>If you're a ST user you might find the
<a href="https://github.com/pderichs/sublime_rubocop">Sublime RuboCop plugin</a>
useful.</p>

<h3>
<a name="user-content-brackets" class="anchor" href="#brackets" aria-hidden="true"><span class="octicon octicon-link"></span></a>Brackets</h3>

<p>The <a href="https://github.com/smockle/brackets-rubocop">brackets-rubocop</a>
extension displays RuboCop results in Brackets.
It can be installed via the extension manager in Brackets.</p>

<h3>
<a name="user-content-textmate2" class="anchor" href="#textmate2" aria-hidden="true"><span class="octicon octicon-link"></span></a>TextMate2</h3>

<p>The <a href="https://github.com/mrdougal/textmate2-rubocop">textmate2-rubocop</a>
bundle displays formatted RuboCop results in a new window.
Installation instructions can be found <a href="https://github.com/mrdougal/textmate2-rubocop#installation">here</a>.</p>

<h3>
<a name="user-content-atom" class="anchor" href="#atom" aria-hidden="true"><span class="octicon octicon-link"></span></a>Atom</h3>

<p>The <a href="https://github.com/yujinakayama/atom-lint">atom-lint</a> package
runs RuboCop and highlights the offenses in Atom.</p>

<p>You can also use the <a href="https://github.com/AtomLinter/linter-rubocop">linter-rubocop</a>
plugin for Atom's <a href="https://github.com/AtomLinter/Linter">linter</a>.</p>

<h3>
<a name="user-content-lighttable" class="anchor" href="#lighttable" aria-hidden="true"><span class="octicon octicon-link"></span></a>LightTable</h3>

<p>The <a href="https://github.com/seancaffery/lt-rubocop">lt-rubocop</a> plugin
provides LightTable integration.</p>

<h3>
<a name="user-content-other-editors" class="anchor" href="#other-editors" aria-hidden="true"><span class="octicon octicon-link"></span></a>Other Editors</h3>

<p>Here's one great opportunity to contribute to RuboCop - implement
RuboCop integration for your favorite editor.</p>

<h2>
<a name="user-content-guard-integration" class="anchor" href="#guard-integration" aria-hidden="true"><span class="octicon octicon-link"></span></a>Guard integration</h2>

<p>If you're fond of <a href="https://github.com/guard/guard">Guard</a> you might
like
<a href="https://github.com/yujinakayama/guard-rubocop">guard-rubocop</a>. It
allows you to automatically check Ruby code style with RuboCop when
files are modified.</p>

<h2>
<a name="user-content-rake-integration" class="anchor" href="#rake-integration" aria-hidden="true"><span class="octicon octicon-link"></span></a>Rake integration</h2>

<p>To use RuboCop in your <code>Rakefile</code> add the following:</p>

<div class="highlight highlight-ruby"><pre><span class="nb">require</span> <span class="s1">'rubocop/rake_task'</span>

<span class="no">RuboCop</span><span class="o">::</span><span class="no">RakeTask</span><span class="o">.</span><span class="n">new</span>
</pre></div>

<p>The above will use default values</p>

<div class="highlight highlight-ruby"><pre><span class="nb">require</span> <span class="s1">'rubocop/rake_task'</span>

<span class="n">desc</span> <span class="s1">'Run RuboCop on the lib directory'</span>
<span class="no">RuboCop</span><span class="o">::</span><span class="no">RakeTask</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="ss">:rubocop</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">task</span><span class="o">|</span>
  <span class="n">task</span><span class="o">.</span><span class="n">patterns</span> <span class="o">=</span> <span class="o">[</span><span class="s1">'lib/**/*.rb'</span><span class="o">]</span>
  <span class="c1"># only show the files with failures</span>
  <span class="n">task</span><span class="o">.</span><span class="n">formatters</span> <span class="o">=</span> <span class="o">[</span><span class="s1">'files'</span><span class="o">]</span>
  <span class="c1"># don't abort rake on failure</span>
  <span class="n">task</span><span class="o">.</span><span class="n">fail_on_error</span> <span class="o">=</span> <span class="kp">false</span>
<span class="k">end</span>
</pre></div>

<h2>
<a name="user-content-extensions" class="anchor" href="#extensions" aria-hidden="true"><span class="octicon octicon-link"></span></a>Extensions</h2>

<p>It's possible to extend RuboCop with custom cops and formatters.</p>

<h3>
<a name="user-content-loading-extensions" class="anchor" href="#loading-extensions" aria-hidden="true"><span class="octicon octicon-link"></span></a>Loading Extensions</h3>

<p>Besides the <code>--require</code> command line option you can also specify ruby
files that should be loaded with the optional <code>require</code> directive in the
<code>.rubocop.yml</code> file:</p>

<div class="highlight highlight-yaml"><pre><span class="l-Scalar-Plain">require</span><span class="p-Indicator">:</span>
 <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">../my/custom/file.rb</span>
 <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">rubocop-extension</span>
</pre></div>

<p>Note: The pathes are directly passed to <code>Kernel.require</code>.  If your
extension file is not in <code>$LOAD_PATH</code>, you need to specify the path as
relative path prefixed with <code>./</code> explicitly, or absolute path.</p>

<h3>
<a name="user-content-custom-cops" class="anchor" href="#custom-cops" aria-hidden="true"><span class="octicon octicon-link"></span></a>Custom Cops</h3>

<p>You can configure the custom cops in your <code>.rubocop.yml</code> just like any
other cop.</p>

<h4>
<a name="user-content-known-custom-cops" class="anchor" href="#known-custom-cops" aria-hidden="true"><span class="octicon octicon-link"></span></a>Known Custom Cops</h4>

<ul class="task-list">
<li>
<a href="https://github.com/nevir/rubocop-rspec">rubocop-rspec</a> -
RSpec-specific analysis</li>
</ul><h3>
<a name="user-content-custom-formatters" class="anchor" href="#custom-formatters" aria-hidden="true"><span class="octicon octicon-link"></span></a>Custom Formatters</h3>

<p>You can customize RuboCop's output format with custom formatters.</p>

<h4>
<a name="user-content-creating-custom-formatter" class="anchor" href="#creating-custom-formatter" aria-hidden="true"><span class="octicon octicon-link"></span></a>Creating Custom Formatter</h4>

<p>To implement a custom formatter, you need to subclass
<code>RuboCop::Formatter::BaseFormatter</code> and override some methods,
or implement all formatter API methods by duck typing.</p>

<p>Please see the documents below for more formatter API details.</p>

<ul class="task-list">
<li><a href="http://rubydoc.info/gems/rubocop/RuboCop/Formatter/BaseFormatter">RuboCop::Formatter::BaseFormatter</a></li>
<li><a href="http://rubydoc.info/gems/rubocop/RuboCop/Cop/Offense">RuboCop::Cop::Offense</a></li>
<li><a href="http://rubydoc.info/github/whitequark/parser/Parser/Source/Range">Parser::Source::Range</a></li>
</ul><h4>
<a name="user-content-using-custom-formatter-in-command-line" class="anchor" href="#using-custom-formatter-in-command-line" aria-hidden="true"><span class="octicon octicon-link"></span></a>Using Custom Formatter in Command Line</h4>

<p>You can tell RuboCop to use your custom formatter with a combination of
<code>--format</code> and <code>--require</code> option.
For example, when you have defined <code>MyCustomFormatter</code> in
<code>./path/to/my_custom_formatter.rb</code>, you would type this command:</p>

<pre><code>$ rubocop --require ./path/to/my_custom_formatter --format MyCustomFormatter
</code></pre>

<h2>
<a name="user-content-team" class="anchor" href="#team" aria-hidden="true"><span class="octicon octicon-link"></span></a>Team</h2>

<p>Here's a list of RuboCop's core developers:</p>

<ul class="task-list">
<li><a href="https://github.com/bbatsov">Bozhidar Batsov</a></li>
<li><a href="https://github.com/jonas054">Jonas Arvidsson</a></li>
<li><a href="https://github.com/yujinakayama">Yuji Nakayama</a></li>
<li><a href="https://github.com/edzhelyov">Evgeni Dzhelyov</a></li>
</ul><h2>
<a name="user-content-contributors" class="anchor" href="#contributors" aria-hidden="true"><span class="octicon octicon-link"></span></a>Contributors</h2>

<p>Here's a <a href="https://github.com/bbatsov/rubocop/contributors">list</a> of
all the people who have contributed to the development of RuboCop.</p>

<p>I'm extremely grateful to each and every one of them!</p>

<p>If you'd like to contribute to RuboCop, please take the time to go
through our short
<a href="CONTRIBUTING.md">contribution guidelines</a>.</p>

<p>Converting more of the Ruby Style Guide into RuboCop cops is our top
priority right now. Writing a new cop is a great way to dive into RuboCop!</p>

<p>Of course, bug reports and suggestions for improvements are always
welcome. GitHub pull requests are even better! :-)</p>

<p>I'm also accepting financial contributions via <a href="https://www.gittip.com/bbatsov">gittip</a>.</p>

<p><a href="https://www.gittip.com/bbatsov"><img src="https://camo.githubusercontent.com/2c87fe287dc4ddfa84a5b5f53df03b33e1f703fd/68747470733a2f2f7261776769746875622e636f6d2f74776f6c66736f6e2f6769747469702d62616467652f302e322e302f646973742f6769747469702e706e67" alt="Support via Gittip" data-canonical-src="https://rawgithub.com/twolfson/gittip-badge/0.2.0/dist/gittip.png" style="max-width:100%;"></a></p>

<h2>
<a name="user-content-mailing-list" class="anchor" href="#mailing-list" aria-hidden="true"><span class="octicon octicon-link"></span></a>Mailing List</h2>

<p>If you're interested in everything regarding RuboCop's development,
consider joining its
<a href="https://groups.google.com/forum/?fromgroups#!forum/rubocop">Google Group</a>.</p>

<h2>
<a name="user-content-freenode" class="anchor" href="#freenode" aria-hidden="true"><span class="octicon octicon-link"></span></a>Freenode</h2>

<p>If you're into IRC you can visit the <code>#rubocop</code> channel on Freenode.</p>

<h2>
<a name="user-content-changelog" class="anchor" href="#changelog" aria-hidden="true"><span class="octicon octicon-link"></span></a>Changelog</h2>

<p>RuboCop's changelog is available <a href="CHANGELOG.md">here</a>.</p>

<h2>
<a name="user-content-copyright" class="anchor" href="#copyright" aria-hidden="true"><span class="octicon octicon-link"></span></a>Copyright</h2>

<p>Copyright (c) 2012-2014 Bozhidar Batsov. See <a href="LICENSE.txt">LICENSE.txt</a> for
further details.</p></article></div>