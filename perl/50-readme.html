<div class="announce instapaper_body md" data-path="README.md" id="readme"><article class="markdown-body entry-content" itemprop="mainContentOfPage"><p><a href="https://camo.githubusercontent.com/83a38fef9244f9c1105cfc216c3a9473c0a2bbdd/687474703a2f2f7175616c697479636f64696e672e6f72672f6a7277702f77702d636f6e74656e742f75706c6f6164732f323031342f30332f58636f6465436f7665726167652e706e67" target="_blank"><img src="https://camo.githubusercontent.com/83a38fef9244f9c1105cfc216c3a9473c0a2bbdd/687474703a2f2f7175616c697479636f64696e672e6f72672f6a7277702f77702d636f6e74656e742f75706c6f6164732f323031342f30332f58636f6465436f7665726167652e706e67" alt="XcodeCoverage" data-canonical-src="http://qualitycoding.org/jrwp/wp-content/uploads/2014/03/XcodeCoverage.png" style="max-width:100%;"></a></p>

<p>These scripts provide a simple way to generate HTML reports of the code coverage
of your Xcode project.  </p>

<h1>
<a name="user-content-installation" class="anchor" href="#installation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installation</h1>

<ol class="task-list">
<li>Fork this repository; you're probably going to want to make your own
modifications.</li>
<li>Place the XcodeCoverage folder in the same folder as your Xcode project.</li>
<li>Depending on your version of Xcode, you may need to get Xcode's coverage
instrumentation by going to Xcode Preferences, into Downloads, and installing
Command Line Tools.</li>
<li>In your Xcode project, enable these two build settings at the project level
for your Debug configuration only:

<ul class="task-list">
<li>Instrument Program Flow</li>
<li>Generate Test Coverage Files</li>
</ul>
</li>
<li>In your main target, add a Run Script build phase to execute
<code>XcodeCoverage/exportenv.sh</code>
</li>
</ol><p>A few people have been tripped up by the last step: Make sure you add the
script to your main target (your app or library), not your test target.</p>

<h1>
<a name="user-content-execution" class="anchor" href="#execution" aria-hidden="true"><span class="octicon octicon-link"></span></a>Execution</h1>

<ol class="task-list">
<li>Run your unit tests</li>
<li>In Terminal, execute <code>getcov</code> in your project's XcodeCoverage folder.</li>
</ol><p>If you make changes to your test code without changing the production code and
want a clean slate, use the <code>cleancov</code> script.</p>

<p>If you make changes to your production code, you should clear out all build
artifacts before measuring code coverage again. "Clean Build Folder" by holding
down the Option key in Xcode's "Product" menu.</p>

<p><strong>Optional:</strong> XcodeCoverage can prompt to run code coverage after running unit tests:</p>

<ul class="task-list">
<li>Edit Xcode scheme -&gt; Test -&gt; Post-actions</li>
<li>Set "Shell" to: <code>/bin/bash</code>
</li>
<li>Set "Provide build settings from" to your main target</li>
<li>Set script to:
<code>source ${SRCROOT}/XcodeCoverage/run_code_coverage_post.sh</code>
</li>
</ul><h1>
<a name="user-content-modification" class="anchor" href="#modification" aria-hidden="true"><span class="octicon octicon-link"></span></a>Modification</h1>

<p>There are two places you may want to modify:</p>

<ol class="task-list">
<li>In envcov.sh, <code>LCOV_INFO</code> determines the name shown in the report.</li>
<li>In getcov, edit <code>exclude_data()</code> to specify which files to exclude, for
example, third-party libraries.</li>
</ol></article></div>