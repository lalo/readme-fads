<div class="announce instapaper_body md" data-path="README.md" id="readme"><article class="markdown-body entry-content" itemprop="mainContentOfPage"><h1>
<a name="user-content-markdown-to-inao-format" class="anchor" href="#markdown-to-inao-format" aria-hidden="true"><span class="octicon octicon-link"></span></a>Markdown to Inao-Format</h1>

<p><a href="https://heroku.com/deploy"><img src="https://camo.githubusercontent.com/c0824806f5221ebb7d25e559568582dd39dd1170/68747470733a2f2f7777772e6865726f6b7563646e2e636f6d2f6465706c6f792f627574746f6e2e706e67" alt="Deploy" data-canonical-src="https://www.herokucdn.com/deploy/button.png" style="max-width:100%;"></a></p>

<p><a href="https://travis-ci.org/naoya/md2inao"><img src="https://camo.githubusercontent.com/9d3aa8ff512cad3d3105631c3d8866d9180d4ee8/68747470733a2f2f7472617669732d63692e6f72672f6e616f79612f6d6432696e616f2e706e673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/naoya/md2inao.png?branch=master" style="max-width:100%;"></a> <a href="https://coveralls.io/r/naoya/md2inao"><img src="https://camo.githubusercontent.com/10557be3b48116fd6627d8774abc78f90a2fb306/68747470733a2f2f636f766572616c6c732e696f2f7265706f732f6e616f79612f6d6432696e616f2f62616467652e706e673f6272616e63683d6d6173746572" alt="Coverage Status" data-canonical-src="https://coveralls.io/repos/naoya/md2inao/badge.png?branch=master" style="max-width:100%;"></a></p>

<h2>
<a name="user-content-%E6%A6%82%E8%A6%81" class="anchor" href="#%E6%A6%82%E8%A6%81" aria-hidden="true"><span class="octicon octicon-link"></span></a>概要</h2>

<p>Markdown で書かれたテキストをWEB+DB編集部で使用しているInDesign用フォーマットに変換します。主にWEB+DB編集部の方のためのツールですが、執筆者にとってもmarkdownの原稿がWEB+DBの原稿のスタイルに従っているかどうかをチェックするツールとして使えます。</p>

<ul class="task-list">
<li>bin/md2inao.pl : CUIコマンド版</li>
<li>
<a href="http://md2inao.bloghackers.net/">http://md2inao.bloghackers.net/</a> : Web版</li>
</ul><p>markdown2inao.pl 改め md2inao.pl のこれまでについては <a href="https://gist.github.com/inao/baea09bc6fc53551886b">https://gist.github.com/inao/baea09bc6fc53551886b</a> を見て下さい。なお、md2inaoは当初「inao記法」に変換していましたが、現在はWEB+DB編集部用InDesignフォーマットを出力します。</p>

<h2>
<a name="user-content-%E4%BD%BF%E3%81%84%E6%96%B9" class="anchor" href="#%E4%BD%BF%E3%81%84%E6%96%B9" aria-hidden="true"><span class="octicon octicon-link"></span></a>使い方</h2>

<h3>
<a name="user-content-cui%E7%89%88" class="anchor" href="#cui%E7%89%88" aria-hidden="true"><span class="octicon octicon-link"></span></a>CUI版</h3>

<pre><code>% md2inao.pl your_markdown.md &gt; path/to/output.txt
</code></pre>

<h4>
<a name="user-content-cpan%E3%81%8B%E3%82%89%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB" class="anchor" href="#cpan%E3%81%8B%E3%82%89%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB" aria-hidden="true"><span class="octicon octicon-link"></span></a>CPANからインストール</h4>

<pre><code># webからcpanmをDLしてそのままそれを使ってmd2inaoをインストール
% curl -L http://cpanmin.us | perl - --sudo Text::Md2Inao
% md2inao.pl your_markdown.md &gt; path/to/output.txt
</code></pre>

<h4>
<a name="user-content-%E3%83%AA%E3%83%9D%E3%82%B8%E3%83%88%E3%83%AA%E3%81%8B%E3%82%89%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB" class="anchor" href="#%E3%83%AA%E3%83%9D%E3%82%B8%E3%83%88%E3%83%AA%E3%81%8B%E3%82%89%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB" aria-hidden="true"><span class="octicon octicon-link"></span></a>リポジトリからインストール</h4>

<p>リポジトリからインストールする場合、Perl/CPANの知識が必要です。</p>

<pre><code>% cpanm Carton
% carton install
% carton exec -- perl bin/md2inao.pl your_markdown.md &gt; path/to/output.txt
</code></pre>

<h3>
<a name="user-content-web%E7%89%88" class="anchor" href="#web%E7%89%88" aria-hidden="true"><span class="octicon octicon-link"></span></a>Web版</h3>

<ul class="task-list">
<li><a href="http://md2inao.bloghackers.net/">http://md2inao.bloghackers.net/</a></li>
</ul><h2>
<a name="user-content-%E5%87%BA%E5%8A%9B%E8%A6%8B%E6%9C%AC" class="anchor" href="#%E5%87%BA%E5%8A%9B%E8%A6%8B%E6%9C%AC" aria-hidden="true"><span class="octicon octicon-link"></span></a>出力見本</h2>

<p>PDFにすると、以下のような仕上がりになります。</p>

<h3>
<a name="user-content-%E6%9B%B8%E7%B1%8D%E7%89%88" class="anchor" href="#%E6%9B%B8%E7%B1%8D%E7%89%88" aria-hidden="true"><span class="octicon octicon-link"></span></a>書籍版</h3>

<ul class="task-list">
<li><a href="https://docs.google.com/open?id=0BzbGMS73rIkDUXpyUVlrSUxURXlmMXhQRV9Ua2JCUQ">https://docs.google.com/open?id=0BzbGMS73rIkDUXpyUVlrSUxURXlmMXhQRV9Ua2JCUQ</a></li>
</ul><h3>
<a name="user-content-webdb-press%E7%89%88" class="anchor" href="#webdb-press%E7%89%88" aria-hidden="true"><span class="octicon octicon-link"></span></a>WEB+DB PRESS版</h3>

<ul class="task-list">
<li><a href="https://docs.google.com/open?id=0BzbGMS73rIkDZjdCTnBkMDFUaGF2UDJIdTNfaVJUUQ">https://docs.google.com/open?id=0BzbGMS73rIkDZjdCTnBkMDFUaGF2UDJIdTNfaVJUUQ</a></li>
</ul><h2>
<a name="user-content-markdown%E3%81%A7%E3%81%AE%E5%8E%9F%E7%A8%BF%E3%81%AE%E6%9B%B8%E3%81%8D%E6%96%B9" class="anchor" href="#markdown%E3%81%A7%E3%81%AE%E5%8E%9F%E7%A8%BF%E3%81%AE%E6%9B%B8%E3%81%8D%E6%96%B9" aria-hidden="true"><span class="octicon octicon-link"></span></a>Markdownでの原稿の書き方</h2>

<p>md2inao を利用すると Markdown フォーマットで原稿を書くことができますが、当然のことながら、なんの制約もなく Markdown フォーマットで書けばよしなに変換してくれるというものではありません。以下、原稿を書くにあたっての Markdown の使い方について解説します。</p>

<h3>
<a name="user-content-%E5%8E%9F%E7%A8%BF%E3%81%AE%E4%BE%8B" class="anchor" href="#%E5%8E%9F%E7%A8%BF%E3%81%AE%E4%BE%8B" aria-hidden="true"><span class="octicon octicon-link"></span></a>原稿の例</h3>

<pre><code>Title: RubyMotion入門
Subtitle: RubyでiOSネイティブアプリ!
Author: 伊藤 直也
Author(romaji): ITO Naoya
Twitter: @naoya_ito

# RubyMotion とは

　[RubyMotion](http://rubymotion.com/) は、RubyでiOSのネイティブアプリケーションが作れるツールチェインです。Apple で MacRuby を開発していた Laurent Sansonetti さんが Apple 退職後に興した会社 Hipbyte が、2012年5月に発売を開始しました。

# RubyMotion で Hello, World

　早速コードを書いてみましょう。以下が Hello, World のコードです。

    class HelloViewController &lt; UIViewController
      def viewDidLoad
        super
        @label = UILabel.new
        @label.frame = [[10, 10], [320, 20]]
        @label.text = "Hello, World"

        view.addSubview(@label)
      end
    end

簡単ですね！

- HelloViewController を定義
- `viewDidLoad` をオーバーライド
- `UILabel.new` でラベルインスタンスを作成
- `view.addSubview` でビューに追加

しているだけです。出力は以下のようになります。

![Hello, Worldの出力](images/hello_world.png)
</code></pre>

<h3>
<a name="user-content-%E5%9F%BA%E6%9C%AC%E7%9A%84%E3%81%AA%E8%80%83%E3%81%88%E6%96%B9" class="anchor" href="#%E5%9F%BA%E6%9C%AC%E7%9A%84%E3%81%AA%E8%80%83%E3%81%88%E6%96%B9" aria-hidden="true"><span class="octicon octicon-link"></span></a>基本的な考え方</h3>

<p>Markdown は Markdown プロセッサで解釈すると、通常は HTML に変換されます。md2inao はその書 HTML の各要素を Inao 記法 (もしくは技術評論社の InDesign フォーマット) に変換して最終的な出力を作っています。</p>

<p>従って Markdown を書きながらも出力される HTML 構造がどの要素になって、その要素が論理構造的にどういったものか、をある程度想定しておけばだいたい想像した通りの出力になると思ってください。</p>

<p>また、Markdown で定義されてない記述も HTML を使うことによって定義することもできます。一部の記法は HTML で書くことが前提になっています。</p>

<p>いまのところ GitHub Flavored Markdown などの拡張すべてには対応していませんのでその点に注意してください。</p>

<h4>
<a name="user-content-%E6%96%87%E4%B8%AD%E3%81%AB-html-%E3%82%92%E6%9B%B8%E3%81%8F%E9%9A%9B%E3%81%AE%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A0%85" class="anchor" href="#%E6%96%87%E4%B8%AD%E3%81%AB-html-%E3%82%92%E6%9B%B8%E3%81%8F%E9%9A%9B%E3%81%AE%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A0%85" aria-hidden="true"><span class="octicon octicon-link"></span></a>文中に HTML を書く際の注意事項</h4>

<p>Markdown の仕様では当然のことながら、HTML タグは HTML タグとして解釈されます。文中に HTML を書きたい場合は以下のいずれかの方法でエスケープしてください。</p>

<h5>
<a name="user-content-code-%E8%A8%98%E6%B3%95%E3%82%92%E4%BD%BF%E3%81%86" class="anchor" href="#code-%E8%A8%98%E6%B3%95%E3%82%92%E4%BD%BF%E3%81%86" aria-hidden="true"><span class="octicon octicon-link"></span></a>code 記法を使う</h5>

<pre><code>`&lt;strong&gt;`
</code></pre>

<h5>
<a name="user-content-%E5%AE%9F%E4%BD%93%E5%8F%82%E7%85%A7%E3%82%92%E4%BD%BF%E3%81%86" class="anchor" href="#%E5%AE%9F%E4%BD%93%E5%8F%82%E7%85%A7%E3%82%92%E4%BD%BF%E3%81%86" aria-hidden="true"><span class="octicon octicon-link"></span></a>実体参照を使う</h5>

<pre><code>&amp;lt;strong&amp;gt;
</code></pre>

<h3>
<a name="user-content-%E3%83%A1%E3%82%BF%E3%83%87%E3%83%BC%E3%82%BF%E3%82%BF%E3%82%A4%E3%83%88%E3%83%AB%E8%91%97%E8%80%85%E5%90%8D%E3%81%AA%E3%81%A9" class="anchor" href="#%E3%83%A1%E3%82%BF%E3%83%87%E3%83%BC%E3%82%BF%E3%82%BF%E3%82%A4%E3%83%88%E3%83%AB%E8%91%97%E8%80%85%E5%90%8D%E3%81%AA%E3%81%A9" aria-hidden="true"><span class="octicon octicon-link"></span></a>メタデータ（タイトル、著者名など）</h3>

<p>テキストファイルの冒頭に、以下のメタデータを書きます。メタデータには原稿や書籍のタイトル、章番号、著者名などの情報を入力してください。本メタデータは <a href="http://hiltmon.com/blog/2012/06/18/markdown-metadata/">http://hiltmon.com/blog/2012/06/18/markdown-metadata/</a> の仕様に従っていますが、GitHub Flavored Markdown では解釈されないため、GitHub 上では HTML での表示が崩れますがスルーしてください。</p>

<pre><code>Chapter: 3（章番号）
Serial: 5（連載回数）
Title: Markdown to Inao（タイトル）
Subtitle: Convert markdown text to Inao format（キャッチコピー）
Author: 伊藤 直也（著者名）
Author(romaji): ITO Naoya（著者名のローマ字表記）
Supervisor: 山田 太郎（監修者名）
Supervisor(romaji): YAMADA Taro（監修者名のローマ字表記）
Affiliation: 技術評論社（所属）
URL: http://naoya.github.com/
mail: i.naoya@gmail.com
GitHub: naoya
Twitter: @naoya_ito

Hello, World（本文）
</code></pre>

<h4>
<a name="user-content-%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A0%85" class="anchor" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A0%85" aria-hidden="true"><span class="octicon octicon-link"></span></a>注意事項</h4>

<ul class="task-list">
<li>Title、Subtitle、Author、Author(romaji)は必須です</li>
<li>テキストファイルの冒頭に書く必要があります</li>
<li>メタデータと本文の間に空行が必要です</li>
<li>任意のメタデータを追加可能ですが、キーにマルチバイト文字は使えません</li>
</ul><h3>
<a name="user-content-%E8%A6%8B%E5%87%BA%E3%81%97" class="anchor" href="#%E8%A6%8B%E5%87%BA%E3%81%97" aria-hidden="true"><span class="octicon octicon-link"></span></a>見出し</h3>

<p>各章の配下、各記事（連載、一般記事）の配下には、見出しが3階層まで使えます。</p>

<pre><code># 大見出し（節）
## 中見出し（項）
### 小見出し（目）
</code></pre>

<h4>
<a name="user-content-%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A0%85-1" class="anchor" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A0%85-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>注意事項</h4>

<p>章に<code>#</code>をお使いになる方が多いですが、<code>#</code>は上記のように大見出しにお使いください。
章の分割はテキストファイルの分割で認識します。</p>

<h4>
<a name="user-content-%E9%9D%9E%E6%8E%A8%E5%A5%A8" class="anchor" href="#%E9%9D%9E%E6%8E%A8%E5%A5%A8" aria-hidden="true"><span class="octicon octicon-link"></span></a>非推奨</h4>

<p>md2inao的には以下の記法にも対応していますが、現状は非推奨です（アウトラインの作成がちょっとめんどうになるので）。</p>

<pre><code>大見出し（節）
===============

中見出し（項）
---------------
</code></pre>

<h3>
<a name="user-content-%E7%AE%87%E6%9D%A1%E6%9B%B8%E3%81%8D%E3%83%AA%E3%82%B9%E3%83%88" class="anchor" href="#%E7%AE%87%E6%9D%A1%E6%9B%B8%E3%81%8D%E3%83%AA%E3%82%B9%E3%83%88" aria-hidden="true"><span class="octicon octicon-link"></span></a>箇条書き（リスト）</h3>

<h4>
<a name="user-content-%E7%AE%87%E6%9D%A1%E6%9B%B8%E3%81%8D" class="anchor" href="#%E7%AE%87%E6%9D%A1%E6%9B%B8%E3%81%8D" aria-hidden="true"><span class="octicon octicon-link"></span></a>箇条書き</h4>

<p>両記法に対応していますが、同一原稿では、どちらかで統一してください。</p>

<pre><code>* 箇条書き
* 箇条書き
* 箇条書き

- 箇条書き
- 箇条書き
- 箇条書き
</code></pre>

<h4>
<a name="user-content-%E9%9A%8E%E5%B1%A4%E4%BB%98%E3%81%8D%E7%AE%87%E6%9D%A1%E6%9B%B8%E3%81%8D%E3%83%8D%E3%82%B9%E3%83%88%E3%81%97%E3%81%9F%E3%83%AA%E3%82%B9%E3%83%88" class="anchor" href="#%E9%9A%8E%E5%B1%A4%E4%BB%98%E3%81%8D%E7%AE%87%E6%9D%A1%E6%9B%B8%E3%81%8D%E3%83%8D%E3%82%B9%E3%83%88%E3%81%97%E3%81%9F%E3%83%AA%E3%82%B9%E3%83%88" aria-hidden="true"><span class="octicon octicon-link"></span></a>階層付き箇条書き（ネストしたリスト）</h4>

<p>両記法に対応していますが、同一原稿では、どちらかで統一していただきたいです。</p>

<pre><code>* 箇条書き
    * 箇条書き2階層目
    * 箇条書き2階層目
    * 箇条書き2階層目

- 箇条書き
    - 箇条書き2階層目
    - 箇条書き2階層目
    - 箇条書き2階層目
</code></pre>

<h5>
<a name="user-content-%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A0%85-2" class="anchor" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A0%85-2" aria-hidden="true"><span class="octicon octicon-link"></span></a>注意事項</h5>

<ul class="task-list">
<li>GitHub Flavored Markdownでは半角スペース1～3つの行頭字下げによるネストにも対応していますが、md2inaoは4つ以上にのみ対応しています</li>
<li>3階層目は使用できません</li>
</ul><h4>
<a name="user-content-%E8%AA%AC%E6%98%8E%E3%81%A4%E3%81%8D%E7%AE%87%E6%9D%A1%E6%9B%B8%E3%81%8Ddtdd" class="anchor" href="#%E8%AA%AC%E6%98%8E%E3%81%A4%E3%81%8D%E7%AE%87%E6%9D%A1%E6%9B%B8%E3%81%8Ddtdd" aria-hidden="true"><span class="octicon octicon-link"></span></a>説明つき箇条書き（dt、dd）</h4>

<p>Markdown の説明つき箇条書きには対応していないので、HTML でマークアップしてください。</p>

<pre><code>&lt;dl&gt;
  &lt;dt&gt;箇条書き&lt;/dt&gt;
  &lt;dd&gt;箇条書きの説明文&lt;/dd&gt;
  &lt;dt&gt;箇条書き&lt;/dt&gt;
  &lt;dd&gt;箇条書きの説明文&lt;/dd&gt;
&lt;/dl&gt;
</code></pre>

<h5>
<a name="user-content-%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A0%85-3" class="anchor" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A0%85-3" aria-hidden="true"><span class="octicon octicon-link"></span></a>注意事項</h5>

<ul class="task-list">
<li>この説明つき箇条書きのようなHTMLで記述した箇条書き中では、<code>_イタリック_</code>や<code>**強調**</code>などの文中記号は使えません（以降のHTML系の箇条書きでも同様です）</li>
</ul><h4>
<a name="user-content-%E9%80%A3%E7%95%AA%E7%AE%87%E6%9D%A1%E6%9B%B8%E3%81%8D%E9%BB%92%E4%B8%B8%E6%95%B0%E5%AD%97" class="anchor" href="#%E9%80%A3%E7%95%AA%E7%AE%87%E6%9D%A1%E6%9B%B8%E3%81%8D%E9%BB%92%E4%B8%B8%E6%95%B0%E5%AD%97" aria-hidden="true"><span class="octicon octicon-link"></span></a>連番箇条書き（黒丸数字）</h4>

<p>黒丸囲みの1、2、3……が行頭につきます。</p>

<pre><code>1. 連番箇条書き
2. 連番箇条書き
3. 連番箇条書き
</code></pre>

<p>本文で黒丸囲みの1、2、3……を書く場合は、(d1)、(d2)、(d3)と書いてください（discのdです）。</p>

<ul class="task-list">
<li>手順など順列の箇条書きにのみ使用してください。</li>
<li>順列ではないけど、行頭記号を区別したい場合は、次のアルファベット箇条書きを使ってください。</li>
</ul><h6>
<a name="user-content-%E3%81%9D%E3%81%AE%E3%81%BB%E3%81%8B%E3%81%AE%E9%80%A3%E7%95%AA%E7%AE%87%E6%9D%A1%E6%9B%B8%E3%81%8D%E7%99%BD%E4%B8%B8%E6%95%B0%E5%AD%97%E9%BB%92%E5%9B%9B%E8%A7%92%E6%95%B0%E5%AD%97" class="anchor" href="#%E3%81%9D%E3%81%AE%E3%81%BB%E3%81%8B%E3%81%AE%E9%80%A3%E7%95%AA%E7%AE%87%E6%9D%A1%E6%9B%B8%E3%81%8D%E7%99%BD%E4%B8%B8%E6%95%B0%E5%AD%97%E9%BB%92%E5%9B%9B%E8%A7%92%E6%95%B0%E5%AD%97" aria-hidden="true"><span class="octicon octicon-link"></span></a>そのほかの連番箇条書き（白丸数字、黒四角数字）</h6>

<p>上述した連番箇条書き（黒丸数字）がデフォルトですが、白丸数字や黒四角数字にすることもできます。連番箇条書きが連続して登場し紛らわしくなる場合などにご利用ください。</p>

<pre><code>&lt;ol class='circle'&gt;
    &lt;li&gt;連番箇条書き（白丸数字）&lt;/li&gt;
    &lt;li&gt;連番箇条書き（白丸数字）&lt;/li&gt;
    &lt;li&gt;連番箇条書き（白丸数字）&lt;/li&gt;
&lt;/ol&gt;
</code></pre>

<p>本文で白丸囲みの1、2、3……を書く場合は、(c1)、(c2)、(c3)と書いてください（circleのcです）。</p>

<pre><code>&lt;ol class='square'&gt;
    &lt;li&gt;連番箇条書き（黒四角数字）&lt;/li&gt;
    &lt;li&gt;連番箇条書き（黒四角数字）&lt;/li&gt;
    &lt;li&gt;連番箇条書き（黒四角数字）&lt;/li&gt;
&lt;/ol&gt;
</code></pre>

<p>本文で黒四角囲みの1、2、3……を書く場合は、(s1)、(s2)、(s3)と書いてください（squareのsです）。</p>

<h4>
<a name="user-content-%E3%82%A2%E3%83%AB%E3%83%95%E3%82%A1%E3%83%99%E3%83%83%E3%83%88%E7%AE%87%E6%9D%A1%E6%9B%B8%E3%81%8D%E9%BB%92%E4%B8%B8%E5%9B%B2%E3%81%BF" class="anchor" href="#%E3%82%A2%E3%83%AB%E3%83%95%E3%82%A1%E3%83%99%E3%83%83%E3%83%88%E7%AE%87%E6%9D%A1%E6%9B%B8%E3%81%8D%E9%BB%92%E4%B8%B8%E5%9B%B2%E3%81%BF" aria-hidden="true"><span class="octicon octicon-link"></span></a>アルファベット箇条書き（黒丸囲み）</h4>

<p>黒丸囲みのa、b、c……が行頭につきます。</p>

<pre><code>&lt;ol class='alpha'&gt;
    &lt;li&gt;アルファベット箇条書き&lt;/li&gt;
    &lt;li&gt;アルファベット箇条書き&lt;/li&gt;
    &lt;li&gt;アルファベット箇条書き&lt;/li&gt;
&lt;/ol&gt;
</code></pre>

<p>本文で黒丸囲みのa、b、c……を書く場合は、(a1)、(a2)、(a3)と書いてください（alphabetのaです）。</p>

<h3>
<a name="user-content-%E3%82%B3%E3%83%BC%E3%83%89%E3%83%96%E3%83%AD%E3%83%83%E3%82%AF%E3%82%BD%E3%83%BC%E3%82%B9%E3%82%B3%E3%83%BC%E3%83%89%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89" class="anchor" href="#%E3%82%B3%E3%83%BC%E3%83%89%E3%83%96%E3%83%AD%E3%83%83%E3%82%AF%E3%82%BD%E3%83%BC%E3%82%B9%E3%82%B3%E3%83%BC%E3%83%89%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89" aria-hidden="true"><span class="octicon octicon-link"></span></a>コードブロック（ソースコード、コマンド）</h3>

<h4>
<a name="user-content-%E6%9C%AC%E6%96%87%E4%B8%AD%E3%81%AE%E3%82%B3%E3%83%BC%E3%83%89%E3%83%96%E3%83%AD%E3%83%83%E3%82%AF" class="anchor" href="#%E6%9C%AC%E6%96%87%E4%B8%AD%E3%81%AE%E3%82%B3%E3%83%BC%E3%83%89%E3%83%96%E3%83%AD%E3%83%83%E3%82%AF" aria-hidden="true"><span class="octicon octicon-link"></span></a>本文中のコードブロック</h4>

<p>行頭半角スペース4つで字下げします。</p>

<pre><code>    function bar(b) {
        alert(b);
    }
</code></pre>

<p>GitHub Flavored Markdown のFenced code blocks記法にも対応しています。</p>

<pre><code>```
function bar(b) {
    alert(b);
}
```
</code></pre>

<p><code>(注:)</code>は黒地に白文字となり、見出しやコメント的に使えます。</p>

<pre><code>    (注:見出し的に使う)
    function bar(b) {
        alert(b); (注:こんな風にコメントがつけられます)
    }
</code></pre>

<h4>
<a name="user-content-%E6%9C%AC%E6%96%87%E4%B8%AD%E3%81%AE%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89%E3%83%96%E3%83%AD%E3%83%83%E3%82%AFwebdb-press%E3%81%AF%E6%9C%AA%E4%BD%BF%E7%94%A8" class="anchor" href="#%E6%9C%AC%E6%96%87%E4%B8%AD%E3%81%AE%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89%E3%83%96%E3%83%AD%E3%83%83%E3%82%AFwebdb-press%E3%81%AF%E6%9C%AA%E4%BD%BF%E7%94%A8" aria-hidden="true"><span class="octicon octicon-link"></span></a>本文中のコマンドブロック（WEB+DB PRESSは未使用）</h4>

<p>先頭行を<code>!!! cmd</code>とすると、コマンドラインっぽく黒地に白文字になります。</p>

<p>この場合の<code>(注:)</code>は、逆に白地に黒文字となります。</p>

<pre><code>    !!! cmd
    (注:見出し的に使う)
    $ command
    bar (注:こんな風にコメントがつけられます)
</code></pre>

<p>コマンド行の行頭には、上記のようにプロンプト（$など）を書いてください。</p>

<p>なお、この記法を使うのは一部の書籍のみです。WEB+DB PRESSなどでは未使用で、未使用の媒体では、コマンドの場合もインラインのコードブロックと同様の書き方をしてください。</p>

<h4>
<a name="user-content-%E5%88%A5%E3%83%9C%E3%83%83%E3%82%AF%E3%82%B9%E3%81%AE%E3%82%B3%E3%83%BC%E3%83%89%E3%83%96%E3%83%AD%E3%83%83%E3%82%AF%E3%83%AA%E3%82%B9%E3%83%88" class="anchor" href="#%E5%88%A5%E3%83%9C%E3%83%83%E3%82%AF%E3%82%B9%E3%81%AE%E3%82%B3%E3%83%BC%E3%83%89%E3%83%96%E3%83%AD%E3%83%83%E3%82%AF%E3%83%AA%E3%82%B9%E3%83%88" aria-hidden="true"><span class="octicon octicon-link"></span></a>別ボックスのコードブロック（リスト）</h4>

<p>別ボックスの「リスト」として掲載するコードには、先頭行に<code>●リスト1::キャプション</code>を書いてください。</p>

<pre><code>    ●リスト1::キャプション
    (注:見出し的に使う)
    function bar(b) {
        alert(b); (注:こんな風にコメントがつけられます)
    }
</code></pre>

<h4>
<a name="user-content-%E5%88%A5%E3%83%9C%E3%83%83%E3%82%AF%E3%82%B9%E3%81%AE%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89%E3%83%96%E3%83%AD%E3%83%83%E3%82%AF%E5%9B%B3" class="anchor" href="#%E5%88%A5%E3%83%9C%E3%83%83%E3%82%AF%E3%82%B9%E3%81%AE%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89%E3%83%96%E3%83%AD%E3%83%83%E3%82%AF%E5%9B%B3" aria-hidden="true"><span class="octicon octicon-link"></span></a>別ボックスのコマンドブロック（図）</h4>

<p>別ボックスの「図」として掲載するコマンドには、先頭行に<code>!!! cmd</code>と<code>●図1::キャプション</code>を書いてください。</p>

<pre><code>    !!! cmd
    ●図1::キャプション`
    (注:見出し的に使う)
    $ command
    bar (注:こんな風にコメントがつけられます)
</code></pre>

<p>コマンド行の行頭には、上記のようにプロンプト（$など）を書いてください。</p>

<p>こちらはWEB+DB PRESSなどでも使います。</p>

<h3>
<a name="user-content-%E5%9B%B3%E3%81%AE%E7%94%BB%E5%83%8F" class="anchor" href="#%E5%9B%B3%E3%81%AE%E7%94%BB%E5%83%8F" aria-hidden="true"><span class="octicon octicon-link"></span></a>図の画像</h3>

<p>以下の両記法に対応していますが、同一原稿では、どちらかで統一していただきたいです。</p>

<p>また、必ず独立した段落としてお書きください（本文段落中に書かないでください）。</p>

<pre><code>![キャプション](images/hoge.png)

&lt;img src="images/hoge.png" width="320" alt="キャプション" /&gt;
</code></pre>

<h3>
<a name="user-content-%E6%B3%A8%E9%87%88%E3%83%AA%E3%83%B3%E3%82%AF" class="anchor" href="#%E6%B3%A8%E9%87%88%E3%83%AA%E3%83%B3%E3%82%AF" aria-hidden="true"><span class="octicon octicon-link"></span></a>注釈、リンク</h3>

<p>次の2つの記法が使えます。紙面ではいずれも注釈になり、両者の違いはありません。</p>

<pre><code>[リンクの対象](URL)

注釈の対象(注:注釈文。)
</code></pre>

<p>たとえば次のように書きます。</p>

<pre><code>[RubyMotion](http://rubymotion.com/)は、RubyでiOSアプリを作るれるツールです(注:日本円で20,000円程度です。)。
</code></pre>

<h4>
<a name="user-content-%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A0%85-4" class="anchor" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A0%85-4" aria-hidden="true"><span class="octicon octicon-link"></span></a>注意事項</h4>

<p>上記のように、注釈文の末尾にも「。」は必要です。
抜けがちですのでご注意ください。</p>

<p>また、注釈文も「です・ます」調で統一してください。</p>

<h3>
<a name="user-content-%E8%A1%A8" class="anchor" href="#%E8%A1%A8" aria-hidden="true"><span class="octicon octicon-link"></span></a>表</h3>

<p>HTMLでマークアップしてください。</p>

<pre><code>&lt;table summary='表1::キャプション'&gt;
    &lt;tr&gt;
        &lt;th&gt;列の説明1&lt;/th&gt;
        &lt;th&gt;列の説明2&lt;/th&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
        &lt;td&gt;内容1-1&lt;/td&gt;
        &lt;td&gt;内容2-1&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
        &lt;td&gt;内容1-2&lt;/td&gt;
        &lt;td&gt;内容2-2&lt;/td&gt;
    &lt;/tr&gt;
&lt;/table&gt;
</code></pre>

<h3>
<a name="user-content-%E5%BC%95%E7%94%A8" class="anchor" href="#%E5%BC%95%E7%94%A8" aria-hidden="true"><span class="octicon octicon-link"></span></a>引用</h3>

<p>引用は次のように書きます。</p>

<pre><code>&gt; 引用です。
</code></pre>

<h4>
<a name="user-content-%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A0%85-5" class="anchor" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A0%85-5" aria-hidden="true"><span class="octicon octicon-link"></span></a>注意事項</h4>

<p>GitHub Flavored Markdownとは異なり、複数行に分けて書いても1行になります。</p>

<pre><code>&gt; 引
&gt; 用
&gt; です。
</code></pre>

<h3>
<a name="user-content-%E5%8C%BA%E5%88%87%E3%82%8A%E7%B7%9Ahr" class="anchor" href="#%E5%8C%BA%E5%88%87%E3%82%8A%E7%B7%9Ahr" aria-hidden="true"><span class="octicon octicon-link"></span></a>区切り線（<code>&lt;hr&gt;</code>）</h3>

<pre><code>---
</code></pre>

<h3>
<a name="user-content-%E3%82%B3%E3%83%A9%E3%83%A0" class="anchor" href="#%E3%82%B3%E3%83%A9%E3%83%A0" aria-hidden="true"><span class="octicon octicon-link"></span></a>コラム</h3>

<pre><code>&lt;div class='column'&gt;
#### コラムタイトル
本文
##### コラム小見出し
本文
##### コラム小見出し
本文
&lt;/div&gt;
</code></pre>

<h3>
<a name="user-content-%E5%AD%97%E4%B8%8B%E3%81%92" class="anchor" href="#%E5%AD%97%E4%B8%8B%E3%81%92" aria-hidden="true"><span class="octicon octicon-link"></span></a>字下げ</h3>

<p>段落行頭の字下げは手動です。全角スペースを入れてください。</p>

<pre><code>　こんにちは。伊藤です。
</code></pre>

<h3>
<a name="user-content-%E6%AE%B5%E8%90%BD%E5%88%86%E3%81%91" class="anchor" href="#%E6%AE%B5%E8%90%BD%E5%88%86%E3%81%91" aria-hidden="true"><span class="octicon octicon-link"></span></a>段落分け</h3>

<p>段落分けをするには、空行（2連続の改行）を入れる必要があります。</p>

<pre><code>　こんにちは。伊藤です。

　今号から、新連載を始めます。
</code></pre>

<p>ただし、行頭で全角スペースによりインデントされている場合のみ、空行がなくても段落分けされ、上記の空行を入れた場合と同じ出力になります。</p>

<h3>
<a name="user-content-%E6%96%87%E5%AD%97%E8%A8%98%E6%B3%95" class="anchor" href="#%E6%96%87%E5%AD%97%E8%A8%98%E6%B3%95" aria-hidden="true"><span class="octicon octicon-link"></span></a>文字記法</h3>

<p>これまでの記法は段落全体を指定する段落スタイルでしたが、ここからは段落内の文中で使う文字スタイルです。</p>

<h4>
<a name="user-content-%E5%BC%B7%E8%AA%BF" class="anchor" href="#%E5%BC%B7%E8%AA%BF" aria-hidden="true"><span class="octicon octicon-link"></span></a>強調</h4>

<pre><code>**強調（ボールド）**
</code></pre>

<h4>
<a name="user-content-%E3%82%A4%E3%82%BF%E3%83%AA%E3%83%83%E3%82%AF" class="anchor" href="#%E3%82%A4%E3%82%BF%E3%83%AA%E3%83%83%E3%82%AF" aria-hidden="true"><span class="octicon octicon-link"></span></a>イタリック</h4>

<pre><code>_斜体（イタリック）_
</code></pre>

<h4>
<a name="user-content-%E6%9C%AC%E6%96%87%E4%B8%AD%E3%81%AE%E3%82%B3%E3%83%BC%E3%83%89%E3%82%84%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89html%E3%82%BF%E3%82%B0%E3%81%AE%E3%82%A8%E3%82%B9%E3%82%B1%E3%83%BC%E3%83%97" class="anchor" href="#%E6%9C%AC%E6%96%87%E4%B8%AD%E3%81%AE%E3%82%B3%E3%83%BC%E3%83%89%E3%82%84%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89html%E3%82%BF%E3%82%B0%E3%81%AE%E3%82%A8%E3%82%B9%E3%82%B1%E3%83%BC%E3%83%97" aria-hidden="true"><span class="octicon octicon-link"></span></a>本文中のコードやコマンド、HTMLタグのエスケープ</h4>

<pre><code>`code or command`
</code></pre>

<p>本文での解説中にHTMLを書きたい場合などのエスケープにもご利用ください。</p>

<pre><code>`&lt;a&gt;`
</code></pre>

<h4>
<a name="user-content-%E3%83%AB%E3%83%93" class="anchor" href="#%E3%83%AB%E3%83%93" aria-hidden="true"><span class="octicon octicon-link"></span></a>ルビ</h4>

<pre><code>&lt;span class='ruby'&gt;外村(ほかむら)&lt;/span&gt;
</code></pre>

<h4>
<a name="user-content-%E3%82%AD%E3%83%BC%E3%83%9C%E3%83%BC%E3%83%89%E3%83%95%E3%82%A9%E3%83%B3%E3%83%88" class="anchor" href="#%E3%82%AD%E3%83%BC%E3%83%9C%E3%83%BC%E3%83%89%E3%83%95%E3%82%A9%E3%83%B3%E3%83%88" aria-hidden="true"><span class="octicon octicon-link"></span></a>キーボードフォント</h4>

<pre><code>&lt;kbd&gt;A&lt;/kbd&gt;
</code></pre>

<h4>
<a name="user-content-%E4%B8%8A%E4%BB%98%E3%81%8D" class="anchor" href="#%E4%B8%8A%E4%BB%98%E3%81%8D" aria-hidden="true"><span class="octicon octicon-link"></span></a>上付き</h4>

<pre><code>&lt;sup&gt;ゴシックフォントで上付き。コラムなどでの注記で使用&lt;/sup&gt;
&lt;sup2&gt;その場のフォントで上付き。n乗など数式で使用&lt;/sup2&gt;
</code></pre>

<h4>
<a name="user-content-%E8%B5%A4%E6%96%87%E5%AD%97" class="anchor" href="#%E8%B5%A4%E6%96%87%E5%AD%97" aria-hidden="true"><span class="octicon octicon-link"></span></a>赤文字</h4>

<p>編集者へのコメントなどでご利用ください。</p>

<pre><code>&lt;span class='red'&gt;赤文字&lt;/span&gt;
</code></pre>

<p>★☆□▲などの記号は、上記記法を用いずとも自動で赤字になります。</p>

<h2>
<a name="user-content-md2inao-%E3%83%87%E3%83%99%E3%83%AD%E3%83%83%E3%83%91%E3%83%BC%E5%90%91%E3%81%91%E6%83%85%E5%A0%B1" class="anchor" href="#md2inao-%E3%83%87%E3%83%99%E3%83%AD%E3%83%83%E3%83%91%E3%83%BC%E5%90%91%E3%81%91%E6%83%85%E5%A0%B1" aria-hidden="true"><span class="octicon octicon-link"></span></a>md2inao デベロッパー向け情報</h2>

<h3>
<a name="user-content-%E3%83%86%E3%82%B9%E3%83%88%E3%81%AE%E5%AE%9F%E8%A1%8C%E3%81%AE%E4%BB%95%E6%96%B9" class="anchor" href="#%E3%83%86%E3%82%B9%E3%83%88%E3%81%AE%E5%AE%9F%E8%A1%8C%E3%81%AE%E4%BB%95%E6%96%B9" aria-hidden="true"><span class="octicon octicon-link"></span></a>テストの実行の仕方</h3>

<pre><code>% carton exec -Ilib -- prove
</code></pre>

<h3>
<a name="user-content-%E8%87%AA%E7%94%B1%E7%BD%AE%E6%8F%9B%E3%81%AE%E6%9B%B8%E3%81%8D%E6%96%B9" class="anchor" href="#%E8%87%AA%E7%94%B1%E7%BD%AE%E6%8F%9B%E3%81%AE%E6%9B%B8%E3%81%8D%E6%96%B9" aria-hidden="true"><span class="octicon octicon-link"></span></a>自由置換の書き方</h3>

<pre><code>{
    "before_filter": {
        "&lt;kbd&gt;F10&lt;/kbd&gt;" : "&lt;cFont:Key Snd Mother&gt;*&lt;cFont:&gt;",
        "&lt;kbd&gt;F11&lt;/kbd&gt;" : "&lt;cFont:Key Snd Mother&gt;+&lt;cFont:&gt;",
        "&lt;kbd&gt;F12&lt;/kbd&gt;" : "&lt;cFont:Key Snd Mother&gt;,&lt;cFont:&gt;",
        "&lt;kbd&gt;F1&lt;/kbd&gt;" : "&lt;cFont:Key Snd Mother&gt;!&lt;cFont:&gt;",
        "&lt;kbd&gt;F2&lt;/kbd&gt;" : "&lt;cFont:Key Snd Mother&gt;\"&lt;cFont:&gt;",
        "&lt;kbd&gt;End&lt;/kbd&gt;" : "&lt;cFont:Key Snd Mother&gt;n&lt;cFont:&gt;"
    },
    "after_filter": {
        "★" : "&lt;CharStyle:赤字&gt;★&lt;CharStyle:&gt;",

        "◆→◆" : "&lt;cTypeface:R-KL&gt;&lt;cFont:A-OTF リュウミン Pr5&gt;&lt;27A1&gt;&lt;cTypeface:&gt;&lt;cFont:&gt;",
        "◆←◆" : "&lt;cTypeface:R-KL&gt;&lt;cFont:A-OTF リュウミン Pr5&gt;&lt;2B05&gt;&lt;cTypeface:&gt;&lt;cFont:&gt;",
        "◆↑◆" : "&lt;cTypeface:R-KL&gt;&lt;cFont:A-OTF リュウミン Pr5&gt;&lt;2B06&gt;&lt;cTypeface:&gt;&lt;cFont:&gt;",
        "◆↓◆" : "&lt;cTypeface:R-KL&gt;&lt;cFont:A-OTF リュウミン Pr5&gt;&lt;2B07&gt;&lt;cTypeface:&gt;&lt;cFont:&gt;",

        "◆←→◆" : "&lt;21D4&gt;",
        "◆＞＝◆" : "&lt;2267&gt;",
        "◆＝＞◆" : "&lt;2266&gt;",

        "◆WDB◆" : "&lt;cstyle:ストッパ&gt;#&lt;cstyle:&gt;"
    }
}
</code></pre>

<ul class="task-list">
<li>InDesign 出力時は config/id_filter.json に書いた設定通りに出力を置換できます</li>
<li>キーには正規表現が使えます</li>
<li>JSON の文法に注意 (末尾のカンマ、" のエスケープなど)</li>
</ul><h4>
<a name="user-content-before_filter" class="anchor" href="#before_filter" aria-hidden="true"><span class="octicon octicon-link"></span></a>before_filter</h4>

<ul class="task-list">
<li>Markdown parse の前に置換</li>
<li>Markdown のテキストを置換したい時は こちら</li>
<li>HTML を置換したい時もこちら</li>
<li>値の &lt;, &gt; はエスケープされてから Markdown parser に渡されます。その後 after_filter で復元されます。(要するに書いたとおりに出力される。HTMLとして処理されることは期待できない、ということ)</li>
</ul><h4>
<a name="user-content-after_filter" class="anchor" href="#after_filter" aria-hidden="true"><span class="octicon octicon-link"></span></a>after_filter</h4>

<ul class="task-list">
<li>InDesign への変換が終わった後に置換</li>
<li>InDesign になったテキストを置換したい時はこちら</li>
<li>md 中の <code>&lt;span class="symbol"&gt;…&lt;/span&gt;</code> は after_filter 前に<code>◆…◆</code> になります</li>
</ul><h2>
<a name="user-content-authors" class="anchor" href="#authors" aria-hidden="true"><span class="octicon octicon-link"></span></a>Authors</h2>

<ul class="task-list">
<li>@typester : Original version: <a href="https://gist.github.com/typester/380428">https://gist.github.com/typester/380428</a>
</li>
<li>@inao : Current product owner &amp; maintainer</li>
<li>@naoya : Refactoring, Add some tests, Web version</li>
<li>@hsbt</li>
<li>@hokaccha</li>
<li>@suzuki</li>
<li>@gfx : Release to CPAN</li>
</ul><h2>
<a name="user-content-license" class="anchor" href="#license" aria-hidden="true"><span class="octicon octicon-link"></span></a>LICENSE</h2>

<ul class="task-list">
<li>Same as Perl</li>
</ul><h2>
<a name="user-content-contributing" class="anchor" href="#contributing" aria-hidden="true"><span class="octicon octicon-link"></span></a>Contributing</h2>

<ol class="task-list">
<li>Fork it</li>
<li>Create your feature branch (git checkout -b my-new-feature)</li>
<li>Commit your changes (git commit -am 'Add some feature')</li>
<li>Push to the branch (git push origin my-new-feature)</li>
<li>Create new Pull Request</li>
</ol><h2>
<a name="user-content-irc" class="anchor" href="#irc" aria-hidden="true"><span class="octicon octicon-link"></span></a>IRC</h2>

<ul class="task-list">
<li><code>#md2inao@freenode</code></li>
</ul></article></div>