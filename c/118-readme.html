<div class="announce instapaper_body md" data-path="README.md" id="readme"><article class="markdown-body entry-content" itemprop="mainContentOfPage"><h1>
<a name="user-content-ruby-ffi-httpswikigithubcomffiffi-" class="anchor" href="#ruby-ffi-httpswikigithubcomffiffi-" aria-hidden="true"><span class="octicon octicon-link"></span></a>ruby-ffi <a href="https://wiki.github.com/ffi/ffi">https://wiki.github.com/ffi/ffi</a> <a href="https://travis-ci.org/ffi/ffi"><img src="https://camo.githubusercontent.com/8441e1f20eba5379454b40f849d3fc92db49c4fe/68747470733a2f2f7472617669732d63692e6f72672f6666692f6666692e706e673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/ffi/ffi.png?branch=master" style="max-width:100%;"></a>
</h1>

<h2>
<a name="user-content-description" class="anchor" href="#description" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h2>

<p>Ruby-FFI is a ruby extension for programmatically loading dynamic
libraries, binding functions within them, and calling those functions
from Ruby code. Moreover, a Ruby-FFI extension works without changes
on Ruby and JRuby. <a href="https://wiki.github.com/ffi/ffi/why-use-ffi">Discover why you should write your next extension
using Ruby-FFI</a>.</p>

<h2>
<a name="user-content-featuresproblems" class="anchor" href="#featuresproblems" aria-hidden="true"><span class="octicon octicon-link"></span></a>Features/problems</h2>

<ul class="task-list">
<li>Intuitive DSL</li>
<li>Supports all C native types</li>
<li>C structs (also nested), enums and global variables</li>
<li>Callbacks from C to ruby</li>
<li>Automatic garbage collection of native memory</li>
</ul><h2>
<a name="user-content-synopsis" class="anchor" href="#synopsis" aria-hidden="true"><span class="octicon octicon-link"></span></a>Synopsis</h2>

<div class="highlight highlight-ruby"><pre><span class="nb">require</span> <span class="s1">'ffi'</span>

<span class="k">module</span> <span class="nn">MyLib</span>
  <span class="kp">extend</span> <span class="no">FFI</span><span class="o">::</span><span class="no">Library</span>
  <span class="n">ffi_lib</span> <span class="s1">'c'</span>
  <span class="n">attach_function</span> <span class="ss">:puts</span><span class="p">,</span> <span class="o">[</span> <span class="ss">:string</span> <span class="o">]</span><span class="p">,</span> <span class="ss">:int</span>
<span class="k">end</span>

<span class="no">MyLib</span><span class="o">.</span><span class="n">puts</span> <span class="s1">'Hello, World using libc!'</span>
</pre></div>

<p>For less minimalistic and more sane examples you may look at:</p>

<ul class="task-list">
<li>the samples/ folder</li>
<li>the examples on the <a href="https://wiki.github.com/ffi/ffi">wiki</a>
</li>
<li>the projects using FFI listed on this page (<a href="https://wiki.github.com/ffi/ffi/projects-using-ffi">https://wiki.github.com/ffi/ffi/projects-using-ffi</a>)</li>
</ul><h2>
<a name="user-content-requirements" class="anchor" href="#requirements" aria-hidden="true"><span class="octicon octicon-link"></span></a>Requirements</h2>

<p>You need a sane building environment in order to compile the extension.
At a minimum, you will need:</p>

<ul class="task-list">
<li>A C compiler (e.g. Xcode on OSX, gcc on everything else)</li>
<li>libffi development library - this is commonly in the libffi-dev or libffi-devel</li>
</ul><h2>
<a name="user-content-installation" class="anchor" href="#installation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installation</h2>

<p>From rubygems:</p>

<pre><code>[sudo] gem install ffi
</code></pre>

<p>or from the git repository on github:</p>

<pre><code>git clone git://github.com/ffi/ffi.git
cd ffi
rake gem:install
</code></pre>

<h2>
<a name="user-content-license" class="anchor" href="#license" aria-hidden="true"><span class="octicon octicon-link"></span></a>License</h2>

<p>The ffi library is covered by the BSD license, also see the LICENSE file.
The specs are shared with Rubyspec and are licensed by the same license
as Rubyspec, see the LICENSE.SPECS file.</p>

<h2>
<a name="user-content-credits" class="anchor" href="#credits" aria-hidden="true"><span class="octicon octicon-link"></span></a>Credits</h2>

<p>The following people have submitted code, bug reports, or otherwide contributed to the success of this project:</p>

<ul class="task-list">
<li>Alban Peignier <a href="mailto:alban.peignier@free.fr">alban.peignier@free.fr</a>
</li>
<li>Aman Gupta <a href="mailto:aman@tmm1.net">aman@tmm1.net</a>
</li>
<li>Andrea Fazzi <a href="mailto:andrea.fazzi@alcacoop.it">andrea.fazzi@alcacoop.it</a>
</li>
<li>Andreas Niederl <a href="mailto:rico32@gmx.net">rico32@gmx.net</a>
</li>
<li>Andrew Cholakian <a href="mailto:andrew@andrewvc.com">andrew@andrewvc.com</a>
</li>
<li>Antonio Terceiro <a href="mailto:terceiro@softwarelivre.org">terceiro@softwarelivre.org</a>
</li>
<li>Brian Candler <a href="mailto:B.Candler@pobox.com">B.Candler@pobox.com</a>
</li>
<li>Brian D. Burns <a href="mailto:burns180@gmail.com">burns180@gmail.com</a>
</li>
<li>Bryan Kearney <a href="mailto:bkearney@redhat.com">bkearney@redhat.com</a>
</li>
<li>Charlie Savage <a href="mailto:cfis@zerista.com">cfis@zerista.com</a>
</li>
<li>Chikanaga Tomoyuki <a href="mailto:nagachika00@gmail.com">nagachika00@gmail.com</a>
</li>
<li>Hongli Lai <a href="mailto:hongli@phusion.nl">hongli@phusion.nl</a>
</li>
<li>Ian MacLeod <a href="mailto:ian@nevir.net">ian@nevir.net</a>
</li>
<li>Jake Douglas <a href="mailto:jake@shiftedlabs.com">jake@shiftedlabs.com</a>
</li>
<li>Jean-Dominique Morani <a href="mailto:jdmorani@mac.com">jdmorani@mac.com</a>
</li>
<li>Jeremy Hinegardner <a href="mailto:jeremy@hinegardner.org">jeremy@hinegardner.org</a>
</li>
<li>Jesús García Sáez <a href="mailto:blaxter@gmail.com">blaxter@gmail.com</a>
</li>
<li>Joe Khoobyar <a href="mailto:joe@ankhcraft.com">joe@ankhcraft.com</a>
</li>
<li>Jurij Smakov <a href="mailto:jurij@wooyd.org">jurij@wooyd.org</a>
</li>
<li>KISHIMOTO, Makoto <a href="mailto:ksmakoto@dd.iij4u.or.jp">ksmakoto@dd.iij4u.or.jp</a>
</li>
<li>Kim Burgestrand <a href="mailto:kim@burgestrand.se">kim@burgestrand.se</a>
</li>
<li>Lars Kanis <a href="mailto:kanis@comcard.de">kanis@comcard.de</a>
</li>
<li>Luc Heinrich <a href="mailto:luc@honk-honk.com">luc@honk-honk.com</a>
</li>
<li>Luis Lavena <a href="mailto:luislavena@gmail.com">luislavena@gmail.com</a>
</li>
<li>Matijs van Zuijlen <a href="mailto:matijs@matijs.net">matijs@matijs.net</a>
</li>
<li>Matthew King <a href="mailto:automatthew@gmail.com">automatthew@gmail.com</a>
</li>
<li>Mike Dalessio <a href="mailto:mike.dalessio@gmail.com">mike.dalessio@gmail.com</a>
</li>
<li>NARUSE, Yui <a href="mailto:naruse@airemix.jp">naruse@airemix.jp</a>
</li>
<li>Park Heesob <a href="mailto:phasis@gmail.com">phasis@gmail.com</a>
</li>
<li>Shin Yee <a href="mailto:shinyee@speedgocomputing.com">shinyee@speedgocomputing.com</a>
</li>
<li>Stephen Bannasch <a href="mailto:stephen.bannasch@gmail.com">stephen.bannasch@gmail.com</a>
</li>
<li>Suraj N. Kurapati <a href="mailto:sunaku@gmail.com">sunaku@gmail.com</a>
</li>
<li>Sylvain Daubert <a href="mailto:sylvain.daubert@laposte.net">sylvain.daubert@laposte.net</a>
</li>
<li>Victor Costan</li>
<li><a href="mailto:beoran@gmail.com">beoran@gmail.com</a></li>
<li>ctide <a href="mailto:christide@christide.com">christide@christide.com</a>
</li>
<li>emboss <a href="mailto:Martin.Bosslet@googlemail.com">Martin.Bosslet@googlemail.com</a>
</li>
<li>hobophobe <a href="mailto:unusualtears@gmail.com">unusualtears@gmail.com</a>
</li>
<li>meh <a href="mailto:meh@paranoici.org">meh@paranoici.org</a>
</li>
<li>postmodern <a href="mailto:postmodern.mod3@gmail.com">postmodern.mod3@gmail.com</a>
</li>
<li>
<a href="mailto:wycats@gmail.com">wycats@gmail.com</a> <a href="mailto:wycats@gmail.com">wycats@gmail.com</a>
</li>
<li>Wayne Meissner <a href="mailto:wmeissner@gmail.com">wmeissner@gmail.com</a>
</li>
</ul></article></div>