<div class="announce instapaper_body textile" data-path="README.textile" id="readme"><article class="markdown-body entry-content" itemprop="mainContentOfPage"><h1>
<a name="user-content-bees-with-machine-guns" class="anchor" href="#bees-with-machine-guns" aria-hidden="true"><span class="octicon octicon-link"></span></a>Bees with Machine Guns!</h1>
<p>A utility for arming (creating) many bees (micro EC2 instances) to attack (load test) targets (web applications).</p>
<p>Also, retribution for <a href="http://kottke.org/10/10/tiny-catapult-for-throwing-pies-at-bees">this shameful act</a> against a proud hive.</p>
<h2>
<a name="user-content-dependencies" class="anchor" href="#dependencies" aria-hidden="true"><span class="octicon octicon-link"></span></a>Dependencies</h2>
<ul>
<li>Python 2.6</li>
	<li>boto</li>
	<li>paramiko</li>
</ul><h2>
<a name="user-content-installation-for-users" class="anchor" href="#installation-for-users" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installation for users</h2>
<p>Preferred:</p>
<pre>
pip install beeswithmachineguns
</pre>
<p>or, if you must:</p>
<pre>
easy_install beeswithmachineguns
</pre>
<h2>
<a name="user-content-installation-for-developers-w-virtualenv--virtualenvwrapper" class="anchor" href="#installation-for-developers-w-virtualenv--virtualenvwrapper" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installation for developers (w/ virtualenv + virtualenvwrapper)</h2>
<pre>
git clone git://github.com/newsapps/beeswithmachineguns.git
cd beeswithmachineguns
mkvirtualenv --no-site-packages bees
easy_install pip
pip install -r requirements.txt
</pre>
<h2>
<a name="user-content-configuring-ec2-credentials" class="anchor" href="#configuring-ec2-credentials" aria-hidden="true"><span class="octicon octicon-link"></span></a>Configuring EC2 credentials</h2>
<p>Bees uses boto to communicate with EC2 and thus supports all the same methods of storing credentials that it does.  These include declaring environment variables, machine-global configuration files, and per-user configuration files. You can read more about these options on <a href="http://code.google.com/p/boto/wiki/BotoConfig">boto’s configuration page</a>.</p>
<h2>
<a name="user-content-usage" class="anchor" href="#usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Usage</h2>
<p>A typical bees session looks something like this:</p>
<pre>
bees up -s 4 -g public -k frakkingtoasters
bees attack -n 10000 -c 250 -u http://www.ournewwebbyhotness.com/
bees down
</pre>
<p>This spins up 4 servers in security group ‘public’ using the EC2 keypair ‘frakkingtoasters’, whose private key is expected to reside at ~/.ssh/frakkingtoasters.pem.</p>
<p><strong>Note</strong>: the default EC2 security group is called ‘default’ and by default it locks out SSH access. I recommend creating a ‘public’ security group for use with the bees and explicitly opening port 22 on that group.</p>
<p><strong>Note 2</strong>: Always include a trailing slash when testing a root domain. The underlying load-testing tool (ab) doesn’t support raw domains.</p>
<p>It then uses those 4 servers to send 10,000 requests, 250 at a time, to attack OurNewWebbyHotness.com.</p>
<p>Lastly, it spins down the 4 servers.  <strong>Please remember to do this</strong>—we aren’t responsible for your EC2 bills.</p>
<p>For complete options type:</p>
<pre>
bees -h
</pre>
<h2>
<a name="user-content-the-caveat-please-read" class="anchor" href="#the-caveat-please-read" aria-hidden="true"><span class="octicon octicon-link"></span></a>The caveat! (PLEASE READ)</h2>
<p>(The following was cribbed from our <a href="http://blog.apps.chicagotribune.com/2010/07/08/bees-with-machine-guns/">original blog post about the bees</a>.)</p>
<p>If you decide to use the Bees, please keep in mind the following important caveat: they are, more-or-less a distributed denial-of-service attack in a fancy package and, therefore, if you point them at any server you don’t own you will behaving <strong>unethically</strong>, have your Amazon Web Services account <strong>locked-out</strong>, and be <strong>liable</strong> in a court of law for any downtime you cause.</p>
<p>You have been warned.</p>
<h2>
<a name="user-content-bugs" class="anchor" href="#bugs" aria-hidden="true"><span class="octicon octicon-link"></span></a>Bugs</h2>
<p>Please log your bugs on the <a href="http://github.com/newsapps/beeswithmachineguns/issues">Github issues tracker</a>.</p>
<h2>
<a name="user-content-credits" class="anchor" href="#credits" aria-hidden="true"><span class="octicon octicon-link"></span></a>Credits</h2>
<p>The bees are a creation of the News Applications team at the Chicago Tribune—visit <a href="http://apps.chicagotribune.com/">our blog</a> and read <a href="http://blog.apps.chicagotribune.com/2010/07/%2008/bees-with-machine-guns/">our original post about the project</a>.</p>
<p>Initial refactoring code and inspiration from <a href="http://github.com/thejefflarson">Jeff Larson</a>.</p>
<p>Thanks to everyone who reported bugs against the alpha release.</p>
<h2>
<a name="user-content-license" class="anchor" href="#license" aria-hidden="true"><span class="octicon octicon-link"></span></a>License</h2>
<p>MIT.</p></article></div>