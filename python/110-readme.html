<div class="announce instapaper_body rst" data-path="README.rst" id="readme"><article class="markdown-body entry-content" itemprop="mainContentOfPage"><h1>
<a name="user-content-newspaper-article-scraping--curation" class="anchor" href="#newspaper-article-scraping--curation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Newspaper: Article scraping &amp; curation</h1>
<a href="http://badge.fury.io/py/newspaper:alt:Latestversion"><img alt="https://badge.fury.io/py/newspaper.png" src="https://camo.githubusercontent.com/3535456671fcb57b12728d4b5aac7718cdba1486/68747470733a2f2f62616467652e667572792e696f2f70792f6e65777370617065722e706e67" data-canonical-src="https://badge.fury.io/py/newspaper.png" style="max-width:100%;"></a>
<p>Inspired by <a href="https://github.com/kennethreitz/requests">requests</a> for its simplicity and powered by <a href="http://lxml.de/">lxml</a> for its speed:</p>
<blockquote>
<p>"Newspaper is an amazing python library for extracting &amp; curating articles."
-- <a href="https://twitter.com/kennethreitz/status/419520678862548992">tweeted by</a> Kenneth Reitz, Author of <a href="https://github.com/kennethreitz/requests">requests</a></p>
<p>"Newspaper delivers Instapaper style article extraction." -- <a href="http://thechangelog.com/newspaper-delivers-instapaper-style-article-extraction/">The Changelog</a></p>
</blockquote>
<p><strong>We support 10+ languages and everything is in unicode!</strong></p>
<div class="highlight highlight-pycon"><pre>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">newspaper</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newspaper</span><span class="o">.</span><span class="n">languages</span><span class="p">()</span>

<span class="go">Your available languages are:</span>
<span class="go">input code      full name</span>

<span class="go">  ar              Arabic</span>
<span class="go">  ru              Russian</span>
<span class="go">  nl              Dutch</span>
<span class="go">  de              German</span>
<span class="go">  en              English</span>
<span class="go">  es              Spanish</span>
<span class="go">  fr              French</span>
<span class="go">  it              Italian</span>
<span class="go">  ko              Korean</span>
<span class="go">  no              Norwegian</span>
<span class="go">  pt              Portuguese</span>
<span class="go">  sv              Swedish</span>
<span class="go">  hu              Hungarian</span>
<span class="go">  fi              Finnish</span>
<span class="go">  da              Danish</span>
<span class="go">  zh              Chinese</span>
<span class="go">  id              Indonesian</span>
<span class="go">  vi              Vietnamese</span>
</pre></div>
<h2>
<a name="user-content-a-glance" class="anchor" href="#a-glance" aria-hidden="true"><span class="octicon octicon-link"></span></a>A Glance:</h2>
<div class="highlight highlight-pycon"><pre>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">newspaper</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">cnn_paper</span> <span class="o">=</span> <span class="n">newspaper</span><span class="o">.</span><span class="n">build</span><span class="p">(</span><span class="s">'http://cnn.com'</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">article</span> <span class="ow">in</span> <span class="n">cnn_paper</span><span class="o">.</span><span class="n">articles</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">print</span> <span class="n">article</span><span class="o">.</span><span class="n">url</span>
<span class="go">u'http://www.cnn.com/2013/11/27/justice/tucson-arizona-captive-girls/'</span>
<span class="go">u'http://www.cnn.com/2013/12/11/us/texas-teen-dwi-wreck/index.html'</span>
<span class="gp">...</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">category</span> <span class="ow">in</span> <span class="n">cnn_paper</span><span class="o">.</span><span class="n">category_urls</span><span class="p">():</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">print</span> <span class="n">category</span>

<span class="go">u'http://lifestyle.cnn.com'</span>
<span class="go">u'http://cnn.com/world'</span>
<span class="go">u'http://tech.cnn.com'</span>
<span class="gp">...</span>
</pre></div>
<div class="highlight highlight-pycon"><pre>
<span class="gp">&gt;&gt;&gt; </span><span class="n">article</span> <span class="o">=</span> <span class="n">cnn_paper</span><span class="o">.</span><span class="n">articles</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
<div class="highlight highlight-pycon"><pre>
<span class="gp">&gt;&gt;&gt; </span><span class="n">article</span><span class="o">.</span><span class="n">download</span><span class="p">()</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">article</span><span class="o">.</span><span class="n">html</span>
<span class="go">u'&lt;!DOCTYPE HTML&gt;&lt;html itemscope itemtype="http://...'</span>
</pre></div>
<div class="highlight highlight-pycon"><pre>
<span class="gp">&gt;&gt;&gt; </span><span class="n">article</span><span class="o">.</span><span class="n">parse</span><span class="p">()</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">article</span><span class="o">.</span><span class="n">authors</span>
<span class="go">[u'Leigh Ann Caldwell', 'John Honway']</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">article</span><span class="o">.</span><span class="n">text</span>
<span class="go">u'Washington (CNN) -- Not everyone subscribes to a New Year's resolution...'</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">article</span><span class="o">.</span><span class="n">top_image</span>
<span class="go">u'http://someCDN.com/blah/blah/blah/file.png'</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">article</span><span class="o">.</span><span class="n">movies</span>
<span class="go">[u'http://youtube.com/path/to/link.com', ...]</span>
</pre></div>
<div class="highlight highlight-pycon"><pre>
<span class="gp">&gt;&gt;&gt; </span><span class="n">article</span><span class="o">.</span><span class="n">nlp</span><span class="p">()</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">article</span><span class="o">.</span><span class="n">keywords</span>
<span class="go">['New Years', 'resolution', ...]</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">article</span><span class="o">.</span><span class="n">summary</span>
<span class="go">u'The study shows that 93% of people ...'</span>
</pre></div>
<p>Newspaper has <em>seamless</em> language extraction and detection.
If no language is specified, Newspaper will attempt to auto detect a language.</p>
<div class="highlight highlight-pycon"><pre>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">newspaper</span> <span class="kn">import</span> <span class="n">Article</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">url</span> <span class="o">=</span> <span class="s">'http://www.bbc.co.uk/zhongwen/simp/chinese_news/2012/12/121210_hongkong_politics.shtml'</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">Article</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">language</span><span class="o">=</span><span class="s">'zh'</span><span class="p">)</span> <span class="c"># Chinese</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">download</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">parse</span><span class="p">()</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">a</span><span class="o">.</span><span class="n">text</span><span class="p">[:</span><span class="mi">150</span><span class="p">]</span>
<span class="go">香港行政长官梁振英在各方压力下就其大宅的违章建</span>
<span class="go">筑（僭建）问题到立法会接受质询，并向香港民众道歉。</span>
<span class="go">梁振英在星期二（12月10日）的答问大会开始之际</span>
<span class="go">在其演说中道歉，但强调他在违章建筑问题上没有隐瞒的</span>
<span class="go">意图和动机。 一些亲北京阵营议员欢迎梁振英道歉，</span>
<span class="go">且认为应能获得香港民众接受，但这些议员也质问梁振英有</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">a</span><span class="o">.</span><span class="n">title</span>
<span class="go">港特首梁振英就住宅违建事件道歉</span>
</pre></div>
<p>If you are certain that an <em>entire</em> news source is in one language, <strong>go ahead and use the same api :)</strong></p>
<div class="highlight highlight-pycon"><pre>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">newspaper</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sina_paper</span> <span class="o">=</span> <span class="n">newspaper</span><span class="o">.</span><span class="n">build</span><span class="p">(</span><span class="s">'http://www.sina.com.cn/'</span><span class="p">,</span> <span class="n">language</span><span class="o">=</span><span class="s">'zh'</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">category</span> <span class="ow">in</span> <span class="n">sina_paper</span><span class="o">.</span><span class="n">category_urls</span><span class="p">():</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">print</span> <span class="n">category</span>
<span class="go">u'http://health.sina.com.cn'</span>
<span class="go">u'http://eladies.sina.com.cn'</span>
<span class="go">u'http://english.sina.com'</span>
<span class="gp">...</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">article</span> <span class="o">=</span> <span class="n">sina_paper</span><span class="o">.</span><span class="n">articles</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">article</span><span class="o">.</span><span class="n">download</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">article</span><span class="o">.</span><span class="n">parse</span><span class="p">()</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">article</span><span class="o">.</span><span class="n">text</span>
<span class="go">新浪武汉汽车综合 随着汽车市场的日趋成熟，</span>
<span class="go">传统的“集全家之力抱得爱车归”的全额购车模式已然过时，</span>
<span class="go">另一种轻松的新兴 车模式――金融购车正逐步成为时下消费者购</span>
<span class="go">买爱车最为时尚的消费理念，他们认为，这种新颖的购车</span>
<span class="go">模式既能在短期内</span>
<span class="gp">...</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">article</span><span class="o">.</span><span class="n">title</span>
<span class="go">两年双免0手续0利率 科鲁兹掀背金融轻松购_武汉车市_武汉汽</span>
<span class="go">车网_新浪汽车_新浪网</span>
</pre></div>
<h2>
<a name="user-content-documentation" class="anchor" href="#documentation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Documentation</h2>
<p>Check out <a href="http://newspaper.readthedocs.org">The Documentation</a> for full and detailed guides using newspaper.</p>
<p>Interested in adding a new language for us? Refer to: <a href="http://newspaper.readthedocs.org/en/latest/user_guide/advanced.html#adding-new-languages">Docs - Adding new languages</a></p>
<h2>
<a name="user-content-features" class="anchor" href="#features" aria-hidden="true"><span class="octicon octicon-link"></span></a>Features</h2>
<ul>
<li>Works in 10+ languages (English, Chinese, German, Arabic, ...)</li>
<li>Multi-threaded article download framework</li>
<li>News url identification</li>
<li>Text extraction from html</li>
<li>Top image extraction from html</li>
<li>All image extraction from html</li>
<li>Keyword extraction from text</li>
<li>Summary extraction from text</li>
<li>Author extraction from text</li>
<li>Google trending terms extraction</li>
</ul><h2>
<a name="user-content-get-it-now" class="anchor" href="#get-it-now" aria-hidden="true"><span class="octicon octicon-link"></span></a>Get it now</h2>
<p>Installing newspaper is simple with <a href="http://www.pip-installer.org/">pip</a>.
However, you will run into fixable issues if you are trying to install on ubuntu.</p>
<p><strong>If you are on ubuntu</strong>, install using the following:</p>
<pre>
# Pre-req's for lxml
$ apt-get install libxml2-dev libxslt-dev

# For PIL to recognize .jpg
$ sudo apt-get install libjpeg-dev zlib1g-dev libpng12-dev

$ easy_install lxml # NOT PIP

$ pip install newspaper

$ curl https://raw.github.com/codelucas/newspaper/master/download_corpora.py | python2.7
</pre>
<p><strong>If you are on OSX</strong>, install using the following:</p>
<pre>
# Pre-req's for lxml
$ brew install libxml2 libxslt # or the equiv command in macports

$ pip install lxml

# For PIL to recognize .jpg
$ brew install libtiff libjpeg webp little-cms2 # or the equiv with macports

$ pip install newspaper

$ curl https://raw.github.com/codelucas/newspaper/master/download_corpora.py | python2.7
</pre>
<p><strong>If you are neither using ubuntu nor mac</strong>, install with the following:</p>
<pre>
# You will most likely need to install the following libraries via your
# package manager
# for lxml: libxml2-dev libxslt-dev
# for PIL: libjpeg-dev zlib1g-dev libpng12-dev

$ pip install newspaper

$ curl https://raw.github.com/codelucas/newspaper/master/download_corpora.py | python2.7
</pre>
<p>It is also important to note that the line</p>
<pre>
$ curl https://raw.github.com/codelucas/newspaper/master/download_corpora.py | python2.7
</pre>
<p>is not needed unless you need the natural language, <tt>nlp()</tt>, features like keywords
extraction and summarization.</p>
<p>If you are using <strong>ubuntu</strong> and are still running into gcc compile errors when installing lxml, try installing
<tt>libxslt1-dev</tt> instead of <tt>libxslt-dev</tt>.</p>
<h2>
<a name="user-content-related-projects" class="anchor" href="#related-projects" aria-hidden="true"><span class="octicon octicon-link"></span></a>Related Projects</h2>
<ul>
<li>
<a href="https://github.com/cantino/ruby-readability">ruby-readability</a> is a port of arc90's readability project to Ruby.</li>
<li>
<a href="https://github.com/grangier/python-goose">python-goose</a> is a port of Gravity's goose project to Python.</li>
<li>
<a href="http://boilerpipe-web.appspot.com/">java-boilerpipe</a> is an article extraction library in Java.</li>
</ul><h2>
<a name="user-content-todo-list" class="anchor" href="#todo-list" aria-hidden="true"><span class="octicon octicon-link"></span></a>Todo List</h2>
<ul>
<li>Add a "follow_robots.txt" option in the config object.</li>
<li>Bake in the CSSSelect and BeautifulSoup dependencies</li>
</ul><h2>
<a name="user-content-license" class="anchor" href="#license" aria-hidden="true"><span class="octicon octicon-link"></span></a>LICENSE</h2>
<p>Authored and maintained by <a href="http://codelucas.com">Lucas Ou-Yang</a>.</p>
<p>Newspaper uses a lot of <a href="https://github.com/grangier/python-goose">python-goose's</a> parsing code. View their license <a href="https://github.com/codelucas/newspaper/blob/master/GOOSE-LICENSE.txt">here</a>.</p>
<p>Please feel free to <a href="mailto:lucasyangpersonal%40gmail.com">email &amp; contact me</a> if you run into issues or just would like
to talk about the future of this library and news extraction in general!</p></article></div>