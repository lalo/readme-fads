<div class="announce instapaper_body markdown" data-path="README.markdown" id="readme"><article class="markdown-body entry-content" itemprop="mainContentOfPage"><p>Modern development is highly asynchronous: isn’t it about time iOS developers had tools that made programming asynchronously powerful, easy and delightful?</p>

<p><a href="https://camo.githubusercontent.com/1475da0a67419371d70d28e1f58f0a9babd09ba1/687474703a2f2f70726f6d6973656b69742e6f72672f7075626c69632f696d672f74696768742d6865616465722e706e67" target="_blank"><img src="https://camo.githubusercontent.com/1475da0a67419371d70d28e1f58f0a9babd09ba1/687474703a2f2f70726f6d6973656b69742e6f72672f7075626c69632f696d672f74696768742d6865616465722e706e67" alt="PromiseKit" data-canonical-src="http://promisekit.org/public/img/tight-header.png" style="max-width:100%;"></a></p>

<div class="highlight highlight-objc"><pre><span class="p">[</span><span class="bp">CLLocationManager</span> <span class="n">promise</span><span class="p">].</span><span class="n">catch</span><span class="p">(</span><span class="o">^</span><span class="p">{</span>
    <span class="k">return</span> <span class="nb">self</span><span class="p">.</span><span class="n">chicagoLocation</span><span class="p">;</span>
<span class="p">}).</span><span class="n">then</span><span class="p">(</span><span class="o">^</span><span class="p">(</span><span class="bp">CLLocation</span> <span class="o">*</span><span class="n">loc</span><span class="p">){</span>
    <span class="k">return</span> <span class="p">[</span><span class="bp">NSURLConnection</span> <span class="nl">GET</span><span class="p">:</span><span class="s">@"http://user.net/%f/%f"</span><span class="p">,</span> <span class="n">loc</span><span class="p">.</span><span class="n">latitude</span><span class="p">,</span> <span class="n">loc</span><span class="p">.</span><span class="n">longitude</span><span class="p">];</span>
<span class="p">}).</span><span class="n">then</span><span class="p">(</span><span class="o">^</span><span class="p">(</span><span class="bp">NSDictionary</span> <span class="o">*</span><span class="n">user</span><span class="p">){</span>
    <span class="bp">UIAlertView</span> <span class="o">*</span><span class="n">alert</span> <span class="o">=</span> <span class="p">[</span><span class="bp">UIAlertView</span> <span class="n">new</span><span class="p">];</span>
    <span class="n">alert</span><span class="p">.</span><span class="n">title</span> <span class="o">=</span> <span class="p">[</span><span class="bp">NSString</span> <span class="nl">stringWithFormat</span><span class="p">:</span><span class="s">@"Hi, %@!"</span><span class="p">,</span> <span class="n">user</span><span class="p">.</span><span class="n">name</span><span class="p">];</span>
    <span class="p">[</span><span class="n">alert</span> <span class="nl">addButtonWithTitle</span><span class="p">:</span><span class="s">@"Bye"</span><span class="p">];</span>
    <span class="p">[</span><span class="n">alert</span> <span class="nl">addButtonWithTitle</span><span class="p">:</span><span class="s">@"Hi!"</span><span class="p">];</span>
    <span class="k">return</span> <span class="n">alert</span><span class="p">.</span><span class="n">promise</span><span class="p">;</span>
<span class="p">}).</span><span class="n">then</span><span class="p">(</span><span class="o">^</span><span class="p">(</span><span class="bp">NSNumber</span> <span class="o">*</span><span class="n">tappedButtonIndex</span><span class="p">,</span> <span class="bp">UIAlertView</span> <span class="o">*</span><span class="n">alert</span><span class="p">){</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">tappedButtonIndex</span><span class="p">.</span><span class="n">intValue</span> <span class="o">==</span> <span class="n">alert</span><span class="p">.</span><span class="n">cancelButtonIndex</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">nil</span><span class="p">;</span>
    <span class="kt">id</span> <span class="n">vc</span> <span class="o">=</span> <span class="p">[</span><span class="n">HelloViewController</span> <span class="n">new</span><span class="p">]</span>
    <span class="k">return</span> <span class="p">[</span><span class="nb">self</span> <span class="nl">promiseViewController</span><span class="p">:</span><span class="n">vc</span> <span class="nl">animated</span><span class="p">:</span><span class="nb">YES</span> <span class="nl">completion</span><span class="p">:</span><span class="nb">nil</span><span class="p">].</span><span class="n">then</span><span class="p">(</span><span class="o">^</span><span class="p">(</span><span class="kt">id</span> <span class="n">resultFromViewController</span><span class="p">){</span>
        <span class="c1">//…</span>
    <span class="p">});</span>
<span class="p">}).</span><span class="n">catch</span><span class="p">(</span><span class="o">^</span><span class="p">(</span><span class="bp">NSError</span> <span class="o">*</span><span class="n">err</span><span class="p">){</span>
    <span class="c1">//…</span>
<span class="p">});</span>
</pre></div>

<ul class="task-list">
<li>PromiseKit can and should be integrated into the other Pods you use.</li>
<li>PromiseKit is complete, well-tested and in apps on the store.</li>
</ul><p>For guides and complete documentation visit <a href="http://promisekit.org">promisekit.org</a>.</p>

<h1>
<a name="user-content-swift" class="anchor" href="#swift" aria-hidden="true"><span class="octicon octicon-link"></span></a>Swift</h1>

<p>To test the waters, PromiseKit is available as a Swift variant. If you want to use it in your app then drag and drop <code>swift/PromiseKit.xcodeproj</code> into your project.</p>

<p>Currently the Swift and Objective-C versions are indepenedent. We hope to fix that as Xcode 6 matures.</p>

<p>We provide a demo project for the Swift version, just open the provided xcodeproj.</p>

<p>Please be aware that (much like the language) the Swift version is a work in progress.</p>

<div class="highlight highlight-swift"><pre><span class="bp">CLLocationManager</span><span class="p">.</span><span class="n">promise</span><span class="p">().</span><span class="n">catch</span> <span class="p">{</span>
    <span class="c1">// If location cannot be determined, default to Chicago</span>
    <span class="k">return</span> <span class="bp">CLLocation</span><span class="p">(</span><span class="nl">latitude</span><span class="p">:</span> <span class="mf">41.89</span><span class="p">,</span> <span class="nl">longitude</span><span class="p">:</span> <span class="o">-</span><span class="mf">87.63</span><span class="p">)</span>
<span class="p">}.</span><span class="n">then</span> <span class="p">{</span>
    <span class="k">let</span> <span class="p">(</span><span class="n">lat</span><span class="p">,</span> <span class="n">lon</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="err">$</span><span class="mf">0.</span><span class="n">coordinate</span><span class="p">.</span><span class="n">latitude</span><span class="p">,</span> <span class="err">$</span><span class="mf">0.</span><span class="n">coordinate</span><span class="p">.</span><span class="n">longitude</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">NSURLConnection</span><span class="p">.</span><span class="n">GET</span><span class="p">(</span><span class="s">"http://user.net/\(lat)/\(lon)"</span><span class="p">)</span>
<span class="p">}.</span><span class="n">then</span> <span class="p">{</span> <span class="p">(</span><span class="nl">user</span><span class="p">:</span><span class="bp">NSDictionary</span><span class="p">)</span> <span class="k">in</span>
    <span class="k">let</span> <span class="n">alert</span> <span class="o">=</span> <span class="bp">UIAlertView</span><span class="p">()</span>
    <span class="n">alert</span><span class="p">.</span><span class="n">title</span> <span class="o">=</span> <span class="s">"Hi "</span> <span class="o">+</span> <span class="n">user</span><span class="p">[</span><span class="s">"name"</span><span class="p">]</span>
    <span class="n">alert</span><span class="p">.</span><span class="n">addButtonWithTitle</span><span class="p">(</span><span class="s">"Bye"</span><span class="p">)</span>
    <span class="n">alert</span><span class="p">.</span><span class="n">addButtonWithTitle</span><span class="p">(</span><span class="s">"Hi"</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">alert</span><span class="p">.</span><span class="n">promise</span><span class="p">()</span>
<span class="p">}.</span><span class="n">then</span> <span class="p">{</span> <span class="p">[</span><span class="kr">unowned</span> <span class="nb">self</span><span class="p">]</span> <span class="n">tappedButtonIndex</span> <span class="o">-&gt;</span> <span class="n">Promise</span><span class="o">&lt;</span><span class="n">Void</span><span class="o">&gt;?</span> <span class="k">in</span>
    <span class="k">if</span> <span class="n">tappedButtonIndex</span> <span class="o">==</span> <span class="mi">0</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nb">nil</span>
    <span class="p">}</span>
    <span class="k">let</span> <span class="n">vc</span> <span class="o">=</span> <span class="n">HelloViewController</span><span class="p">()</span>
    <span class="k">return</span> <span class="nb">self</span><span class="p">.</span><span class="n">promiseViewController</span><span class="p">(</span><span class="n">vc</span><span class="p">).</span><span class="n">then</span> <span class="p">{</span> <span class="p">(</span><span class="nl">modallyPresentedResult</span><span class="p">:</span><span class="n">String</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Void</span> <span class="k">in</span>
        <span class="c1">//…</span>
    <span class="p">}</span>
<span class="p">}.</span><span class="n">catch</span> <span class="p">{</span> <span class="n">error</span> <span class="k">in</span>
    <span class="c1">//…</span>
<span class="p">}</span>
</pre></div></article></div>