<div class="announce instapaper_body rdoc" data-path="README.rdoc" id="readme"><article class="markdown-body entry-content" itemprop="mainContentOfPage">
<h1>
<a name="user-content-nokogiri---" class="anchor" href="#nokogiri---" aria-hidden="true"><span class="octicon octicon-link"></span></a>Nokogiri <a href="http://travis-ci.org/sparklemotion/nokogiri"><img src="https://camo.githubusercontent.com/df009f0a6441869dd98c3a0bc25bc90a88a05a86/68747470733a2f2f7365637572652e7472617669732d63692e6f72672f737061726b6c656d6f74696f6e2f6e6f6b6f676972692e706e673f72766d3d312e392e33" data-canonical-src="https://secure.travis-ci.org/sparklemotion/nokogiri.png?rvm=1.9.3" style="max-width:100%;"></a> <a href="https://codeclimate.com/github/sparklemotion/nokogiri"><img src="https://camo.githubusercontent.com/af26453b19d289b7b7aaf6d9552178f937429d5e/68747470733a2f2f636f6465636c696d6174652e636f6d2f6769746875622f737061726b6c656d6f74696f6e2f6e6f6b6f676972692e706e67" data-canonical-src="https://codeclimate.com/github/sparklemotion/nokogiri.png" style="max-width:100%;"></a> <a href="https://www.versioneye.com/ruby/nokogiri"><img src="https://camo.githubusercontent.com/66c532a9974acf75cbec35277df4e2177eb97081/68747470733a2f2f7777772e76657273696f6e6579652e636f6d2f727562792f6e6f6b6f676972692f62616467652e706e67" alt="Dependency Status" data-canonical-src="https://www.versioneye.com/ruby/nokogiri/badge.png" style="max-width:100%;"></a>
</h1>
<ul>
<li>
<p><a href="http://nokogiri.org">nokogiri.org</a></p>
</li>
<li>
<p><a href="https://github.com/sparklemotion/nokogiri">github.com/sparklemotion/nokogiri</a></p>
</li>
<li>
<p><a href="https://groups.google.com/group/nokogiri-talk">groups.google.com/group/nokogiri-talk</a></p>
</li>
<li>
<p><a href="https://github.com/sparklemotion/nokogiri/issues">github.com/sparklemotion/nokogiri/issues</a></p>
</li>
</ul><h2>
<a name="user-content-description" class="anchor" href="#description" aria-hidden="true"><span class="octicon octicon-link"></span></a>DESCRIPTION:</h2>

<p>Nokogiri (鋸) is an HTML, XML, SAX, and Reader parser.  Among Nokogiri's
many features is the ability to search documents via XPath or CSS3
selectors.</p>

<p>XML is like violence - if it doesn’t solve your problems, you are not using
enough of it.</p>

<h2>
<a name="user-content-features" class="anchor" href="#features" aria-hidden="true"><span class="octicon octicon-link"></span></a>FEATURES:</h2>
<ul>
<li>
<p>XPath 1.0 support for document searching</p>
</li>
<li>
<p>CSS3 selector support for document searching</p>
</li>
<li>
<p>XML/HTML builder</p>
</li>
</ul><p>Nokogiri parses and searches XML/HTML very quickly, and also has correctly
implemented CSS3 selector support as well as XPath 1.0 support.</p>

<h2>
<a name="user-content-support" class="anchor" href="#support" aria-hidden="true"><span class="octicon octicon-link"></span></a>SUPPORT:</h2>

<p>Before filing a bug report, please read our <a href="http://nokogiri.org/tutorials/getting_help.html">submission
guidelines</a> at:</p>

<pre>* http://nokogiri.org/tutorials/getting_help.html</pre>

<p>The Nokogiri <a href="https://groups.google.com/group/nokogiri-talk">mailing list</a> is
available here:</p>

<pre>* https://groups.google.com/group/nokogiri-talk</pre>

<p>The <a href="https://github.com/sparklemotion/nokogiri/issues">bug
tracker</a> is available here:</p>

<pre>* https://github.com/sparklemotion/nokogiri/issues</pre>

<p>The IRC channel is #nokogiri on freenode.</p>

<h2>
<a name="user-content-synopsis" class="anchor" href="#synopsis" aria-hidden="true"><span class="octicon octicon-link"></span></a>SYNOPSIS:</h2>

<pre>require 'nokogiri'
require 'open-uri'

# Get a Nokogiri::HTML::Document for the page we’re interested in...

doc = Nokogiri::HTML(open('http://www.google.com/search?q=sparklemotion'))

# Do funky things with it using Nokogiri::XML::Node methods...

####
# Search for nodes by css
doc.css('h3.r a').each do |link|
  puts link.content
end

####
# Search for nodes by xpath
doc.xpath('//h3/a').each do |link|
  puts link.content
end

####
# Or mix and match.
doc.search('h3.r a.l', '//h3/a').each do |link|
  puts link.content
end</pre>

<h2>
<a name="user-content-requirements" class="anchor" href="#requirements" aria-hidden="true"><span class="octicon octicon-link"></span></a>REQUIREMENTS:</h2>
<ul>
<li>
<p>ruby 1.9.3 or higher</p>
</li>
<li>
<p>in Nokogiri 1.6.0 and later libxml2 and libxslt are bundled with the gem,
but if you want to use them installed on the system:</p>
<ul>
<li>
<p>libxml2 &gt;=2.6.21 and &lt;2.9.0, with iconv support (libxml2-dev/-devel
is required too)</p>
</li>
<li>
<p>libxslt, built with and supported by the given libxml2 (libxslt-dev/-devel
is required too)</p>
</li>
</ul>
</li>
</ul><h2>
<a name="user-content-encoding" class="anchor" href="#encoding" aria-hidden="true"><span class="octicon octicon-link"></span></a>ENCODING:</h2>

<p>Strings are always stored as UTF-8 internally.  Methods that return text
values will always return UTF-8 encoded strings.  Methods that return XML
(like to_xml, to_html and inner_html) will return a string encoded like the
source document.</p>

<p><b>WARNING</b></p>

<p>Some documents declare one particular encoding, but use a different one.
So, which encoding should the parser choose?</p>

<p>Remember that data is just a stream of bytes. Only we humans add meaning to
that stream. Any particular set of bytes could be valid characters in
multiple encodings, so detecting encoding with 100% accuracy is not
possible. libxml2 does its best, but it can't be right 100% of the
time.</p>

<p>If you want Nokogiri to handle the document encoding properly, your best
bet is to explicitly set the encoding.  Here is an example of explicitly
setting the encoding to EUC-JP on the parser:</p>

<pre>doc = Nokogiri.XML('&lt;foo&gt;&lt;bar /&gt;&lt;foo&gt;', nil, 'EUC-JP')</pre>

<h2>
<a name="user-content-install" class="anchor" href="#install" aria-hidden="true"><span class="octicon octicon-link"></span></a>INSTALL:</h2>
<ul><li>
<p>sudo gem install nokogiri</p>
</li></ul><h3>
<a name="user-content-binary-packages" class="anchor" href="#binary-packages" aria-hidden="true"><span class="octicon octicon-link"></span></a>Binary packages</h3>

<p>Binary packages are available for:</p>
<ul>
<li>
<p><a href="https://download.opensuse.org/repositories/devel:/languages:/ruby:/extensions/">SuSE</a></p>
</li>
<li>
<p><a href="http://s390.koji.fedoraproject.org/koji/packageinfo?packageID=6756">Fedora</a></p>
</li>
</ul><h2>
<a name="user-content-development" class="anchor" href="#development" aria-hidden="true"><span class="octicon octicon-link"></span></a>DEVELOPMENT:</h2>

<h3>
<a name="user-content-developing-on-c-ruby-mri" class="anchor" href="#developing-on-c-ruby-mri" aria-hidden="true"><span class="octicon octicon-link"></span></a>Developing on C Ruby (MRI)</h3>

<p>Developing Nokogiri requires racc and rexical to generate the parser and
tokenizer.  To start development, make sure you have `libxml2` and
`libxslt` installed.</p>

<p>Then install core gems and bootstrap:</p>

<pre>$ gem install hoe rake-compiler mini_portile
$ rake newb</pre>

<h3>
<a name="user-content-developing-on-jruby" class="anchor" href="#developing-on-jruby" aria-hidden="true"><span class="octicon octicon-link"></span></a>Developing on JRuby</h3>

<p>Currently, development with JRuby depends on CRuby being installed.  With
CRuby, install racc and rexical:</p>

<pre>$ gem install racc rexical</pre>

<p>Make sure hoe and rake compiler are installed with JRuby:</p>

<pre>$ jgem install hoe rake-compiler</pre>

<p>Then run rake:</p>

<pre>$ jruby -S rake</pre>

<h2>
<a name="user-content-license" class="anchor" href="#license" aria-hidden="true"><span class="octicon octicon-link"></span></a>LICENSE:</h2>

<p>(The MIT License)</p>

<p>Copyright © 2008 - 2013:</p>
<ul>
<li>
<p><a href="http://tenderlovemaking.com">Aaron Patterson</a></p>
</li>
<li>
<p><a href="http://mike.daless.io">Mike Dalessio</a></p>
</li>
<li>
<p><a href="http://blog.headius.com">Charles Nutter</a></p>
</li>
<li>
<p><a href="http://www.serabe.com">Sergio Arbeo</a></p>
</li>
<li>
<p><a href="http://polycrystal.org">Patrick Mahoney</a></p>
</li>
<li>
<p><a href="http://yokolet.blogspot.com">Yoko Harada</a></p>
</li>
<li>
<p><a href="https://akinori.org">Akinori MUSHA</a></p>
</li>
</ul><p>Permission is hereby granted, free of charge, to any person obtaining a
copy of this software and associated documentation files (the
'Software'), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to permit
persons to whom the Software is furnished to do so, subject to the
following conditions:</p>

<p>The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.</p>

<p>THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
USE OR OTHER DEALINGS IN THE SOFTWARE.</p></article></div>