<div class="announce instapaper_body md" data-path="README.md" id="readme"><article class="markdown-body entry-content" itemprop="mainContentOfPage"><h3>
<a name="user-content-pysonar2---a-type-inferencer-and-indexer-for-python" class="anchor" href="#pysonar2---a-type-inferencer-and-indexer-for-python" aria-hidden="true"><span class="octicon octicon-link"></span></a>PySonar2 - a type inferencer and indexer for Python</h3>

<p>PySonar2 is a type inferencer and indexer for Python, which performs
sophisticated interprocedural analysis to infer types. It is one of the
underlying technologies that power the code search engine <a href="http://www.sourcegraph.com">Sourcegraph</a>, where it has been used to
index hundreds of thousands of open source Python repositories, producing a
globally connected network of Python code. An older version of PySonar is used
internally at Google, producing high-quality semantic code index for millions of
lines of Python code.</p>

<p>To understand its properties, please refer to my blog post:</p>

<ul class="task-list">
<li><a href="http://yinwang0.wordpress.com/2010/09/12/pysonar">http://yinwang0.wordpress.com/2010/09/12/pysonar</a></li>
</ul><p><a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html">
<img src="https://camo.githubusercontent.com/87078bba575cd021d671c9f557ece1b40e76bdda/687474703a2f2f7777772e79696e77616e672e6f72672f696d616765732f7079736f6e6172322e676966" width="70%" data-canonical-src="http://www.yinwang.org/images/pysonar2.gif" style="max-width:100%;"></a></p>

<h4>
<a name="user-content-how-to-build" class="anchor" href="#how-to-build" aria-hidden="true"><span class="octicon octicon-link"></span></a>How to build</h4>

<pre><code>mvn package
</code></pre>

<h4>
<a name="user-content-how-to-use" class="anchor" href="#how-to-use" aria-hidden="true"><span class="octicon octicon-link"></span></a>How to use</h4>

<p>PySonar2 is mainly designed as a library for Python IDEs, other developer
tools and code search engines, so its interface may not be as appealing as an
end-user tool, but for your understanding of the library's capabilities, a
reasonably nice demo program has been built.</p>

<p>You can build a simple "code-browser" of the Python 2.7 standard library with
the following command line:</p>

<pre><code>java -jar target/pysonar-2.0-SNAPSHOT.jar /usr/lib/python2.7 ./html
</code></pre>

<p>This will take a few minutes. You should find some interactive HTML files inside
the <em>html</em> directory after this process.</p>

<h4>
<a name="user-content-system-requirements" class="anchor" href="#system-requirements" aria-hidden="true"><span class="octicon octicon-link"></span></a>System requirements</h4>

<ul class="task-list">
<li>Python 2.7.x</li>
<li>Python 3.x if you have Python3 files</li>
<li>Java 7</li>
<li>maven</li>
</ul><h5>
<a name="user-content-environment-variables" class="anchor" href="#environment-variables" aria-hidden="true"><span class="octicon octicon-link"></span></a>Environment variables</h5>

<p>PySonar2 uses CPython's ast package to parse Python code, so please make sure
you have <code>python</code> or <code>python3</code> installed and pointed to by the <code>PATH</code>
environment variable. If you have them in different names, please make symbol
links.</p>

<p><code>PYTHONPATH</code> environment variable is used for locating the Python standard
libraries. It is important to point it to the correct Python library, for
example</p>

<pre><code>export PYTHONPATH=/usr/lib/python2.7
</code></pre>

<p>If this is not set up correctly, you may find suboptimal results.</p>

<h5>
<a name="user-content-memory-usage" class="anchor" href="#memory-usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Memory usage</h5>

<p>PySonar2 doesn't need much memory to do analysis compared to other static
analysis tool of its class. 1.5Gb is probably enough for analyzing a medium
sized project such as Python's standard library or Django. But for generating
the HTML files, you may need quite some memory (~2.5Gb for Python 2.7 standard
lib). This is due to the highlighting code is putting all code and their HTML
tags into the memory.</p>

<h4>
<a name="user-content-license-gnu-agplv3" class="anchor" href="#license-gnu-agplv3" aria-hidden="true"><span class="octicon octicon-link"></span></a>License (GNU AGPLv3)</h4>

<p>PySonar - a type inferencer and indexer for Python</p>

<p>Copyright (c) 2013-2014 Yin Wang</p>

<p>This program is free software: you can redistribute it and/or modify
it under the terms of the GNU Affero General Public License as
published by the Free Software Foundation, either version 3 of the
License, or (at your option) any later version.</p>

<p>This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU Affero General Public License for more details.</p>

<p>You should have received a copy of the GNU Affero General Public License
along with this program.  If not, see <a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>.</p>

<h3>
<a name="user-content-donations" class="anchor" href="#donations" aria-hidden="true"><span class="octicon octicon-link"></span></a>Donations</h3>

<p>If you want to support the development of PySonar, click here to donate:</p>

<p><a href="https://www.paypal.com/cgi-bin/webscr?cmd=_donations&amp;business=F7KQH572KG8US&amp;lc=US&amp;item_number=blog&amp;currency_code=USD&amp;bn=PP%2dDonationsBF%3abtn_donate_LG%2egif%3aNonHosted"><img src="https://camo.githubusercontent.com/f896f7d176663a1559376bb56aac4bdbbbe85ed1/68747470733a2f2f7777772e70617970616c6f626a656374732e636f6d2f656e5f55532f692f62746e2f62746e5f646f6e61746543435f4c472e676966" data-canonical-src="https://www.paypalobjects.com/en_US/i/btn/btn_donateCC_LG.gif" style="max-width:100%;"></a></p></article></div>