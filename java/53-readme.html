<div class="announce instapaper_body md" data-path="README.md" id="readme"><article class="markdown-body entry-content" itemprop="mainContentOfPage"><h1>
<a name="user-content-pull-to-refresh-for-android" class="anchor" href="#pull-to-refresh-for-android" aria-hidden="true"><span class="octicon octicon-link"></span></a>Pull To Refresh for Android</h1>

<p><strong>Note</strong> This library is deprecated, a swipe refresh layout is available in the <a href="https://developer.android.com/reference/android/support/v4/widget/SwipeRefreshLayout.html">v4 support library</a>.</p>

<hr><p>This project aims to provide a reusable pull to refresh widget for Android.</p>

<p><a href="https://github.com/johannilsson/android-pulltorefresh/raw/master/android-pull-to-refresh.png" target="_blank"><img src="https://github.com/johannilsson/android-pulltorefresh/raw/master/android-pull-to-refresh.png" alt="Screenshot" style="max-width:100%;"></a></p>

<p>Repository at <a href="https://github.com/johannilsson/android-pulltorefresh">https://github.com/johannilsson/android-pulltorefresh</a>.</p>

<h2>
<a name="user-content-usage" class="anchor" href="#usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Usage</h2>

<h3>
<a name="user-content-layout" class="anchor" href="#layout" aria-hidden="true"><span class="octicon octicon-link"></span></a>Layout</h3>

<div class="highlight highlight-xml"><pre><span class="c">&lt;!--</span>
<span class="c">  The PullToRefreshListView replaces a standard ListView widget.</span>
<span class="c">--&gt;</span>
<span class="nt">&lt;com.markupartist.android.widget.PullToRefreshListView</span>
    <span class="na">android:id=</span><span class="s">"@+id/android:list"</span>
    <span class="na">android:layout_height=</span><span class="s">"fill_parent"</span>
    <span class="na">android:layout_width=</span><span class="s">"fill_parent"</span>
    <span class="nt">/&gt;</span>
</pre></div>

<h3>
<a name="user-content-activity" class="anchor" href="#activity" aria-hidden="true"><span class="octicon octicon-link"></span></a>Activity</h3>

<div class="highlight highlight-java"><pre><span class="c1">// Set a listener to be invoked when the list should be refreshed.</span>
<span class="o">((</span><span class="n">PullToRefreshListView</span><span class="o">)</span> <span class="n">getListView</span><span class="o">()).</span><span class="na">setOnRefreshListener</span><span class="o">(</span><span class="k">new</span> <span class="nf">OnRefreshListener</span><span class="o">()</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onRefresh</span><span class="o">()</span> <span class="o">{</span>
        <span class="c1">// Do work to refresh the list here.</span>
        <span class="k">new</span> <span class="nf">GetDataTask</span><span class="o">().</span><span class="na">execute</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">});</span>

<span class="kd">private</span> <span class="kd">class</span> <span class="nc">GetDataTask</span> <span class="kd">extends</span> <span class="n">AsyncTask</span><span class="o">&lt;</span><span class="n">Void</span><span class="o">,</span> <span class="n">Void</span><span class="o">,</span> <span class="n">String</span><span class="o">[]&gt;</span> <span class="o">{</span>
    <span class="o">...</span>
    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onPostExecute</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">result</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">mListItems</span><span class="o">.</span><span class="na">addFirst</span><span class="o">(</span><span class="s">"Added after refresh..."</span><span class="o">);</span>
        <span class="c1">// Call onRefreshComplete when the list has been refreshed.</span>
        <span class="o">((</span><span class="n">PullToRefreshListView</span><span class="o">)</span> <span class="n">getListView</span><span class="o">()).</span><span class="na">onRefreshComplete</span><span class="o">();</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onPostExecute</span><span class="o">(</span><span class="n">result</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>

<h3>
<a name="user-content-last-updated" class="anchor" href="#last-updated" aria-hidden="true"><span class="octicon octicon-link"></span></a>Last Updated</h3>

<p>It's possible to add a last updated time using the method <code>setLastUpdated</code>
and <code>onRefreshComplete</code>. The text provided to these methods will be set below
the Release to refresh text. Note that the time representation is not validated
replaces the previous text, which means that it's possible and recommended to
add a text similar to "Last Update: 15:23". This might be changed in future
versions.</p>

<h2>
<a name="user-content-15-support" class="anchor" href="#15-support" aria-hidden="true"><span class="octicon octicon-link"></span></a>1.5 Support</h2>

<p>To use the widget on 1.5 the necessary drawables needs to be copied to that
projects drawable folder. The drawables needed by the widget can be found in
the drawable-hdpi folder in the library project.</p>

<h2>
<a name="user-content-contributors" class="anchor" href="#contributors" aria-hidden="true"><span class="octicon octicon-link"></span></a>Contributors</h2>

<ul class="task-list">
<li>
<a href="http://www.synthable.com/">Jason Knight</a> - <a href="https://github.com/synthable">https://github.com/synthable</a>
</li>
<li>
<a href="http://eddieringle.com/">Eddie Ringle</a> - <a href="https://github.com/eddieringle">https://github.com/eddieringle</a>
</li>
<li>
<a href="http://chdorner.com">Christof Dorner</a> - <a href="https://github.com/chdorner">https://github.com/chdorner</a>
</li>
<li>
<a href="http://www.yay.se">Olof Brickarp</a> - <a href="https://github.com/coolof">https://github.com/coolof</a>
</li>
<li>
<a href="http://loopj.com/">James Smith</a> - <a href="https://github.com/loopj">https://github.com/loopj</a>
</li>
<li>
<a href="http://bytesharp.com/">Alex Volovoy</a> - <a href="https://github.com/avolovoy">https://github.com/avolovoy</a>
</li>
<li>Bo Maryniuk</li>
<li><a href="https://github.com/kidfolk">kidfolk</a></li>
<li><a href="https://github.com/timahoney">Tim Mahoney</a></li>
<li><a href="https://github.com/quiffman">Richard Guest</a></li>
</ul><h2>
<a name="user-content-are-you-using-this-widget" class="anchor" href="#are-you-using-this-widget" aria-hidden="true"><span class="octicon octicon-link"></span></a>Are you using this widget?</h2>

<p>If you are using this widget please feel free to add your app to the
<a href="https://github.com/johannilsson/android-pulltorefresh/wiki/Apps">wiki</a>.</p>

<h2>
<a name="user-content-license" class="anchor" href="#license" aria-hidden="true"><span class="octicon octicon-link"></span></a>License</h2>

<p>Copyright (c) 2011 <a href="http://markupartist.com">Johan Nilsson</a></p>

<p>Licensed under the <a href="http://www.apache.org/licenses/LICENSE-2.0.html">Apache License, Version 2.0</a></p></article></div>